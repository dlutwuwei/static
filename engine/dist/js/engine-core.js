!function e(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.AliLowCodeEngine=n():t.AliLowCodeEngine=n()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function t(){return e.default}:function t(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=60)}([function(e,t,n){"use strict";var r=n(14);n.d(t,"createIntl",(function(){return r.a})),n.d(t,"globalLocale",(function(){return r.b})),n.d(t,"intl",(function(){return r.c})),n.d(t,"shallowIntl",(function(){return r.d}));var o=n(52);n.d(t,"Editor",(function(){return o.a})),n.d(t,"commonEvent",(function(){return o.b}));var i=n(17);n.d(t,"action",(function(){return i.a})),n.d(t,"autorun",(function(){return i.b})),n.d(t,"computed",(function(){return i.c})),n.d(t,"focusTracker",(function(){return i.d})),n.d(t,"getPublicPath",(function(){return i.e})),n.d(t,"makeObservable",(function(){return i.f})),n.d(t,"mobx",(function(){return i.g})),n.d(t,"observable",(function(){return i.h})),n.d(t,"observer",(function(){return i.i})),n.d(t,"obx",(function(){return i.j})),n.d(t,"reaction",(function(){return i.k})),n.d(t,"runInAction",(function(){return i.l})),n.d(t,"runWithGlobalEventOff",(function(){return i.m})),n.d(t,"untracked",(function(){return i.n})),n.d(t,"wrapWithEventSwitch",(function(){return i.o}));var a=n(20);n.o(a,"Hotkey")&&n.d(t,"Hotkey",(function(){return a.Hotkey})),n.o(a,"Setters")&&n.d(t,"Setters",(function(){return a.Setters})),n.o(a,"Tip")&&n.d(t,"Tip",(function(){return a.Tip})),n.o(a,"TipContainer")&&n.d(t,"TipContainer",(function(){return a.TipContainer})),n.o(a,"Title")&&n.d(t,"Title",(function(){return a.Title})),n.o(a,"createModuleEventBus")&&n.d(t,"createModuleEventBus",(function(){return a.createModuleEventBus})),n.o(a,"engineConfig")&&n.d(t,"engineConfig",(function(){return a.engineConfig})),n.o(a,"globalContext")&&n.d(t,"globalContext",(function(){return a.globalContext}));var u=n(44);n.d(t,"Hotkey",(function(){return u.a}));var c=n(51);n.d(t,"Tip",(function(){return c.a})),n.d(t,"TipContainer",(function(){return c.b})),n.d(t,"Title",(function(){return c.c}));var s=n(29);n.d(t,"engineConfig",(function(){return s.a}));var l=n(13);n.d(t,"createModuleEventBus",(function(){return l.b}))},function(e,t){e.exports=window.React},function(e,t,n){"use strict";n.d(t,"d",(function(){return r.d})),n.d(t,"b",(function(){return r.c})),n.d(t,"a",(function(){return r.b})),n.d(t,"w",(function(){return k})),n.d(t,"v",(function(){return P})),n.d(t,"g",(function(){return x})),n.d(t,"h",(function(){return N})),n.d(t,"Y",(function(){return C})),n.d(t,"c",(function(){return M})),n.d(t,"j",(function(){return G})),n.d(t,"m",(function(){return fe})),n.d(t,"n",(function(){return _e})),n.d(t,"o",(function(){return Le})),n.d(t,"t",(function(){return Ie})),n.d(t,"x",(function(){return o})),n.d(t,"E",(function(){return Be})),n.d(t,"F",(function(){return Ve})),n.d(t,"P",(function(){return V})),n.d(t,"S",(function(){return se})),n.d(t,"Z",(function(){return Ue})),n.d(t,"ab",(function(){return $e})),n.d(t,"f",(function(){return ot})),n.d(t,"cb",(function(){return at})),n.d(t,"k",(function(){return Zt})),n.d(t,"p",(function(){return en})),n.d(t,"T",(function(){return tn})),n.d(t,"l",(function(){return zn})),n.d(t,"s",(function(){return Wn})),n.d(t,"q",(function(){return Xn})),n.d(t,"i",(function(){return qn})),n.d(t,"e",(function(){return mr})),n.d(t,"r",(function(){return br})),n.d(t,"W",(function(){return wr})),n.d(t,"Q",(function(){return Or})),n.d(t,"bb",(function(){return Wr})),n.d(t,"u",(function(){return rn})),n.d(t,"y",(function(){return on})),n.d(t,"z",(function(){return an})),n.d(t,"D",(function(){return un})),n.d(t,"G",(function(){return cn})),n.d(t,"H",(function(){return ln})),n.d(t,"I",(function(){return hn})),n.d(t,"J",(function(){return dn})),n.d(t,"M",(function(){return yn})),n.d(t,"O",(function(){return mn})),n.d(t,"R",(function(){return vn})),n.d(t,"U",(function(){return wn})),n.d(t,"X",(function(){return On})),n.d(t,"B",(function(){return _n})),n.d(t,"C",(function(){return jn})),n.d(t,"A",(function(){return Sn})),n.d(t,"K",(function(){return En})),n.d(t,"N",(function(){return kn})),n.d(t,"L",(function(){return Pn})),n.d(t,"V",(function(){return xn}));var r=n(4);function o(e){return/\.css(\?.*)?$/.test(e)}function i(){var e={},t=new Promise((function(t,n){e.resolve=t,e.reject=n}));return e.promise=function(){return t},e}function a(e){var t=document.createElement("script");t.text=e,document.head.appendChild(t),document.head.removeChild(t)}function u(e){var t=document.createElement("script");t.onload=r,t.onerror=r;var n=i();function r(e){t.onload=null,t.onerror=null,"load"===e.type?n.resolve():n.reject()}return t.src=e,t.async=!1,document.head.appendChild(t),n.promise()}function c(e){var t;return new Function(e)()}function s(e,t){try{return new Function(e,t)}catch(e){return console.warn("Caught error, Cant init func"),null}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */f=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),u=new P(o||[]);return r(a,"_invoke",{value:j(e,n,u)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var h={};function d(){}function v(){}function y(){}var m={};c(m,i,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(x([])));g&&g!==t&&n.call(g,i)&&(m=g);var w=y.prototype=d.prototype=Object.create(m);function O(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,u){var c=p(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==l(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function j(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return N()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=S(a,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=p(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=p(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return v.prototype=y,r(w,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},O(_.prototype),c(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(w),c(w,u,"Generator"),c(w,i,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=x,P.prototype={constructor:P,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),h},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),h}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:x(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function p(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){p(i,r,o,a,u,"next",e)}function u(e){p(i,r,o,a,u,"throw",e)}a(void 0)}))}}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function m(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e){var t=g(e,"string");return"symbol"===l(t)?t:String(t)}function g(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function w(e){return S(e)||j(e)||_(e)||O()}function O(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function j(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function S(e){if(Array.isArray(e))return E(e)}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e){return e&&e.type}function P(e){return e&&e.type===r.d.Bundle}function x(e,t){return e?{type:r.d.Bundle,assets:e,level:t}:null}function N(e,t,n,r){return t?{type:e,content:t,level:n,id:r}:null}function C(e,t){return t.packages&&(e.packages=[].concat(w(e.packages||[]),w(t.packages))),t.components&&(e.components=[].concat(w(e.components||[]),w(t.components))),T(e,t,"componentList"),T(e,t,"bizComponentList"),e}function T(e,t,n){var r;t[n]&&(e[n]&&(null===(r=t[n])||void 0===r||r.map((function(t){var r,o,i=!1;return null===(r=e[n])||void 0===r||r.map((function(e){return e.title===t.title&&(e.children=e.children.concat(t.children),i=!0),e})),!i&&(null===(o=e[n])||void 0===o||o.push(t)),t}))))}var R=function(){function e(t,n){var r;if(v(this,e),this.lastContent=void 0,this.lastUrl=void 0,this.placeholder=void 0,this.level=void 0,this.id=void 0,this.level=t,n&&(this.id=n),n&&(r=document.head.querySelector('style[data-id="'.concat(n,'"]'))),!r){r=document.createTextNode("");var o=document.head.querySelector('meta[level="'.concat(t,'"]'));o?document.head.insertBefore(r,o):document.head.appendChild(r)}this.placeholder=r}return m(e,[{key:"applyText",value:function e(t){if(this.lastContent!==t){this.lastContent=t,this.lastUrl=void 0;var n=document.createElement("style");n.setAttribute("type","text/css"),this.id&&n.setAttribute("data-id",this.id),n.appendChild(document.createTextNode(t)),document.head.insertBefore(n,this.placeholder.parentNode===document.head?this.placeholder.nextSibling:null),document.head.removeChild(this.placeholder),this.placeholder=n}}},{key:"applyUrl",value:function e(t){if(this.lastUrl!==t){this.lastContent=void 0,this.lastUrl=t;var n=document.createElement("link");n.onload=o,n.onerror=o;var r=i();return n.href=t,n.rel="stylesheet",this.id&&n.setAttribute("data-id",this.id),document.head.insertBefore(n,this.placeholder.parentNode===document.head?this.placeholder.nextSibling:null),document.head.removeChild(this.placeholder),this.placeholder=n,r.promise()}function o(e){n.onload=null,n.onerror=null,"load"===e.type?r.resolve():r.reject()}}}]),e}();function A(e,t,n,r){var o=d(n),i;try{for(o.s();!(i=o.n()).done;){var a;L(e,t,i.value,r)}}catch(e){o.e(e)}finally{o.f()}}function L(e,t,n,i){if(n){if(Array.isArray(n))return A(e,t,n,i);if(P(n))return n.assets?void(Array.isArray(n.assets)?A(e,t,n.assets,n.level||i):L(e,t,n.assets,n.level||i)):void 0;k(n)||(n=N(o(n)?r.d.CSSUrl:r.d.JSUrl,n,i));var a=n.level||i;a&&null!=r.b[a]||(a=r.b.App),n.level=a,n.type===r.d.CSSUrl||n.type==r.d.CSSText?t[a].push(n):e[a].push(n)}}var M=function(){function e(){v(this,e),this.stylePoints=new Map}return m(e,[{key:"load",value:function(){var e=h(f().mark((function e(t){var n=this,o,i,a,u;return f().wrap((function e(c){for(;;)switch(c.prev=c.next){case 0:return o={},i={},r.c.forEach((function(e){o[e]=[],i[e]=[]})),L(i,o,t),a=o[r.b.Environment].concat(o[r.b.Library],o[r.b.Theme],o[r.b.Runtime],o[r.b.App]),u=i[r.b.Environment].concat(i[r.b.Library],i[r.b.Theme],i[r.b.Runtime],i[r.b.App]),c.next=8,Promise.all(a.map((function(e){var t=e.content,o=e.level,i=e.type,a=e.id;return n.loadStyle(t,o,i===r.d.CSSUrl,a)})));case 8:return c.next=10,Promise.all(u.map((function(e){var t=e.content,o=e.type;return n.loadScript(t,o===r.d.JSUrl)})));case 10:case"end":return c.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadStyle",value:function e(t,n,r,o){var i;if(t)return o?(i=this.stylePoints.get(o))||(i=new R(n,o),this.stylePoints.set(o,i)):i=new R(n),r?i.applyUrl(t):i.applyText(t)}},{key:"loadScript",value:function e(t,n){if(t)return n?u(t):a(t)}},{key:"loadAsyncLibrary",value:function(){var e=h(f().mark((function e(t){var n,r,o,i;return f().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:for(i in n=[],r=[],o=[],t)t[i].async&&(n.push(window[t[i].library]),r.push(t[i].library),o.push(t[i]));return a.next=6,Promise.all(n).then((function(e){e.length>0&&e.map((function(e,t){var n=o[t],i=n.exportMode,a=n.exportSourceLibrary,u=n.library;return window[r[t]]="functionCall"!==i||null!=a&&a!==u?e:e(),e}))}));case 6:case"end":return a.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e){return null!==e&&"object"===D(e)}function B(e){return I(e)&&"i18n"===e.type}function V(e){if(!I(e))return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t||null===Object.getPrototypeOf(t)}function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e){var t=F(e),n;if(null==e)n=e;else if(Array.isArray(e))n=e.map((function(e){return G(e)}));else if("object"===t&&V(e))for(var r in n={},e)e.hasOwnProperty(r)&&(n[r]=G(e[r]));else n=e;return n}var H=n(1),U=["$$typeof","render","defaultProps","props","length","prototype","name","caller","callee","arguments"];function z(e,t){var n;return Object.keys(t).filter((function(e){return!U.includes(e)})).forEach((function(n){e[n]=t[n]})),e}function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,q(r.key),r)}}function X(e,t,n){return t&&K(e.prototype,t),n&&K(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function q(e){var t=Y(e,"string");return"symbol"===W(t)?t:String(t)}function Y(e,t){if("object"!==W(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function J(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}function Z(e,t){return(Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Q(e){var t=ne();return function n(){var r=re(e),o;if(t){var i=re(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return ee(this,o)}}function ee(e,t){if(t&&("object"===W(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return te(e)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var oe,ie="function"==typeof Symbol&&Symbol.for?Symbol.for("react.forward_ref"):60112;function ae(e){return e&&e.prototype&&(e.prototype.isReactComponent||e.prototype instanceof H.Component)}function ue(e){var t;return(null==e||null===(t=e.prototype)||void 0===t?void 0:t.isReactComponent)||e.$$typeof&&e.$$typeof===ie}function ce(e){return(null==e?void 0:e.$$typeof)&&(null==e?void 0:e.$$typeof)===ie}function se(e){return e&&(ae(e)||"function"==typeof e||ce(e))}function le(e){var t=function(t){J(r,t);var n=Q(r);function r(){return $(this,r),n.apply(this,arguments)}return X(r,[{key:"render",value:function t(){return Object(H.createElement)(e,this.props)}}]),r}(H.Component);return(t=z(t,e)).displayName=e.displayName,t}function fe(e,t){return Object(H.isValidElement)(e)?t?Object(H.cloneElement)(e,t):e:se(e)?Object(H.createElement)(e,t):e}var pe=n(7);function he(e){return e&&e.__esModule}function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t,n){return(t=be(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e){var t=ge(e,"string");return"symbol"===de(t)?t:String(t)}function ge(e,t){if("object"!==de(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==de(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function we(){return(we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Oe=/^(https?:)\/\//i;function _e(e,t){return e?(he(e)&&(e=e.default),"string"==typeof e?Oe.test(e)?React.createElement("img",we({src:e},t)):React.createElement(pe.Icon,we({type:e},t)):Object(H.isValidElement)(e)?Object(H.cloneElement)(e,ye({},t)):se(e)?Object(H.createElement)(e,ye({},t)):React.createElement(pe.Icon,we({},e,t))):null}var je=n(61);function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ke(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function ke(e,t){if(e){if("string"==typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(e,t):void 0}}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Te(r.key),r)}}function Ce(e,t,n){return t&&Ne(e.prototype,t),n&&Ne(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Te(e){var t=Re(e,"string");return"symbol"===Se(t)?t:String(t)}function Re(e,t){if("object"!==Se(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Se(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Ae,Le=new(function(){function e(){xe(this,e),this.states=new Set}return Ce(e,[{key:"setDragging",value:function e(t){t?this.addState("dragging"):this.removeState("dragging")}},{key:"setXResizing",value:function e(t){t?this.addState("x-resizing"):this.removeState("x-resizing")}},{key:"setYResizing",value:function e(t){t?this.addState("y-resizing"):this.removeState("y-resizing")}},{key:"setCopy",value:function e(t){t?this.addState("copy"):this.removeState("copy")}},{key:"isCopy",value:function e(){return this.states.has("copy")}},{key:"release",value:function e(){var t=Ee(this.states),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;this.removeState(r)}}catch(e){t.e(e)}finally{t.f()}}},{key:"addState",value:function e(t){this.states.has(t)||(this.states.add(t),document.documentElement.classList.add("lc-cursor-".concat(t)))}},{key:"removeState",value:function e(t){this.states.has(t)&&(this.states.delete(t),document.documentElement.classList.remove("lc-cursor-".concat(t)))}}]),e}());function Me(e){return void 0!==Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__}var De=Object.prototype.hasOwnProperty;function Ie(e,t){return e&&De.call(e,t)}function Be(e){return!!e&&e.nodeType===Node.ELEMENT_NODE}function Ve(e){var t=e.target;return!!t&&(!(!t.form&&!/^(INPUT|SELECT|TEXTAREA)$/.test(t.tagName))||!!(t instanceof HTMLElement&&/write/.test(window.getComputedStyle(t).getPropertyValue("-webkit-user-modify"))))}function Fe(e){return"function"==typeof e}var Ge=!0,He=function e(t){return Ge?null:(t.preventDefault(),t.stopPropagation(),!1)};function Ue(e){Ge=e}function ze(e,t){void 0!==Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(e,t){if(e===t)return!0;if("object"!==We(e)||null===e||"object"!==We(t)||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Ie(t,n[o])||e[n[o]]!==t[n[o]])return!1;return!0}function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}document.addEventListener("selectstart",He,!0),document.addEventListener("dragstart",He,!0);var Xe=["fill","size","viewBox","style","children"];function qe(){return(qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){Ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e,t,n){return(t=Qe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qe(e){var t=et(e,"string");return"symbol"===Ke(t)?t:String(t)}function et(e,t){if("object"!==Ke(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ke(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function tt(e,t){if(null==e)return{};var n=nt(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nt(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}var rt={xsmall:8,small:12,medium:16,large:20,xlarge:30};function ot(e){var t=e.fill,n=e.size,r=void 0===n?"medium":n,o=e.viewBox,i=e.style,a=e.children,u=tt(e,Xe);return rt.hasOwnProperty(r)&&(r=rt[r]),React.createElement("svg",qe({fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:r,height:r,viewBox:o},u,{style:Je({color:t},i)}),a)}var it=Date.now();function at(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e).concat((it++).toString(36).toLowerCase())}function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e,t,n){return(t=ft(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ft(e){var t=pt(e,"string");return"symbol"===ut(t)?t:String(t)}function pt(e,t){if("object"!==ut(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ut(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ht(e){return"string"!=typeof e?e:window[e]||dt(e)}function dt(e){if(["a","img","div","span","svg"].includes(e))return Object(H.forwardRef)((function(t,n){return Object(H.createElement)(e,st({ref:n},t),t.children)}))}function vt(e,t){var n=t.length;if(n<1||!e)return e;for(var r=0,o;r<n;){var i=t[r],a=void 0;try{o=e[i]||o}catch(e){a=e,o=null}if(0===r&&null==o&&"default"===i){if(a)return 1===n?e:null;o=e}else if(null==o)return null;e=o,r++}return o}function yt(e,t,n){if(!n)return ht(t);var r=n.exportName||n.componentName||t,o,i=ht(e[n.package]||r),a=n.exportName&&n.subName?n.subName.split("."):[];return n.destructuring?a.unshift(r):he(i)&&a.unshift("default"),vt(i,a)}function mt(e){return!!I(e)&&Object.keys(e).some((function(t){return se(e[t])}))}function bt(e,t,n){var r={};return Object.keys(t).forEach((function(o){var i=t[o];i&&"Component"===i.componentName?r[o]=n(i):se(i)?(ue(i)||(i=le(i)),r[o]=i):mt(i)?r[o]=i:(i=yt(e,o,i))&&(ue(i)||(i=le(i)),r[o]=i)})),r}function gt(e,t){var n={};return t&&t.forEach((function(t){var r;if(e[null==t||null===(r=t.npm)||void 0===r?void 0:r.package]){var o=ht(e[null==t?void 0:t.npm.package]);null!=o&&o.destructuring?Object.keys(o).forEach((function(e){"destructuring"!==e&&(n[e]=o[e])})):t.name&&(n[t.name]=o)}})),n}var wt=n(9),Ot=n.n(wt);function _t(e){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kt(r.key),r)}}function Et(e,t,n){return t&&St(e.prototype,t),n&&St(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function kt(e){var t=Pt(e,"string");return"symbol"===_t(t)?t:String(t)}function Pt(e,t){if("object"!==_t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function xt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nt(e,t)}function Nt(e,t){return(Nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Ct(e){var t=At();return function n(){var r=Lt(e),o;if(t){var i=Lt(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Tt(this,o)}}function Tt(e,t){if(t&&("object"===_t(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Rt(e)}function Rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function At(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Lt(e){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Mt=null;Ot.a.defaultMaxListeners=100;var Dt=function(e){xt(n,e);var t=Ct(n);function n(e){var r;return jt(this,n),r=t.call(this),Mt=Rt(r),Object.assign(Rt(r),e),r}return Et(n,[{key:"get",value:function e(t){return this[t]}},{key:"set",value:function e(t,n){var r=this;"string"==typeof t?this[t]=n:"object"===_t(t)&&Object.keys(t).forEach((function(e){r[e]=t[e]}))}},{key:"batchOn",value:function e(t,n){var r=this;Array.isArray(t)&&t.forEach((function(e){return r.on(e,n)}))}},{key:"batchOnce",value:function e(t,n){var r=this;Array.isArray(t)&&t.forEach((function(e){return r.once(e,n)}))}},{key:"batchOff",value:function e(t,n){var r=this;Array.isArray(t)&&t.forEach((function(e){return r.off(e,n)}))}}]),n}(Ot.a);Dt.getInstance=function(){return Mt||(Mt=new Dt),Mt};var It=n(8);function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vt(e,t,n){return(t=Ft(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ft(e){var t=Gt(e,"string");return"symbol"===Bt(t)?t:String(t)}function Gt(e,t){if("object"!==Bt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ht(e){return e&&"variable"===e.type}function Ut(e,t){var n,r=null==e||null===(n=e.options)||void 0===n?void 0:n.configure;return!!Array.isArray(r)&&r.some((function(e){var n,r;return e.name===t&&"I18nSetter"===(null==e||null===(n=e.setter)||void 0===n||null===(r=n.type)||void 0===r?void 0:r.displayName)}))}function zt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"zh-CN";return B(e)?e:Vt({type:"i18n",use:t},t,e)}function Wt(e){return"string"==typeof e}function $t(e,t){var n=200;return new Promise((function(n,r){setTimeout((function(){var o=Object(It.get)(e,t);if(o)return n(o);r()}),200)})).catch((function(){return $t(e,t)}))}function Kt(e,t){var n=Object(It.get)(e,t);return n?Promise.resolve(n):$t(e,t)}function Xt(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&(e.length===t.length&&e.every((function(e){return t.includes(e)})))}function qt(e){var t;return!(null==e||null===(t=e.getMetadata().configure)||void 0===t||!t.advanced)}function Yt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return setTimeout(e,t)}var Jt=["render","serilize","save","clone","init","upgrade"];function Zt(e){return"number"==typeof e?(console.warn("stage \u76f4\u63a5\u6307\u5b9a\u4e3a\u6570\u5b57\u7684\u4f7f\u7528\u65b9\u5f0f\u5df2\u7ecf\u8fc7\u65f6\uff0c\u5c06\u5728\u4e0b\u4e00\u7248\u672c\u79fb\u9664\uff0c\u8bf7\u76f4\u63a5\u4f7f\u7528 IPublicEnumTransformStage.Render|Serilize|Save|Clone|Init|Upgrade"),Jt[e-1]):e}function Qt(e,t,n){if(!e)throw new Error("Invariant failed: ".concat(t).concat(n?" in '".concat(n,"'"):""))}function en(e,t,n){e&&console.warn("Deprecation: ".concat(t)+(n?", use ".concat(n," instead."):""))}function tn(e){return e&&e.test&&e.exec&&e.compile}function nn(e){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rn(e){return e&&"object"===nn(e)}function on(e){return e&&(Object(H.isValidElement)(e)||se(e))}function an(e){return"string"==typeof e}function un(e){return e&&"function"==typeof e&&!ae(e)}function cn(e){return e&&"i18n"===e.type}function sn(e){return e&&"JSBlock"===e.type}function ln(e){return e&&"JSExpression"===e.type&&"function"!==e.extType}function fn(e){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pn(e){return e&&"JSExpression"===e.type&&"function"===e.extType}function hn(e){return"object"===fn(e)&&e&&"JSFunction"===e.type||pn(e)}function dn(e){return e&&"JSSlot"===e.type}function vn(e){return"package"in e}function yn(e){return!vn(e)}function mn(e){return e&&e.componentName}function bn(e){return e&&e.componentsTree}function gn(e){return(gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wn(e){return e&&"object"===gn(e)&&"componentName"in e&&!on(e)}function On(e){return V(e)&&!cn(e)}function _n(e){return e&&e.type===r.f.NodeData}function jn(e){return e&&e.type===r.f.Node}function Sn(e){return e&&e.type!==r.f.NodeData&&e.type!==r.f.Node}function En(e){return e&&e.type===r.k.Children}function kn(e){return e&&e.isNode}function Pn(e){return e&&e.target&&e.detail}function xn(e){return e&&e.isSettingField}function Nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nn(Object(n),!0).forEach((function(t){Tn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tn(e,t,n){return(t=Rn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rn(e){var t=An(e,"string");return"symbol"===Gn(t)?t:String(t)}function An(e,t){if("object"!==Gn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Gn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ln(e,t){return In(e)||Dn(e,t)||Vn(e,t)||Mn()}function Mn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Dn(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function In(e){if(Array.isArray(e))return e}function Bn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Vn(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function Vn(e,t){if(e){if("string"==typeof e)return Fn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fn(e,t):void 0}}function Fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gn(e){return(Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hn(e){if("object"===Gn(e)&&null!==e)return e.type&&e.source&&e.compiled}function Un(e){return e.type&&"actionRef"===e.type}function zn(e){if(!e)return e;if(Array.isArray(e))return e.map((function(e){return zn(e)}));if(!V(e))return e;var t,n,r;if(sn(e))return"Slot"===e.value.componentName?{type:"JSSlot",title:null===(t=e.value.props)||void 0===t?void 0:t.slotTitle,name:null===(n=e.value.props)||void 0===n?void 0:n.slotName,value:zn(e.value.children),params:null===(r=e.value.props)||void 0===r?void 0:r.slotParams}:e.value;if(Ht(e))return{type:"JSExpression",value:e.variable,mock:e.value};if(Hn(e))return{type:"JSExpression",value:e.compiled,extType:"function"};if(Un(e))return{type:"JSExpression",value:"".concat(e.id,".bind(this)")};var o={};return Object.keys(e).forEach((function(t){/^__slot__/.test(t)&&!0===e[t]||(o[t]=zn(e[t]))})),o}function Wn(e,t){var n;if(e.id===t)return e;var r=e.children,o=e.props;if(Array.isArray(r)){var i=Bn(r),a;try{for(i.s();!(a=i.n()).done;){var u;if(n=Wn(a.value,t))return n}}catch(e){i.e(e)}finally{i.f()}}return V(o)&&(n=$n(o,t))?n:void 0}function $n(e,t){for(var n,r=0,o=Object.entries(e);r<o.length;r++){var i=Ln(o[r],2),a=i[0],u=i[1];if(dn(u)){if(Array.isArray(u.value)){var c=Bn(u.value),s;try{for(c.s();!(s=c.n()).done;){var l;if(n=Wn(s.value,t))return n}}catch(e){c.e(e)}finally{c.f()}}if(n=Wn(u.value,t))return n}else if(V(u)&&(n=$n(u,t)))return n}}function Kn(e,t,n){var o=Cn({},e);return Array.isArray(t)||(t=[t]),t.reduce((function(e,t){if(t.type===r.a.MODIFIED){var n=Wn(e,t.payload.schema.id);if(!n)return e;Object.assign(n,t.payload.schema)}else if(t.type===r.a.ADDED){var o=t.payload,i=o.location,a=o.schema,u=i.parent,c=Wn(e,u.nodeId);c&&(Array.isArray(c.children)?c.children.splice(u.index,0,a):c.children||(c.children=[a]))}else if(t.type===r.a.DELETED){var s,l,f=t.payload.location.parent,p=Wn(e,f.nodeId);p&&Array.isArray(p.children)&&p.children.splice(f.index,1)}return e}),o)}var Xn=function e(t,n){if(t)return n(t)?t:e(t.getParent(),n)},qn=function e(t,n){var r,o,i=null===(r=t.componentMeta)||void 0===r||null===(o=r.advanced.callbacks)||void 0===o?void 0:o.onClickHook,a;return"function"!=typeof i||i(n,t)};function Yn(e){return(Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(n),!0).forEach((function(t){Qn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qn(e,t,n){return(t=rr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function er(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rr(r.key),r)}}function nr(e,t,n){return t&&tr(e.prototype,t),n&&tr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rr(e){var t=or(e,"string");return"symbol"===Yn(t)?t:String(t)}function or(e,t){if("object"!==Yn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Yn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var ir={debug:-1,log:0,info:0,warn:1,error:2},ar=["#daa569","#00ffff","#385e0f","#7fffd4","#00c957","#b0e0e6","#4169e1","#6a5acd","#87ceeb","#ffff00","#e3cf57","#ff9912","#eb8e55","#ffe384","#40e0d0","#a39480","#d2691e","#ff7d40","#f0e68c","#bc8f8f","#c76114","#734a12","#5e2612","#0000ff","#3d59ab","#1e90ff","#03a89e","#33a1c9","#a020f0","#a066d3","#da70d6","#dda0dd","#688e23","#2e8b57"],ur={debug:"#666666",log:"#bbbbbb",info:"#ffffff",warn:"#bbbbbb",error:"#bbbbbb"},cr={debug:"debug",log:"log",info:"info",warn:"warn",error:"error"},sr={debug:console.log,log:console.log,info:console.log,warn:console.warn,error:console.error},lr={},fr=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warn",r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=ir[n]<=ir[t],a="*"===o||r.indexOf(o)>-1;return i&&a},pr=function e(t,n){return function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return sr[t].apply(console,dr(r,n,t))}},hr=function e(t){if(!lr[t]){var n=ar[Object.keys(lr).length%ar.length];lr[t]=n}return lr[t]},dr=function e(t,n,r){var o=hr(n),i=ur[r],a=t[0],u="%c[".concat(n,"]%c[").concat(cr[r],"]:");a.forEach((function(e){I(e)?u+="%o":u+="%s"}));var c=[u,"color: ".concat(o),"color: ".concat(i)];return c=c.concat(a)},vr=function e(t,n){if(!t)return{level:n.level,bizName:n.bizName};if(t.indexOf(":")>-1){var r=t.split(":");return{level:r[0],bizName:r[1]||"*"}}return{level:t,bizName:"*"}},yr={level:"warn",bizName:"*"},mr=function(){function e(t){er(this,e),this.bizName=void 0,this.targetBizName=void 0,this.targetLevel=void 0,t=Zn(Zn({},yr),t);var n=location||{},r=(/__(?:logConf|logLevel)__=([^#/&]*)/.exec(n.href)||[])[1],o=vr(r,t);this.bizName=t.bizName,this.targetBizName=o.bizName,this.targetLevel=o.level}return nr(e,[{key:"debug",value:function e(){if(fr("debug",this.targetLevel,this.bizName,this.targetBizName)){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pr("debug",this.bizName)(n)}}},{key:"log",value:function e(){if(fr("log",this.targetLevel,this.bizName,this.targetBizName)){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pr("log",this.bizName)(n)}}},{key:"info",value:function e(){if(fr("info",this.targetLevel,this.bizName,this.targetBizName)){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pr("info",this.bizName)(n)}}},{key:"warn",value:function e(){if(fr("warn",this.targetLevel,this.bizName,this.targetBizName)){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pr("warn",this.bizName)(n)}}},{key:"error",value:function e(){if(fr("error",this.targetLevel,this.bizName,this.targetBizName)){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pr("error",this.bizName)(n)}}}]),e}();function br(e){return new mr(e)}var gr=4;function wr(e,t){return!!e.shaken||(e.target!==t.target||Math.pow(e.clientY-t.clientY,2)+Math.pow(e.clientX-t.clientX,2)>4)}function Or(e){if(!e)return!1;var t=e.split(":");return t.length>1&&t[0].length>0}var _r=["hover","focus","active","visited"],jr=/[A-Z]/g,Sr=/[-\s]+(.)?/g,Er=/:root(.*)\{.*/i,kr=/([^:]*):\s?(.*)/i;function Pr(e){var t=0,n=0,r=[];return e.split("").forEach((function(o,i){"{"===o&&t++,"}"===o&&(1===t&&(r.push(e.substring(n,i+1)),n=i+1),t--)})),r}function xr(e){return"[object String]"==={}.toString.call(e)}function Nr(e){return e.replace(jr,(function(e){return"-".concat(e)})).toLowerCase()}function Cr(e){return e.replace(Sr,(function(e,t){return t?t.toUpperCase():""}))}function Tr(e){var t=[];return Object.keys(e).forEach((function(n){t.push("  ".concat(n,": ").concat(e[n],";"))})),t.join("\n")}function Rr(e){if(!e)return{};if(e.default){var t={};return Object.keys(e).forEach((function(n){t[n]="extra"!==n?Rr(e[n]):e[n]})),t}var n={};return Object.keys(e).forEach((function(t){n[Cr(t)]=e[t]})),n}function Ar(e){if(!e)return{};if(e.default){var t={};return Object.keys(e).forEach((function(n){t[n]="extra"!==n?Ar(e[n]):e[n]})),t}var n={};return Object.keys(e).forEach((function(t){n[Nr(t)]=e[t]})),n}function Lr(e){if(!e)return":root {\n\n}";if(e.default){var t=[];return Object.keys(e).forEach((function(n){if("extra"!==n){var r=_r.indexOf(n)>-1?":":"";t.push(":root".concat("default"===n?"":"".concat(r).concat(n)," {\n").concat(Tr(Ar(e[n])),"\n}\n"))}else Array.isArray(e.extra)&&t.push(e.extra.join("\n"))})),t.join("\n")}return":root {\n".concat(Tr(Ar(e)),"\n}\n")}function Mr(e){if(!e)return{};var t={},n;return Pr(e).forEach((function(e){if(e.startsWith(":root")){var n=/:root:?(.*)?{(.*)/gi.exec(e.replace(/[\r\n]+/gi,"").trim());if(n){var r;n[1]&&n[1].trim()&&Object(It.some)(_r,(function(e){return 0===n[1].indexOf(e)}))?r=n[1].trim():n[1]&&n[1].trim()&&(r=n[1]);var o={};n[2].split(";").reduce((function(e,t){return t.indexOf("base64")>-1?e[e.length-1]+=";".concat(t):e.push(t),e}),[]).forEach((function(e){if(e&&kr.test(e)){var t=e.match(kr),n=t[1],r=t[2];n&&r&&(o[n.trim()]=r.trim())}})),r||(r="default"),t[r]=o}}else t.extra=t.extra||[],t.extra.push(e.trim())})),t}function Dr(e){try{return xr(e)?Rr(Mr(e).default):e.default?Rr(Ar(e.default)):Rr(Ar(e))}catch(e){}return{}}var Ir=n(6);function Br(e){return(Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gr(r.key),r)}}function Fr(e,t,n){return t&&Vr(e.prototype,t),n&&Vr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gr(e){var t=Hr(e,"string");return"symbol"===Br(t)?t:String(t)}function Hr(e,t){if("object"!==Br(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Br(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var zr,Wr=new(Fr((function e(){var t=this;Ur(this,e),this.emitter=new Ot.a,this.executeTransaction=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.h.REPAINT;t.emitter.emit("[".concat(n,"]startTransaction")),Object(Ir.runInAction)(e),t.emitter.emit("[".concat(n,"]endTransaction"))},this.onStartTransaction=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.h.REPAINT;return t.emitter.on("[".concat(n,"]startTransaction"),e),function(){t.emitter.off("[".concat(n,"]startTransaction"),e)}},this.onEndTransaction=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.h.REPAINT;return t.emitter.on("[".concat(n,"]endTransaction"),e),function(){t.emitter.off("[".concat(n,"]endTransaction"),e)}}})))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function e(t){for(var n,r=1,o=arguments.length;r<o;r++)for(var i in n=arguments[r])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function u(e,t,n,r){var o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i}function c(e,t){return function(n,r){t(n,r,e)}}function s(e,t,n,r,o,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var u=r.kind,c="getter"===u?"get":"setter"===u?"set":"value",s=!t&&e?r.static?e:e.prototype:null,l=t||(s?Object.getOwnPropertyDescriptor(s,r.name):{}),f,p=!1,h=n.length-1;h>=0;h--){var d={};for(var v in r)d[v]="access"===v?{}:r[v];for(var v in r.access)d.access[v]=r.access[v];d.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var y=(0,n[h])("accessor"===u?{get:l.get,set:l.set}:l[c],d);if("accessor"===u){if(void 0===y)continue;if(null===y||"object"!=typeof y)throw new TypeError("Object expected");(f=a(y.get))&&(l.get=f),(f=a(y.set))&&(l.set=f),(f=a(y.init))&&o.push(f)}else(f=a(y))&&("field"===u?o.push(f):l[c]=f)}s&&Object.defineProperty(s,r.name,l),p=!0}function l(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0}function f(e){return"symbol"==typeof e?e:"".concat(e)}function p(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function h(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function d(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,u)}c((r=r.apply(e,t||[])).next())}))}function v(e,t){var n={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(e){return function(t){return c([e,t])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(i=2&u[0]?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(!(i=n.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){n=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(6===u[0]&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(e){u=[6,e],o=0}finally{r=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var y=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function m(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||y(t,e,n)}function b(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function w(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function O(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}function _(e,t,n){if(n||2===arguments.length)for(var r=0,o=t.length,i;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function j(e){return this instanceof j?(this.v=e,this):new j(e)}function S(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(e){r[e]&&(o[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||u(e,t)}))})}function u(e,t){try{c(r[e](t))}catch(e){f(i[0][3],e)}}function c(e){e.value instanceof j?Promise.resolve(e.value.v).then(s,l):f(i[0][2],e)}function s(e){u("next",e)}function l(e){u("throw",e)}function f(e,t){e(t),i.shift(),i.length&&u(i[0][0],i[0][1])}}function E(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:j(e[r](t)),done:!1}:o?o(t):t}:o}}function k(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=b(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(t){n[t]=e[t]&&function(n){return new Promise((function(r,i){o(r,i,(n=e[t](n)).done,n.value)}))}}function o(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}}function P(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var x=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&y(t,e,n);return x(t,e),t}function C(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function R(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}function A(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return i})),n.d(t,"k",(function(){return d})),n.d(t,"h",(function(){return m})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return O}));var r={};n.r(r),n.d(r,"Change",(function(){return f})),n.d(r,"InnerChange",(function(){return p}));var o={};n.r(o),n.d(o,"Prop",(function(){return r})),n.d(o,"Rerender",(function(){return h}));var i={},a,u,c;n.r(i),n.d(i,"Node",(function(){return o})),function(e){e.Initial="init",e.Loading="loading",e.Loaded="loaded",e.Error="error"}(a||(a={})),function(e){e.ADDED="added",e.DELETED="deleted",e.MODIFIED="modified",e.COMPOSITE="composite"}(u||(u={})),function(e){e[e.Environment=1]="Environment",e[e.Library=2]="Library",e[e.Theme=3]="Theme",e[e.Runtime=4]="Runtime",e[e.Components=5]="Components",e[e.App=6]="App"}(c||(c={}));var s=[c.Environment,c.Library,c.Theme,c.Runtime,c.Components,c.App],l;!function(e){e.JSUrl="jsUrl",e.CSSUrl="cssUrl",e.CSSText="cssText",e.JSText="jsText",e.Bundle="bundle"}(l||(l={}));var f="node.prop.change",p="node.innerProp.change",h="node.edit.rerender.time",d,v,y,m,b,g,w,O,_,j,S;function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e){return e&&"object"===E(e)}!function(e){e.Children="Children",e.Prop="Prop"}(d||(d={})),function(e){e.Children="Children",e.Prop="Prop"}(v||(v={})),y||(y={}),function(e){e[e.REPAINT=0]="REPAINT"}(m||(m={})),function(e){e[e.REPAINT=0]="REPAINT"}(b||(b={})),function(e){e.Render="render",e.Serilize="serilize",e.Save="save",e.Clone="clone",e.Init="init",e.Upgrade="upgrade"}(g||(g={})),function(e){e.Render="render",e.Serilize="serilize",e.Save="save",e.Clone="clone",e.Init="init",e.Upgrade="upgrade"}(w||(w={})),function(e){e.Node="node",e.NodeData="nodedata"}(O||(O={})),function(e){e.Node="node",e.NodeData="nodedata"}(_||(_={})),function(e){e.SET_VALUE="SET_VALUE",e.SUB_VALUE_CHANGE="SUB_VALUE_CHANGE"}(j||(j={})),function(e){e.SET_VALUE="SET_VALUE",e.SUB_VALUE_CHANGE="SUB_VALUE_CHANGE"}(S||(S={}));var P=n(1);function x(e){return e&&e.prototype&&(e.prototype.isReactComponent||e.prototype instanceof P.Component)}function N(e){return e&&(x(e)||"function"==typeof e)}function C(e){return e&&(Object(P.isValidElement)(e)||N(e))}function T(e){return"string"==typeof e}function R(e){return e&&"function"==typeof e&&!x(e)}function A(e){return e&&"i18n"===e.type}function L(e){return e&&"JSBlock"===e.type}function M(e){return e&&"JSExpression"===e.type&&"function"!==e.extType}function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e){return"object"===D(e)&&e&&"JSFunction"===e.type}function B(e){return e&&"JSSlot"===e.type}function V(e){return"package"in e}function F(e){return!V(e)}function G(e){return e&&e.componentName}function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e){if("object"!==H(e))return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t||null===Object.getPrototypeOf(t)}function z(e){return e&&e.componentsTree}function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e){return e&&"object"===W(e)&&"componentName"in e&&!C(e)}function K(e){return U(e)&&!A(e)}},function(e,t,n){var r,o;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty,i="[native code]";function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var i=a.apply(null,r);i&&e.push(i)}}else if("object"===o){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var u in r)n.call(r,u)&&r[u]&&e.push(u)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(o=function(){return a}.apply(t,r=[]))||(e.exports=o)}()},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"$mobx",(function(){return De})),n.d(t,"FlowCancellationError",(function(){return $r})),n.d(t,"ObservableMap",(function(){return ci})),n.d(t,"ObservableSet",(function(){return di})),n.d(t,"Reaction",(function(){return Jn})),n.d(t,"_allowStateChanges",(function(){return nn})),n.d(t,"_allowStateChangesInsideComputed",(function(){return jr})),n.d(t,"_allowStateReadsEnd",(function(){return xn})),n.d(t,"_allowStateReadsStart",(function(){return Pn})),n.d(t,"_autoAction",(function(){return _r})),n.d(t,"_endAction",(function(){return tn})),n.d(t,"_getAdministration",(function(){return Mi})),n.d(t,"_getGlobalState",(function(){return Dn})),n.d(t,"_interceptReads",(function(){return eo})),n.d(t,"_isComputingDerivation",(function(){return mn})),n.d(t,"_resetGlobalState",(function(){return In})),n.d(t,"_startAction",(function(){return en})),n.d(t,"action",(function(){return Or})),n.d(t,"autorun",(function(){return Er})),n.d(t,"comparer",(function(){return ze})),n.d(t,"computed",(function(){return zt})),n.d(t,"configure",(function(){return Br})),n.d(t,"createAtom",(function(){return Ve})),n.d(t,"defineProperty",(function(){return bo})),n.d(t,"entries",(function(){return po})),n.d(t,"extendObservable",(function(){return Vr})),n.d(t,"flow",(function(){return Yr})),n.d(t,"flowResult",(function(){return Zr})),n.d(t,"get",(function(){return mo})),n.d(t,"getAtom",(function(){return Li})),n.d(t,"getDebugName",(function(){return Di})),n.d(t,"getDependencyTree",(function(){return Fr})),n.d(t,"getObserverTree",(function(){return Hr})),n.d(t,"has",(function(){return yo})),n.d(t,"intercept",(function(){return to})),n.d(t,"isAction",(function(){return Sr})),n.d(t,"isBoxedObservable",(function(){return cn})),n.d(t,"isComputed",(function(){return io})),n.d(t,"isComputedProp",(function(){return ao})),n.d(t,"isFlow",(function(){return Qr})),n.d(t,"isFlowCancellationError",(function(){return Kr})),n.d(t,"isObservable",(function(){return co})),n.d(t,"isObservableArray",(function(){return oi})),n.d(t,"isObservableMap",(function(){return si})),n.d(t,"isObservableObject",(function(){return _i})),n.d(t,"isObservableProp",(function(){return so})),n.d(t,"isObservableSet",(function(){return vi})),n.d(t,"keys",(function(){return lo})),n.d(t,"makeAutoObservable",(function(){return Uo})),n.d(t,"makeObservable",(function(){return Go})),n.d(t,"observable",(function(){return Vt})),n.d(t,"observe",(function(){return wo})),n.d(t,"onBecomeObserved",(function(){return Rr})),n.d(t,"onBecomeUnobserved",(function(){return Ar})),n.d(t,"onReactionError",(function(){return Zn})),n.d(t,"override",(function(){return Ye})),n.d(t,"ownKeys",(function(){return go})),n.d(t,"reaction",(function(){return xr})),n.d(t,"remove",(function(){return vo})),n.d(t,"runInAction",(function(){return jr})),n.d(t,"set",(function(){return ho})),n.d(t,"spy",(function(){return lr})),n.d(t,"toJS",(function(){return Eo})),n.d(t,"trace",(function(){return ko})),n.d(t,"transaction",(function(){return xo})),n.d(t,"untracked",(function(){return Sn})),n.d(t,"values",(function(){return fo})),n.d(t,"when",(function(){return No}));var r="Invalid value for configuration 'enforceActions', expected 'never', 'always' or 'observed'",o=function e(t,n){return"Cannot apply '"+t+"' to '"+n.toString()+"': Field not found."},i="'keys()' can only be used on observable objects, arrays, sets and maps",a="'values()' can only be used on observable objects, arrays, sets and maps",u="'entries()' can only be used on observable objects, arrays and maps",c="'set()' can only be used on observable objects, arrays and maps",s="'remove()' can only be used on observable objects, arrays and maps",l="'has()' can only be used on observable objects, arrays and maps",f="'get()' can only be used on observable objects, arrays and maps",p="Invalid annotation",h="Dynamic observable objects cannot be frozen. If you're passing observables to 3rd party component/function that calls Object.freeze, pass copy instead: toJS(observable)",d="Intercept handlers should return nothing or a change object",v="Observable arrays cannot be frozen. If you're passing observables to 3rd party component/function that calls Object.freeze, pass copy instead: toJS(observable)",y="Modification exception: the internal structure of an observable array was changed.",m=function e(t,n){return"[mobx.array] Index out of bounds, "+t+" is larger than "+n},b="mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js",g=function e(t){return"Cannot initialize from classes that inherit from Map: "+t.constructor.name},w=function e(t){return"Cannot initialize map from "+t},O=function e(t){return"Cannot convert to map from '"+t+"'"},_="mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js",j="It is not possible to get index atoms from arrays",S=function e(t){return"Cannot obtain administration from "+t},E=function e(t,n){return"the entry '"+t+"' does not exist in the observable map '"+n+"'"},k="please specify a property",P=function e(t,n){return"no observable property '"+t.toString()+"' found on the observable object '"+n+"'"},x=function e(t){return"Cannot obtain atom from "+t},N="Expecting some object",C="invalid action stack. did you forget to finish an action?",T="missing option for computed: get",R=function e(t,n){return"Cycle detected in computation "+t+": "+n},A=function e(t){return"The setter of computed value '"+t+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"},L=function e(t){return"[ComputedValue '"+t+"'] It is not possible to assign a new value to a computed value."},M="There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`",D="isolateGlobalState should be called before MobX is running any reactions",I=function e(t){return"[mobx] `observableArray."+t+"()` mutates the array in-place, which is not allowed inside a derivation. Use `array.slice()."+t+"()` instead"},B="'ownKeys()' can only be used on observable objects",V="'defineProperty()' can only be used on observable objects",F={};function G(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var H={};function U(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:H}var z=Object.assign,W=Object.getOwnPropertyDescriptor,$=Object.defineProperty,K=Object.prototype,X=[];Object.freeze(X);var q={};Object.freeze(q);var Y="undefined"!=typeof Proxy,J=Object.toString();function Z(){Y||G("Proxy not available")}function Q(e){0}function ee(){return++Ln.mobxGuid}function te(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var ne=function e(){};function re(e){return"function"==typeof e}function oe(e){var t;switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function ie(e){return null!==e&&"object"==typeof e}function ae(e){if(!ie(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===J}function ue(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function ce(e,t,n){$(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function se(e,t,n){$(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function le(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return ie(e)&&!0===e[n]}}function fe(e){return e instanceof Map}function pe(e){return e instanceof Set}var he=void 0!==Object.getOwnPropertySymbols;function de(e){var t=Object.keys(e);if(!he)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return K.propertyIsEnumerable.call(e,t)}))):t}var ve="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:he?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function ye(e){return"string"==typeof e?e:"symbol"==typeof e?e.toString():new String(e).toString()}function me(e){return null===e?null:"object"==typeof e?""+e:e}function be(e,t){return K.hasOwnProperty.call(e,t)}var ge=Object.getOwnPropertyDescriptors||function e(t){var n={};return ve(t).forEach((function(e){n[e]=W(t,e)})),n};function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ce(r.key),r)}}function Oe(e,t,n){return t&&we(e.prototype,t),n&&we(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _e(){return(_e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function je(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Se(e,t)}function Se(e,t){return(Se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ke(e,t){if(e){if("string"==typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(e,t):void 0}}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=ke(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ne(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ce(e){var t=Ne(e,"string");return"symbol"==typeof t?t:String(t)}var Te=Symbol("mobx-stored-annotations");function Re(e){function t(t,n){Ae(t,n,e)}return Object.assign(t,e)}function Ae(e,t,n){var r;be(e,Te)||ce(e,Te,_e({},e[Te])),Le(e,n,t),Je(n)||(e[Te][t]=n)}function Le(e,t,n){var r,o,i}function Me(e){return be(e,Te)||ce(e,Te,_e({},e[Te])),e[Te]}var De=Symbol("mobx administration"),Ie=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=pn.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function e(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function e(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function e(){return Wn(this)},t.reportChanged=function e(){Un(),$n(this),zn()},t.toString=function e(){return this.name_},e}(),Be=le("Atom",Ie);function Ve(e,t,n){void 0===t&&(t=ne),void 0===n&&(n=ne);var r=new Ie(e);return t!==ne&&Rr(r,t),n!==ne&&Ar(r,n),r}function Fe(e,t){return e===t}function Ge(e,t){return Bi(e,t)}function He(e,t){return Bi(e,t,1)}function Ue(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t}var ze={identity:Fe,structural:Ge,default:Ue,shallow:He};function We(e,t,n){return co(e)?e:Array.isArray(e)?Vt.array(e,{name:n}):ae(e)?Vt.object(e,void 0,{name:n}):fe(e)?Vt.map(e,{name:n}):pe(e)?Vt.set(e,{name:n}):"function"!=typeof e||Sr(e)||Qr(e)?e:ue(e)?Yr(e):_r(n,e)}function $e(e,t,n){return null==e||_i(e)||oi(e)||si(e)||vi(e)?e:Array.isArray(e)?Vt.array(e,{name:n,deep:!1}):ae(e)?Vt.object(e,void 0,{name:n,deep:!1}):fe(e)?Vt.map(e,{name:n,deep:!1}):pe(e)?Vt.set(e,{name:n,deep:!1}):void 0}function Ke(e){return e}function Xe(e,t){return Bi(e,t)?t:e}var qe="override",Ye=Re({annotationType_:qe,make_:Ze,extend_:Qe});function Je(e){return e.annotationType_===qe}function Ze(e,t){return 0}function Qe(e,t,n,r){G("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function et(e,t){return{annotationType_:e,options_:t,make_:tt,extend_:nt}}function tt(e,t,n,r){var o;if(null!=(o=this.options_)&&o.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(Sr(n.value))return 1;var i=ot(e,this,t,n,!1);return $(r,t,i),2}function nt(e,t,n,r){var o=ot(e,this,t,n);return e.defineProperty_(t,o,r)}function rt(e,t,n,r){var o=t.annotationType_,i=r.value}function ot(e,t,n,r,o){var i,a,u,c,s,l,f;void 0===o&&(o=Ln.safeDescriptors),rt(e,t,n,r);var p=r.value,h;null!=(i=t.options_)&&i.bound&&(p=p.bind(null!=(h=e.proxy_)?h:e.target_));return{value:Zt(null!=(a=null==(u=t.options_)?void 0:u.name)?a:n.toString(),p,null!=(c=null==(s=t.options_)?void 0:s.autoAction)&&c,null!=(l=t.options_)&&l.bound?null!=(f=e.proxy_)?f:e.target_:void 0),configurable:!o||e.isPlainObject_,enumerable:!1,writable:!o}}function it(e,t){return{annotationType_:e,options_:t,make_:at,extend_:ut}}function at(e,t,n,r){var o;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(o=this.options_)&&o.bound&&(!be(e.target_,t)||!Qr(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(Qr(n.value))return 1;var i=st(e,this,t,n,!1,!1);return $(r,t,i),2}function ut(e,t,n,r){var o,i=st(e,this,t,n,null==(o=this.options_)?void 0:o.bound);return e.defineProperty_(t,i,r)}function ct(e,t,n,r){var o=t.annotationType_,i=r.value}function st(e,t,n,r,o,i){void 0===i&&(i=Ln.safeDescriptors),ct(e,t,n,r);var a=r.value,u;(Qr(a)||(a=Yr(a)),o)&&((a=a.bind(null!=(u=e.proxy_)?u:e.target_)).isMobXFlow=!0);return{value:a,configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function lt(e,t){return{annotationType_:e,options_:t,make_:ft,extend_:pt}}function ft(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function pt(e,t,n,r){return ht(e,this,t,n),e.defineComputedProperty_(t,_e({},this.options_,{get:n.get,set:n.set}),r)}function ht(e,t,n,r){var o=t.annotationType_,i=r.get}function dt(e,t){return{annotationType_:e,options_:t,make_:vt,extend_:yt}}function vt(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function yt(e,t,n,r){var o,i;return mt(e,this,t,n),e.defineObservableProperty_(t,n.value,null!=(o=null==(i=this.options_)?void 0:i.enhancer)?o:We,r)}function mt(e,t,n,r){var o=t.annotationType_}var bt="true",gt=wt();function wt(e){return{annotationType_:bt,options_:e,make_:Ot,extend_:_t}}function Ot(e,t,n,r){var o,i,a,u,c,s;if(n.get)return zt.make_(e,t,n,r);if(n.set){var l=Zt(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!Ln.safeDescriptors||e.isPlainObject_,set:l})?0:2:($(r,t,{configurable:!0,set:l}),2)}if(r!==e.target_&&"function"==typeof n.value)return ue(n.value)?(null!=(u=this.options_)&&u.autoBind?Yr.bound:Yr).make_(e,t,n,r):(null!=(a=this.options_)&&a.autoBind?_r.bound:_r).make_(e,t,n,r);var f=!1===(null==(o=this.options_)?void 0:o.deep)?Vt.ref:Vt,p;"function"==typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(p=e.proxy_)?p:e.target_));return f.make_(e,t,n,r)}function _t(e,t,n,r){var o,i,a,u;if(n.get)return zt.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:!Ln.safeDescriptors||e.isPlainObject_,set:Zt(t.toString(),n.set)},r);"function"==typeof n.value&&null!=(o=this.options_)&&o.autoBind&&(n.value=n.value.bind(null!=(a=e.proxy_)?a:e.target_));return(!1===(null==(i=this.options_)?void 0:i.deep)?Vt.ref:Vt).extend_(e,t,n,r)}var jt="observable",St="observable.ref",Et="observable.shallow",kt="observable.struct",Pt={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function xt(e){return e||Pt}Object.freeze(Pt);var Nt=dt(jt),Ct=dt(St,{enhancer:Ke}),Tt=dt(Et,{enhancer:$e}),Rt=dt(kt,{enhancer:Xe}),At=Re(Nt);function Lt(e){return!0===e.deep?We:!1===e.deep?Ke:Dt(e.defaultDecorator)}function Mt(e){var t;return e?null!=(t=e.defaultDecorator)?t:wt(e):void 0}function Dt(e){var t,n;return e&&null!=(t=null==(n=e.options_)?void 0:n.enhancer)?t:We}function It(e,t,n){if(!oe(t))return co(e)?e:ae(e)?Vt.object(e,t,n):Array.isArray(e)?Vt.array(e,t):fe(e)?Vt.map(e,t):pe(e)?Vt.set(e,t):"object"==typeof e&&null!==e?e:Vt.box(e,t);Ae(e,t,Nt)}z(It,At);var Bt,Vt=z(It,{box:function e(t,n){var r=xt(n);return new un(t,Lt(r),r.name,!0,r.equals)},array:function e(t,n){var r=xt(n);return(!1===Ln.useProxies||!1===r.proxy?Ai:qo)(t,Lt(r),r.name)},map:function e(t,n){var r=xt(n);return new ci(t,Lt(r),r.name)},set:function e(t,n){var r=xt(n);return new di(t,Lt(r),r.name)},object:function e(t,n,r){return Vr(!1===Ln.useProxies||!1===(null==r?void 0:r.proxy)?gi({},r):Lo({},r),t,n)},ref:Re(Ct),shallow:Re(Tt),deep:At,struct:Re(Rt)}),Ft="computed",Gt="computed.struct",Ht=lt(Ft),Ut=lt(Gt,{equals:ze.structural}),zt=function e(t,n){if(oe(n))return Ae(t,n,Ht);if(ae(t))return Re(lt(Ft,t));var r=ae(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new ln(r)},Wt,$t;Object.assign(zt,Ht),zt.struct=Re(Ut);var Kt=0,Xt=1,qt=null!=(Wt=null==($t=W((function(){}),"name"))?void 0:$t.configurable)&&Wt,Yt={value:"action",configurable:!0,writable:!1,enumerable:!1},Jt;function Zt(e,t,n,r){function o(){return Qt(e,n,t,r||this,arguments)}return void 0===n&&(n=!1),o.isMobxAction=!0,qt&&(Yt.value=e,$(o,"name",Yt)),o}function Qt(e,t,n,r,o){var i=en(e,t,r,o);try{return n.apply(r,o)}catch(e){throw i.error_=e,e}finally{tn(i)}}function en(e,t,n,r){var o=!1,i=0,a,u=Ln.trackingDerivation,c=!t||!u;Un();var s=Ln.allowStateChanges;c&&(En(),s=rn(!0));var l,f={runAsAction_:c,prevDerivation_:u,prevAllowStateChanges_:s,prevAllowStateReads_:Pn(!0),notifySpy_:!1,startTime_:0,actionId_:Xt++,parentActionId_:Kt};return Kt=f.actionId_,f}function tn(e){Kt!==e.actionId_&&G(30),Kt=e.parentActionId_,void 0!==e.error_&&(Ln.suppressReactionErrors=!0),on(e.prevAllowStateChanges_),xn(e.prevAllowStateReads_),zn(),e.runAsAction_&&kn(e.prevDerivation_),Ln.suppressReactionErrors=!1}function nn(e,t){var n=rn(e);try{return t()}finally{on(n)}}function rn(e){var t=Ln.allowStateChanges;return Ln.allowStateChanges=e,t}function on(e){Ln.allowStateChanges=e}var an="create";Jt=Symbol.toPrimitive;var un=function(e){function t(t,n,r,o,i){var a;return void 0===r&&(r="ObservableValue"),void 0===o&&(o=!0),void 0===i&&(i=ze.default),(a=e.call(this,r)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=n,a.name_=r,a.equals=i,a.value_=n(t,void 0,r),a}je(t,e);var n=t.prototype;return n.dehanceValue=function e(t){return void 0!==this.dehancer?this.dehancer(t):t},n.set=function e(t){var n=this.value_;if((t=this.prepareNewValue_(t))!==Ln.UNCHANGED){var r=!1;0,this.setNewValue_(t)}},n.prepareNewValue_=function e(t){if(bn(this),Mo(this)){var n=Io(this,{object:this,type:Wo,newValue:t});if(!n)return Ln.UNCHANGED;t=n.newValue}return t=this.enhancer(t,this.value_,this.name_),this.equals(this.value_,t)?Ln.UNCHANGED:t},n.setNewValue_=function e(t){var n=this.value_;this.value_=t,this.reportChanged(),Bo(this)&&Fo(this,{type:Wo,object:this,newValue:t,oldValue:n})},n.get=function e(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function e(t){return Do(this,t)},n.observe_=function e(t,n){return n&&t({observableKind:"value",debugObjectName:this.name_,object:this,type:Wo,newValue:this.value_,oldValue:void 0}),Vo(this,t)},n.raw=function e(){return this.value_},n.toJSON=function e(){return this.get()},n.toString=function e(){return this.name_+"["+this.value_+"]"},n.valueOf=function e(){return me(this.get())},n[Jt]=function(){return this.valueOf()},t}(Ie),cn=le("ObservableValue",un),sn;sn=Symbol.toPrimitive;var ln=function(){function e(e){this.dependenciesState_=pn.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=pn.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new dn(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=hn.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||G(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=Zt("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?ze.structural:ze.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function e(){Xn(this)},t.onBO=function e(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function e(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function e(){if(this.isComputing_&&G(32,this.name_,this.derivation),0!==Ln.inBatch||0!==this.observers_.size||this.keepAlive_){if(Wn(this),yn(this)){var t=Ln.trackingContext;this.keepAlive_&&!t&&(Ln.trackingContext=this),this.trackAndCompute()&&Kn(this),Ln.trackingContext=t}}else yn(this)&&(this.warnAboutUntrackedRead_(),Un(),this.value_=this.computeValue_(!1),zn());var n=this.value_;if(vn(n))throw n.cause;return n},t.set=function e(t){if(this.setter_){this.isRunningSetter_&&G(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,t)}finally{this.isRunningSetter_=!1}}else G(34,this.name_)},t.trackAndCompute=function e(){var t=this.value_,n=this.dependenciesState_===pn.NOT_TRACKING_,r=this.computeValue_(!0),o=n||vn(t)||vn(r)||!this.equals_(t,r);return o&&(this.value_=r),o},t.computeValue_=function e(t){this.isComputing_=!0;var n=rn(!1),r;if(t)r=wn(this,this.derivation,this.scope_);else if(!0===Ln.disableErrorBoundaries)r=this.derivation.call(this.scope_);else try{r=this.derivation.call(this.scope_)}catch(e){r=new dn(e)}return on(n),this.isComputing_=!1,r},t.suspend_=function e(){this.keepAlive_||(jn(this),this.value_=void 0)},t.observe_=function e(t,n){var r=this,o=!0,i=void 0;return Er((function(){var e=r.get();if(!o||n){var a=En();t({observableKind:"computed",debugObjectName:r.name_,type:Wo,object:r,newValue:e,oldValue:i}),kn(a)}o=!1,i=e}))},t.warnAboutUntrackedRead_=function e(){},t.toString=function e(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function e(){return me(this.get())},t[sn]=function(){return this.valueOf()},e}(),fn=le("ComputedValue",ln),pn,hn;!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(pn||(pn={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(hn||(hn={}));var dn=function e(t){this.cause=void 0,this.cause=t};function vn(e){return e instanceof dn}function yn(e){switch(e.dependenciesState_){case pn.UP_TO_DATE_:return!1;case pn.NOT_TRACKING_:case pn.STALE_:return!0;case pn.POSSIBLY_STALE_:for(var t=Pn(!0),n=En(),r=e.observing_,o=r.length,i=0;i<o;i++){var a=r[i];if(fn(a)){if(Ln.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return kn(n),xn(t),!0}if(e.dependenciesState_===pn.STALE_)return kn(n),xn(t),!0}}return Nn(e),kn(n),xn(t),!1}}function mn(){return null!==Ln.trackingDerivation}function bn(e){var t}function gn(e){0}function wn(e,t,n){var r=Pn(!0);Nn(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++Ln.runId;var o=Ln.trackingDerivation,i;if(Ln.trackingDerivation=e,Ln.inBatch++,!0===Ln.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new dn(e)}return Ln.inBatch--,Ln.trackingDerivation=o,_n(e),On(e),xn(r),i}function On(e){}function _n(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=pn.UP_TO_DATE_,o=0,i=e.unboundDepsCount_,a=0;a<i;a++){var u=n[a];0===u.diffValue_&&(u.diffValue_=1,o!==a&&(n[o]=u),o++),u.dependenciesState_>r&&(r=u.dependenciesState_)}for(n.length=o,e.newObserving_=null,i=t.length;i--;){var c=t[i];0===c.diffValue_&&Gn(c,e),c.diffValue_=0}for(;o--;){var s=n[o];1===s.diffValue_&&(s.diffValue_=0,Fn(s,e))}r!==pn.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function jn(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Gn(t[n],e);e.dependenciesState_=pn.NOT_TRACKING_}function Sn(e){var t=En();try{return e()}finally{kn(t)}}function En(){var e=Ln.trackingDerivation;return Ln.trackingDerivation=null,e}function kn(e){Ln.trackingDerivation=e}function Pn(e){var t=Ln.allowStateReads;return Ln.allowStateReads=e,t}function xn(e){Ln.allowStateReads=e}function Nn(e){if(e.dependenciesState_!==pn.UP_TO_DATE_){e.dependenciesState_=pn.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=pn.UP_TO_DATE_}}var Cn=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],Tn=function e(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Rn=!0,An=!1,Ln=function(){var e=U();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Rn=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Tn).version&&(Rn=!1),Rn?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Tn):(setTimeout((function(){An||G(35)}),1),new Tn)}();function Mn(){if((Ln.pendingReactions.length||Ln.inBatch||Ln.isRunningReactions)&&G(36),An=!0,Rn){var e=U();0==--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),Ln=new Tn}}function Dn(){return Ln}function In(){var e=new Tn;for(var t in e)-1===Cn.indexOf(t)&&(Ln[t]=e[t]);Ln.allowStateChanges=!Ln.enforceActions}function Bn(e){return e.observers_&&e.observers_.size>0}function Vn(e){return e.observers_}function Fn(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Gn(e,t){e.observers_.delete(t),0===e.observers_.size&&Hn(e)}function Hn(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,Ln.pendingUnobservations.push(e))}function Un(){Ln.inBatch++}function zn(){if(0==--Ln.inBatch){tr();for(var e=Ln.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof ln&&n.suspend_())}Ln.pendingUnobservations=[]}}function Wn(e){gn(e);var t=Ln.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&Ln.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),e.isBeingObserved_):(0===e.observers_.size&&Ln.inBatch>0&&Hn(e),!1)}function $n(e){e.lowestObserverState_!==pn.STALE_&&(e.lowestObserverState_=pn.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===pn.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=pn.STALE_})))}function Kn(e){e.lowestObserverState_!==pn.STALE_&&(e.lowestObserverState_=pn.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===pn.POSSIBLY_STALE_?t.dependenciesState_=pn.STALE_:t.dependenciesState_===pn.UP_TO_DATE_&&(e.lowestObserverState_=pn.UP_TO_DATE_)})))}function Xn(e){e.lowestObserverState_===pn.UP_TO_DATE_&&(e.lowestObserverState_=pn.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===pn.UP_TO_DATE_&&(e.dependenciesState_=pn.POSSIBLY_STALE_,e.onBecomeStale_())})))}function qn(e,t){if(console.log("[mobx.trace] '"+e.name_+"' is invalidated due to a change in: '"+t.name_+"'"),e.isTracing_===hn.BREAK){var n=[];Yn(Fr(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name_+"'\n\nYou are entering this break point because derivation '"+e.name_+"' is being traced and '"+t.name_+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof ln?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function Yn(e,t,n){t.length>=1e3?t.push("(and many more)"):(t.push(""+"\t".repeat(n-1)+e.name),e.dependencies&&e.dependencies.forEach((function(e){return Yn(e,t,n+1)})))}var Jn=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=pn.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=hn.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function e(){this.schedule_()},t.schedule_=function e(){this.isScheduled_||(this.isScheduled_=!0,Ln.pendingReactions.push(this),tr())},t.isScheduled=function e(){return this.isScheduled_},t.runReaction_=function e(){if(!this.isDisposed_){Un(),this.isScheduled_=!1;var t=Ln.trackingContext;if(Ln.trackingContext=this,yn(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}Ln.trackingContext=t,zn()}},t.track=function e(t){if(!this.isDisposed_){Un();var n=!1,r;0,this.isRunning_=!0;var o=Ln.trackingContext;Ln.trackingContext=this;var i=wn(this,t,void 0);Ln.trackingContext=o,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&jn(this),vn(i)&&this.reportExceptionInDerivation_(i.cause),zn()}},t.reportExceptionInDerivation_=function e(t){var n=this;if(this.errorHandler_)this.errorHandler_(t,this);else{if(Ln.disableErrorBoundaries)throw t;var r="[mobx] uncaught error in '"+this+"'";Ln.suppressReactionErrors||console.error(r,t),Ln.globalReactionErrorHandlers.forEach((function(e){return e(t,n)}))}},t.dispose=function e(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(Un(),jn(this),zn()))},t.getDisposer_=function e(){var t=this.dispose.bind(this);return t[De]=this,t},t.toString=function e(){return"Reaction["+this.name_+"]"},t.trace=function e(t){void 0===t&&(t=!1),ko(this,t)},e}();function Zn(e){return Ln.globalReactionErrorHandlers.push(e),function(){var t=Ln.globalReactionErrorHandlers.indexOf(e);t>=0&&Ln.globalReactionErrorHandlers.splice(t,1)}}var Qn=100,er=function e(t){return t()};function tr(){Ln.inBatch>0||Ln.isRunningReactions||er(nr)}function nr(){Ln.isRunningReactions=!0;for(var e=Ln.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction_()}Ln.isRunningReactions=!1}var rr=le("Reaction",Jn);function or(e){var t=er;er=function n(r){return e((function(){return t(r)}))}}function ir(){return!1}function ar(e){var t,n,r}function ur(e){var t}var cr={type:"report-end",spyReportEnd:!0};function sr(e){}function lr(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var fr="action",pr="action.bound",hr="autoAction",dr="autoAction.bound",vr="<unnamed action>",yr=et(fr),mr=et(pr,{bound:!0}),br=et(hr,{autoAction:!0}),gr=et(dr,{autoAction:!0,bound:!0});function wr(e){var t;return function t(n,r){return re(n)?Zt(n.name||"<unnamed action>",n,e):re(r)?Zt(n,r,e):oe(r)?Ae(n,r,e?br:yr):oe(n)?Re(et(e?hr:fr,{name:n,autoAction:e})):void 0}}var Or=wr(!1);Object.assign(Or,yr);var _r=wr(!0);function jr(e){return Qt(e.name||"<unnamed action>",!1,e,this,void 0)}function Sr(e){return re(e)&&!0===e.isMobxAction}function Er(e,t){var n,r;void 0===t&&(t=q);var o=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun",i,a;if(!t.scheduler&&!t.delay)a=new Jn(o,(function(){this.track(s)}),t.onError,t.requiresObservable);else{var u=Pr(t),c=!1;a=new Jn(o,(function(){c||(c=!0,u((function(){c=!1,a.isDisposed_||a.track(s)})))}),t.onError,t.requiresObservable)}function s(){e(a)}return a.schedule_(),a.getDisposer_()}Object.assign(_r,br),Or.bound=Re(mr),_r.bound=Re(gr);var kr=function e(t){return t()};function Pr(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:kr}function xr(e,t,n){var r;void 0===n&&(n=q);var o=null!=(r=n.name)?r:"Reaction",i=Or(o,n.onError?Nr(n.onError,t):t),a=!n.scheduler&&!n.delay,u=Pr(n),c=!0,s=!1,l,f,p=n.compareStructural?ze.structural:n.equals||ze.default,h=new Jn(o,(function(){c||a?d():s||(s=!0,u(d))}),n.onError,n.requiresObservable);function d(){if(s=!1,!h.isDisposed_){var t=!1;h.track((function(){var n=nn(!1,(function(){return e(h)}));t=c||!p(l,n),f=l,l=n})),(c&&n.fireImmediately||!c&&t)&&i(l,f,h),c=!1}}return h.schedule_(),h.getDisposer_()}function Nr(e,t){return function(){try{return t.apply(this,arguments)}catch(t){e.call(this,t)}}}var Cr="onBO",Tr="onBUO";function Rr(e,t,n){return Lr("onBO",e,t,n)}function Ar(e,t,n){return Lr("onBUO",e,t,n)}function Lr(e,t,n,r){var o="function"==typeof r?Li(t,n):Li(t),i=re(r)?r:n,a=e+"L";return o[a]?o[a].add(i):o[a]=new Set([i]),function(){var e=o[a];e&&(e.delete(i),0===e.size&&delete o[a])}}var Mr="never",Dr="always",Ir="observed";function Br(e){!0===e.isolateGlobalState&&Mn();var t=e.useProxies,n=e.enforceActions;if(void 0!==t&&(Ln.useProxies=t===Dr||t!==Mr&&"undefined"!=typeof Proxy),"ifavailable"===t&&(Ln.verifyProxies=!0),void 0!==n){var r=n===Dr?Dr:n===Ir;Ln.enforceActions=r,Ln.allowStateChanges=!0!==r&&r!==Dr}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(Ln[t]=!!e[t])})),Ln.allowStateReads=!Ln.observableRequiresReaction,e.reactionScheduler&&or(e.reactionScheduler)}function Vr(e,t,n,r){var o=ge(t),i=gi(e,r)[De];Un();try{ve(o).forEach((function(e){i.extend_(e,o[e],!n||(!(e in n)||n[e]))}))}finally{zn()}return e}function Fr(e,t){return Gr(Li(e,t))}function Gr(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=zr(e.observing_).map(Gr)),t}function Hr(e,t){return Ur(Li(e,t))}function Ur(e){var t={name:e.name_};return Bn(e)&&(t.observers=Array.from(Vn(e)).map(Ur)),t}function zr(e){return Array.from(new Set(e))}var Wr=0;function $r(){this.message="FLOW_CANCELLED"}function Kr(e){return e instanceof $r}$r.prototype=Object.create(Error.prototype);var Xr=it("flow"),qr=it("flow.bound",{bound:!0}),Yr=Object.assign((function e(t,n){if(oe(n))return Ae(t,n,Xr);var r=t,o=r.name||"<unnamed flow>",i=function e(){var t=this,n=arguments,i=++Wr,a=Or(o+" - runid: "+i+" - init",r).apply(t,n),u,c=void 0,s=new Promise((function(e,t){var n=0;function r(e){var r;c=void 0;try{r=Or(o+" - runid: "+i+" - yield "+n++,a.next).call(a,e)}catch(e){return t(e)}l(r)}function s(e){var r;c=void 0;try{r=Or(o+" - runid: "+i+" - yield "+n++,a.throw).call(a,e)}catch(e){return t(e)}l(r)}function l(n){if(!re(null==n?void 0:n.then))return n.done?e(n.value):(c=Promise.resolve(n.value)).then(r,s);n.then(l,t)}u=t,r(void 0)}));return s.cancel=Or(o+" - runid: "+i+" - cancel",(function(){try{c&&Jr(c);var e=a.return(void 0),t=Promise.resolve(e.value);t.then(ne,ne),Jr(t),u(new $r)}catch(e){u(e)}})),s};return i.isMobXFlow=!0,i}),Xr);function Jr(e){re(e.cancel)&&e.cancel()}function Zr(e){return e}function Qr(e){return!0===(null==e?void 0:e.isMobXFlow)}function eo(e,t,n){var r;return si(e)||oi(e)||cn(e)?r=Mi(e):_i(e)&&(r=Mi(e,t)),r.dehancer="function"==typeof t?t:n,function(){r.dehancer=void 0}}function to(e,t,n){return re(n)?ro(e,t,n):no(e,t)}function no(e,t){return Mi(e).intercept_(t)}function ro(e,t,n){return Mi(e,t).intercept_(n)}function oo(e,t){if(void 0===t)return fn(e);if(!1===_i(e))return!1;if(!e[De].values_.has(t))return!1;var n=Li(e,t);return fn(n)}function io(e){return oo(e)}function ao(e,t){return oo(e,t)}function uo(e,t){return!!e&&(void 0!==t?!!_i(e)&&e[De].values_.has(t):_i(e)||!!e[De]||Be(e)||rr(e)||fn(e))}function co(e){return uo(e)}function so(e,t){return uo(e,t)}function lo(e){return _i(e)?e[De].keys_():si(e)||vi(e)?Array.from(e.keys()):oi(e)?e.map((function(e,t){return t})):void G(5)}function fo(e){return _i(e)?lo(e).map((function(t){return e[t]})):si(e)?lo(e).map((function(t){return e.get(t)})):vi(e)?Array.from(e.values()):oi(e)?e.slice():void G(6)}function po(e){return _i(e)?lo(e).map((function(t){return[t,e[t]]})):si(e)?lo(e).map((function(t){return[t,e.get(t)]})):vi(e)?Array.from(e.entries()):oi(e)?e.map((function(e,t){return[t,e]})):void G(7)}function ho(e,t,n){if(2!==arguments.length||vi(e))_i(e)?e[De].set_(t,n):si(e)?e.set(t,n):vi(e)?e.add(t):oi(e)?("number"!=typeof t&&(t=parseInt(t,10)),t<0&&G("Invalid index: '"+t+"'"),Un(),t>=e.length&&(e.length=t+1),e[t]=n,zn()):G(8);else{Un();var r=t;try{for(var o in r)ho(e,o,r[o])}finally{zn()}}}function vo(e,t){_i(e)?e[De].delete_(t):si(e)||vi(e)?e.delete(t):oi(e)?("number"!=typeof t&&(t=parseInt(t,10)),e.splice(t,1)):G(9)}function yo(e,t){return _i(e)?e[De].has_(t):si(e)||vi(e)?e.has(t):oi(e)?t>=0&&t<e.length:void G(10)}function mo(e,t){if(yo(e,t))return _i(e)?e[De].get_(t):si(e)?e.get(t):oi(e)?e[t]:void G(11)}function bo(e,t,n){if(_i(e))return e[De].defineProperty_(t,n);G(39)}function go(e){if(_i(e))return e[De].ownKeys_();G(38)}function wo(e,t,n,r){return re(n)?_o(e,t,n,r):Oo(e,t,n)}function Oo(e,t,n){return Mi(e).observe_(t,n)}function _o(e,t,n,r){return Mi(e,t).observe_(n,r)}function jo(e,t,n){return e.set(t,n),n}function So(e,t){if(null==e||"object"!=typeof e||e instanceof Date||!co(e))return e;if(cn(e)||fn(e))return So(e.get(),t);if(t.has(e))return t.get(e);if(oi(e)){var n=jo(t,e,new Array(e.length));return e.forEach((function(e,r){n[r]=So(e,t)})),n}if(vi(e)){var r=jo(t,e,new Set);return e.forEach((function(e){r.add(So(e,t))})),r}if(si(e)){var o=jo(t,e,new Map);return e.forEach((function(e,n){o.set(n,So(e,t))})),o}var i=jo(t,e,{});return go(e).forEach((function(n){K.propertyIsEnumerable.call(e,n)&&(i[n]=So(e[n],t))})),i}function Eo(e,t){return So(e,new Map)}function ko(){G("trace() is not available in production builds");for(var e=!1,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"boolean"==typeof n[n.length-1]&&(e=n.pop());var o=Po(n);if(!o)return G("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");o.isTracing_===hn.NONE&&console.log("[mobx.trace] '"+o.name_+"' tracing enabled"),o.isTracing_=e?hn.BREAK:hn.LOG}function Po(e){switch(e.length){case 0:return Ln.trackingDerivation;case 1:return Li(e[0]);case 2:return Li(e[0],e[1])}}function xo(e,t){void 0===t&&(t=void 0),Un();try{return e.apply(t)}finally{zn()}}function No(e,t,n){return 1===arguments.length||t&&"object"==typeof t?To(e,t):Co(e,t,n||{})}function Co(e,t,n){var r;if("number"==typeof n.timeout){var o=new Error("WHEN_TIMEOUT");r=setTimeout((function(){if(!a[De].isDisposed_){if(a(),!n.onError)throw o;n.onError(o)}}),n.timeout)}n.name="When";var i=Zt("When-effect",t),a=Er((function(t){var n;nn(!1,e)&&(t.dispose(),r&&clearTimeout(r),i())}),n);return a}function To(e,t){var n,r,o;if(null!=t&&null!=(n=t.signal)&&n.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function e(){return null}});var i=new Promise((function(n,i){var a,u=Co(e,n,_e({},t,{onError:i}));r=function e(){u(),i(new Error("WHEN_CANCELLED"))},o=function e(){u(),i(new Error("WHEN_ABORTED"))},null==t||null==(a=t.signal)||null==a.addEventListener||a.addEventListener("abort",o)})).finally((function(){var e;return null==t||null==(e=t.signal)||null==e.removeEventListener?void 0:e.removeEventListener("abort",o)}));return i.cancel=r,i}function Ro(e){return e[De]}Yr.bound=Re(qr);var Ao={has:function e(t,n){return Ro(t).has_(n)},get:function e(t,n){return Ro(t).get_(n)},set:function e(t,n,r){var o;return!!oe(n)&&(null==(o=Ro(t).set_(n,r,!0))||o)},deleteProperty:function e(t,n){var r;return!!oe(n)&&(null==(r=Ro(t).delete_(n,!0))||r)},defineProperty:function e(t,n,r){var o;return null==(o=Ro(t).defineProperty_(n,r))||o},ownKeys:function e(t){return Ro(t).ownKeys_()},preventExtensions:function e(t){G(13)}};function Lo(e,t){var n,r;return Z(),null!=(r=(n=(e=gi(e,t))[De]).proxy_)?r:n.proxy_=new Proxy(e,Ao)}function Mo(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function Do(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),te((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Io(e,t){var n=En();try{for(var r=[].concat(e.interceptors_||[]),o=0,i=r.length;o<i&&((t=r[o](t))&&!t.type&&G(14),t);o++);return t}finally{kn(n)}}function Bo(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function Vo(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),te((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Fo(e,t){var n=En(),r=e.changeListeners_;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](t);kn(n)}}function Go(e,t,n){var r=gi(e,n)[De];Un();try{var o;0,null!=(o=t)||(t=Me(e)),ve(t).forEach((function(e){return r.make_(e,t[e])}))}finally{zn()}return e}var Ho=Symbol("mobx-keys");function Uo(e,t,n){if(ae(e))return Vr(e,e,t,n);var r=gi(e,n)[De];if(!e[Ho]){var o=Object.getPrototypeOf(e),i=new Set([].concat(ve(e),ve(o)));i.delete("constructor"),i.delete(De),ce(o,Ho,i)}Un();try{e[Ho].forEach((function(e){return r.make_(e,!t||(!(e in t)||t[e]))}))}finally{zn()}return e}var zo="splice",Wo="update",$o=1e4,Ko={get:function e(t,n){var r=t[De];return n===De?r:"length"===n?r.getArrayLength_():"string"!=typeof n||isNaN(n)?be(Yo,n)?Yo[n]:t[n]:r.get_(parseInt(n))},set:function e(t,n,r){var o=t[De];return"length"===n&&o.setArrayLength_(r),"symbol"==typeof n||isNaN(n)?t[n]=r:o.set_(parseInt(n),r),!0},preventExtensions:function e(){G(15)}},Xo=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new Ie(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function e(t){return void 0!==this.dehancer?this.dehancer(t):t},t.dehanceValues_=function e(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},t.intercept_=function e(t){return Do(this,t)},t.observe_=function e(t,n){return void 0===n&&(n=!1),n&&t({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Vo(this,t)},t.getArrayLength_=function e(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function e(t){("number"!=typeof t||isNaN(t)||t<0)&&G("Out of range: "+t);var n=this.values_.length;if(t!==n)if(t>n){for(var r=new Array(t-n),o=0;o<t-n;o++)r[o]=void 0;this.spliceWithArray_(n,0,r)}else this.spliceWithArray_(t,n-t)},t.updateArrayLength_=function e(t,n){t!==this.lastKnownLength_&&G(16),this.lastKnownLength_+=n,this.legacyMode_&&n>0&&Ri(t+n+1)},t.spliceWithArray_=function e(t,n,r){var o=this;bn(this.atom_);var i=this.values_.length;if(void 0===t?t=0:t>i?t=i:t<0&&(t=Math.max(0,i+t)),n=1===arguments.length?i-t:null==n?0:Math.max(0,Math.min(n,i-t)),void 0===r&&(r=X),Mo(this)){var a=Io(this,{object:this.proxy_,type:zo,index:t,removedCount:n,added:r});if(!a)return X;n=a.removedCount,r=a.added}if(r=0===r.length?r:r.map((function(e){return o.enhancer_(e,void 0)})),this.legacyMode_){var u=r.length-n;this.updateArrayLength_(i,u)}var c=this.spliceItemsIntoValues_(t,n,r);return 0===n&&0===r.length||this.notifyArraySplice_(t,r,c),this.dehanceValues_(c)},t.spliceItemsIntoValues_=function e(t,n,r){var o;if(r.length<1e4)return(o=this.values_).splice.apply(o,[t,n].concat(r));var i=this.values_.slice(t,t+n),a=this.values_.slice(t+n);this.values_.length+=r.length-n;for(var u=0;u<r.length;u++)this.values_[t+u]=r[u];for(var c=0;c<a.length;c++)this.values_[t+r.length+c]=a[c];return i},t.notifyArrayChildUpdate_=function e(t,n,r){var o=!this.owned_&&!1,i=Bo(this),a=i||o?{observableKind:"array",object:this.proxy_,type:Wo,debugObjectName:this.atom_.name_,index:t,newValue:n,oldValue:r}:null;this.atom_.reportChanged(),i&&Fo(this,a)},t.notifyArraySplice_=function e(t,n,r){var o=!this.owned_&&!1,i=Bo(this),a=i||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:zo,index:t,removed:r,added:n,removedCount:r.length,addedCount:n.length}:null;this.atom_.reportChanged(),i&&Fo(this,a)},t.get_=function e(t){if(!(this.legacyMode_&&t>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[t]);console.warn("[mobx] Out of bounds read: "+t)},t.set_=function e(t,n){var r=this.values_;if(this.legacyMode_&&t>r.length&&G(17,t,r.length),t<r.length){bn(this.atom_);var o=r[t],i;if(Mo(this)){var a=Io(this,{type:Wo,object:this.proxy_,index:t,newValue:n});if(!a)return;n=a.newValue}(n=this.enhancer_(n,o))!==o&&(r[t]=n,this.notifyArrayChildUpdate_(t,n,o))}else{for(var u=new Array(t+1-r.length),c=0;c<u.length-1;c++)u[c]=void 0;u[u.length-1]=n,this.spliceWithArray_(r.length,0,u)}},e}();function qo(e,t,n,r){void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),Z();var o=new Xo(n,t,r,!1);se(o.values_,De,o);var i=new Proxy(o.values_,Ko);if(o.proxy_=i,e&&e.length){var a=rn(!0);o.spliceWithArray_(0,0,e),on(a)}return i}var Yo={clear:function e(){return this.splice(0)},replace:function e(t){var n=this[De];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function e(){return this.slice()},splice:function e(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=this[De];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(t);case 2:return a.spliceWithArray_(t,n)}return a.spliceWithArray_(t,n,o)},spliceWithArray:function e(t,n,r){return this[De].spliceWithArray_(t,n,r)},push:function e(){for(var t=this[De],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function e(){return this.splice(Math.max(this[De].values_.length-1,0),1)[0]},shift:function e(){return this.splice(0,1)[0]},unshift:function e(){for(var t=this[De],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function e(){return Ln.trackingDerivation&&G(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function e(){Ln.trackingDerivation&&G(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function e(t){var n=this[De],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1&&(this.splice(r,1),!0)}};function Jo(e,t){"function"==typeof Array.prototype[e]&&(Yo[e]=t(e))}function Zo(e){return function(){var t=this[De];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Qo(e){return function(t,n){var r=this,o=this[De],i;return o.atom_.reportObserved(),o.dehanceValues_(o.values_)[e]((function(e,o){return t.call(n,e,o,r)}))}}function ei(e){return function(){var t=this,n=this[De];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),o=arguments[0];return arguments[0]=function(e,n,r){return o(e,n,r,t)},r[e].apply(r,arguments)}}Jo("concat",Zo),Jo("flat",Zo),Jo("includes",Zo),Jo("indexOf",Zo),Jo("join",Zo),Jo("lastIndexOf",Zo),Jo("slice",Zo),Jo("toString",Zo),Jo("toLocaleString",Zo),Jo("every",Qo),Jo("filter",Qo),Jo("find",Qo),Jo("findIndex",Qo),Jo("flatMap",Qo),Jo("forEach",Qo),Jo("map",Qo),Jo("some",Qo),Jo("reduce",ei),Jo("reduceRight",ei);var ti=le("ObservableArrayAdministration",Xo),ni,ri;function oi(e){return ie(e)&&ti(e[De])}var ii={},ai="add",ui="delete";ni=Symbol.iterator,ri=Symbol.toStringTag;var ci=function(){function e(e,t,n){var r=this;void 0===t&&(t=We),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[De]=ii,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,re(Map)||G(18),this.keysAtom_=Ve("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,nn(!0,(function(){r.merge(e)}))}var t=e.prototype;return t.has_=function e(t){return this.data_.has(t)},t.has=function e(t){var n=this;if(!Ln.trackingDerivation)return this.has_(t);var r=this.hasMap_.get(t);if(!r){var o=r=new un(this.has_(t),Ke,"ObservableMap.key?",!1);this.hasMap_.set(t,o),Ar(o,(function(){return n.hasMap_.delete(t)}))}return r.get()},t.set=function e(t,n){var r=this.has_(t);if(Mo(this)){var o=Io(this,{type:r?Wo:ai,object:this,newValue:n,name:t});if(!o)return this;n=o.newValue}return r?this.updateValue_(t,n):this.addValue_(t,n),this},t.delete=function e(t){var n=this,r;if((bn(this.keysAtom_),Mo(this))&&!Io(this,{type:ui,object:this,name:t}))return!1;if(this.has_(t)){var o=!1,i=Bo(this),a=i?{observableKind:"map",debugObjectName:this.name_,type:ui,object:this,oldValue:this.data_.get(t).value_,name:t}:null;return xo((function(){var e,r;n.keysAtom_.reportChanged(),null==(e=n.hasMap_.get(t))||e.setNewValue_(!1),n.data_.get(t).setNewValue_(void 0),n.data_.delete(t)})),i&&Fo(this,a),!0}return!1},t.updateValue_=function e(t,n){var r=this.data_.get(t);if((n=r.prepareNewValue_(n))!==Ln.UNCHANGED){var o=!1,i=Bo(this),a=i?{observableKind:"map",debugObjectName:this.name_,type:Wo,object:this,oldValue:r.value_,name:t,newValue:n}:null;0,r.setNewValue_(n),i&&Fo(this,a)}},t.addValue_=function e(t,n){var r=this;bn(this.keysAtom_),xo((function(){var e,o=new un(n,r.enhancer_,"ObservableMap.key",!1);r.data_.set(t,o),n=o.value_,null==(e=r.hasMap_.get(t))||e.setNewValue_(!0),r.keysAtom_.reportChanged()}));var o=!1,i=Bo(this),a=i?{observableKind:"map",debugObjectName:this.name_,type:ai,object:this,name:t,newValue:n}:null;i&&Fo(this,a)},t.get=function e(t){return this.has(t)?this.dehanceValue_(this.data_.get(t).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function e(t){return void 0!==this.dehancer?this.dehancer(t):t},t.keys=function e(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function e(){var t=this,n=this.keys();return Gi({next:function e(){var r=n.next(),o=r.done,i=r.value;return{done:o,value:o?void 0:t.get(i)}}})},t.entries=function e(){var t=this,n=this.keys();return Gi({next:function e(){var r=n.next(),o=r.done,i=r.value;return{done:o,value:o?void 0:[i,t.get(i)]}}})},t[ni]=function(){return this.entries()},t.forEach=function e(t,n){for(var r=xe(this),o;!(o=r()).done;){var i=o.value,a=i[0],u=i[1];t.call(n,u,a,this)}},t.merge=function e(t){var n=this;return si(t)&&(t=new Map(t)),xo((function(){ae(t)?de(t).forEach((function(e){return n.set(e,t[e])})):Array.isArray(t)?t.forEach((function(e){var t=e[0],r=e[1];return n.set(t,r)})):fe(t)?(t.constructor!==Map&&G(19,t),t.forEach((function(e,t){return n.set(t,e)}))):null!=t&&G(20,t)})),this},t.clear=function e(){var t=this;xo((function(){Sn((function(){for(var e=xe(t.keys()),n;!(n=e()).done;){var r=n.value;t.delete(r)}}))}))},t.replace=function e(t){var n=this;return xo((function(){for(var e=pi(t),r=new Map,o=!1,i=xe(n.data_.keys()),a;!(a=i()).done;){var u=a.value,c;if(!e.has(u))if(n.delete(u))o=!0;else{var s=n.data_.get(u);r.set(u,s)}}for(var l=xe(e.entries()),f;!(f=l()).done;){var p=f.value,h=p[0],d=p[1],v=n.data_.has(h);if(n.set(h,d),n.data_.has(h)){var y=n.data_.get(h);r.set(h,y),v||(o=!0)}}if(!o)if(n.data_.size!==r.size)n.keysAtom_.reportChanged();else for(var m=n.data_.keys(),b=r.keys(),g=m.next(),w=b.next();!g.done;){if(g.value!==w.value){n.keysAtom_.reportChanged();break}g=m.next(),w=b.next()}n.data_=r})),this},t.toString=function e(){return"[object ObservableMap]"},t.toJSON=function e(){return Array.from(this)},t.observe_=function e(t,n){return Vo(this,t)},t.intercept_=function e(t){return Do(this,t)},Oe(e,[{key:"size",get:function e(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:ri,get:function e(){return"Map"}}]),e}(),si=le("ObservableMap",ci),li,fi;function pi(e){if(fe(e)||si(e))return e;if(Array.isArray(e))return new Map(e);if(ae(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return G(21,e)}var hi={};li=Symbol.iterator,fi=Symbol.toStringTag;var di=function(){function e(e,t,n){void 0===t&&(t=We),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[De]=hi,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,re(Set)||G(22),this.atom_=Ve(this.name_),this.enhancer_=function(e,r){return t(e,r,n)},e&&this.replace(e)}var t=e.prototype;return t.dehanceValue_=function e(t){return void 0!==this.dehancer?this.dehancer(t):t},t.clear=function e(){var t=this;xo((function(){Sn((function(){for(var e=xe(t.data_.values()),n;!(n=e()).done;){var r=n.value;t.delete(r)}}))}))},t.forEach=function e(t,n){for(var r=xe(this),o;!(o=r()).done;){var i=o.value;t.call(n,i,i,this)}},t.add=function e(t){var n=this,r;if((bn(this.atom_),Mo(this))&&!Io(this,{type:ai,object:this,newValue:t}))return this;if(!this.has(t)){xo((function(){n.data_.add(n.enhancer_(t,void 0)),n.atom_.reportChanged()}));var o=!1,i=Bo(this),a=i?{observableKind:"set",debugObjectName:this.name_,type:ai,object:this,newValue:t}:null;0,i&&Fo(this,a)}return this},t.delete=function e(t){var n=this,r;if(Mo(this)&&!Io(this,{type:ui,object:this,oldValue:t}))return!1;if(this.has(t)){var o=!1,i=Bo(this),a=i?{observableKind:"set",debugObjectName:this.name_,type:ui,object:this,oldValue:t}:null;return xo((function(){n.atom_.reportChanged(),n.data_.delete(t)})),i&&Fo(this,a),!0}return!1},t.has=function e(t){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(t))},t.entries=function e(){var t=0,n=Array.from(this.keys()),r=Array.from(this.values());return Gi({next:function e(){var o=t;return t+=1,o<r.length?{value:[n[o],r[o]],done:!1}:{done:!0}}})},t.keys=function e(){return this.values()},t.values=function e(){this.atom_.reportObserved();var t=this,n=0,r=Array.from(this.data_.values());return Gi({next:function e(){return n<r.length?{value:t.dehanceValue_(r[n++]),done:!1}:{done:!0}}})},t.replace=function e(t){var n=this;return vi(t)&&(t=new Set(t)),xo((function(){Array.isArray(t)||pe(t)?(n.clear(),t.forEach((function(e){return n.add(e)}))):null!=t&&G("Cannot initialize set from "+t)})),this},t.observe_=function e(t,n){return Vo(this,t)},t.intercept_=function e(t){return Do(this,t)},t.toJSON=function e(){return Array.from(this)},t.toString=function e(){return"[object ObservableSet]"},t[li]=function(){return this.values()},Oe(e,[{key:"size",get:function e(){return this.atom_.reportObserved(),this.data_.size}},{key:fi,get:function e(){return"Set"}}]),e}(),vi=le("ObservableSet",di),yi=Object.create(null),mi="remove",bi=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=gt),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new Ie("ObservableObject.keys"),this.isPlainObject_=ae(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function e(t){return this.values_.get(t).get()},t.setObservablePropValue_=function e(t,n){var r=this.values_.get(t);if(r instanceof ln)return r.set(n),!0;if(Mo(this)){var o=Io(this,{type:Wo,object:this.proxy_||this.target_,name:t,newValue:n});if(!o)return null;n=o.newValue}if((n=r.prepareNewValue_(n))!==Ln.UNCHANGED){var i=Bo(this),a=!1,u=i?{type:Wo,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:r.value_,name:t,newValue:n}:null;0,r.setNewValue_(n),i&&Fo(this,u)}return!0},t.get_=function e(t){return Ln.trackingDerivation&&!be(this.target_,t)&&this.has_(t),this.target_[t]},t.set_=function e(t,n,r){return void 0===r&&(r=!1),be(this.target_,t)?this.values_.has(t)?this.setObservablePropValue_(t,n):r?Reflect.set(this.target_,t,n):(this.target_[t]=n,!0):this.extend_(t,{value:n,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,r)},t.has_=function e(t){if(!Ln.trackingDerivation)return t in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var n=this.pendingKeys_.get(t);return n||(n=new un(t in this.target_,Ke,"ObservableObject.key?",!1),this.pendingKeys_.set(t,n)),n.get()},t.make_=function e(t,n){if(!0===n&&(n=this.defaultAnnotation_),!1!==n){if(Si(this,n,t),!(t in this.target_)){var r;if(null!=(r=this.target_[Te])&&r[t])return;G(1,n.annotationType_,this.name_+"."+t.toString())}for(var o=this.target_;o&&o!==K;){var i=W(o,t);if(i){var a=n.make_(this,t,i,o);if(0===a)return;if(1===a)break}o=Object.getPrototypeOf(o)}ji(this,n,t)}},t.extend_=function e(t,n,r,o){if(void 0===o&&(o=!1),!0===r&&(r=this.defaultAnnotation_),!1===r)return this.defineProperty_(t,n,o);Si(this,r,t);var i=r.extend_(this,t,n,o);return i&&ji(this,r,t),i},t.defineProperty_=function e(t,n,r){void 0===r&&(r=!1);try{Un();var o=this.delete_(t);if(!o)return o;if(Mo(this)){var i=Io(this,{object:this.proxy_||this.target_,name:t,type:ai,newValue:n.value});if(!i)return null;var a=i.newValue;n.value!==a&&(n=_e({},n,{value:a}))}if(r){if(!Reflect.defineProperty(this.target_,t,n))return!1}else $(this.target_,t,n);this.notifyPropertyAddition_(t,n.value)}finally{zn()}return!0},t.defineObservableProperty_=function e(t,n,r,o){void 0===o&&(o=!1);try{Un();var i=this.delete_(t);if(!i)return i;if(Mo(this)){var a=Io(this,{object:this.proxy_||this.target_,name:t,type:ai,newValue:n});if(!a)return null;n=a.newValue}var u=Oi(t),c={configurable:!Ln.safeDescriptors||this.isPlainObject_,enumerable:!0,get:u.get,set:u.set};if(o){if(!Reflect.defineProperty(this.target_,t,c))return!1}else $(this.target_,t,c);var s=new un(n,r,"ObservableObject.key",!1);this.values_.set(t,s),this.notifyPropertyAddition_(t,s.value_)}finally{zn()}return!0},t.defineComputedProperty_=function e(t,n,r){void 0===r&&(r=!1);try{Un();var o=this.delete_(t),i;if(!o)return o;if(Mo(this))if(!Io(this,{object:this.proxy_||this.target_,name:t,type:ai,newValue:void 0}))return null;n.name||(n.name="ObservableObject.key"),n.context=this.proxy_||this.target_;var a=Oi(t),u={configurable:!Ln.safeDescriptors||this.isPlainObject_,enumerable:!1,get:a.get,set:a.set};if(r){if(!Reflect.defineProperty(this.target_,t,u))return!1}else $(this.target_,t,u);this.values_.set(t,new ln(n)),this.notifyPropertyAddition_(t,void 0)}finally{zn()}return!0},t.delete_=function e(t,n){if(void 0===n&&(n=!1),!be(this.target_,t))return!0;var r;if(Mo(this)&&!Io(this,{object:this.proxy_||this.target_,name:t,type:mi}))return null;try{var o,i;Un();var a=Bo(this),u=!1,c=this.values_.get(t),s=void 0,l;if(!c&&a)s=null==(l=W(this.target_,t))?void 0:l.value;if(n){if(!Reflect.deleteProperty(this.target_,t))return!1}else delete this.target_[t];if(c&&(this.values_.delete(t),c instanceof un&&(s=c.value_),$n(c)),this.keysAtom_.reportChanged(),null==(o=this.pendingKeys_)||null==(i=o.get(t))||i.set(t in this.target_),a){var f={type:mi,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:s,name:t};0,a&&Fo(this,f)}}finally{zn()}return!0},t.observe_=function e(t,n){return Vo(this,t)},t.intercept_=function e(t){return Do(this,t)},t.notifyPropertyAddition_=function e(t,n){var r,o,i=Bo(this),a=!1;if(i){var u=i?{type:ai,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:t,newValue:n}:null;0,i&&Fo(this,u)}null==(r=this.pendingKeys_)||null==(o=r.get(t))||o.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function e(){return this.keysAtom_.reportObserved(),ve(this.target_)},t.keys_=function e(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function gi(e,t){var n;if(be(e,De))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",o=new bi(e,new Map,String(r),Mt(t));return ce(e,De,o),e}var wi=le("ObservableObjectAdministration",bi);function Oi(e){return yi[e]||(yi[e]={get:function t(){return this[De].getObservablePropValue_(e)},set:function t(n){return this[De].setObservablePropValue_(e,n)}})}function _i(e){return!!ie(e)&&wi(e[De])}function ji(e,t,n){var r;null==(r=e.target_[Te])||delete r[n]}function Si(e,t,n){var r,o,i}var Ei=Ci(0),ki=0,Pi=function e(){};function xi(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):void 0!==e.prototype.__proto__?e.prototype.__proto__=t:e.prototype=t}xi(Pi,Array.prototype);var Ni=function(e,t,n){function r(t,n,r,o){var i;void 0===r&&(r="ObservableArray"),void 0===o&&(o=!1),i=e.call(this)||this;var a=new Xo(r,n,o,!0);if(a.proxy_=Ee(i),se(Ee(i),De,a),t&&t.length){var u=rn(!0);i.spliceWithArray(0,0,t),on(u)}return Object.defineProperty(Ee(i),"0",Ei),i}je(r,e);var o=r.prototype;return o.concat=function e(){this[De].atom_.reportObserved();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Array.prototype.concat.apply(this.slice(),n.map((function(e){return oi(e)?e.slice():e})))},o[n]=function(){var e=this,t=0;return Gi({next:function n(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},Oe(r,[{key:"length",get:function e(){return this[De].getArrayLength_()},set:function e(t){this[De].setArrayLength_(t)}},{key:t,get:function e(){return"Array"}}]),r}(Pi,Symbol.toStringTag,Symbol.iterator);function Ci(e){return{enumerable:!1,configurable:!0,get:function t(){return this[De].get_(e)},set:function t(n){this[De].set_(e,n)}}}function Ti(e){$(Ni.prototype,""+e,Ci(e))}function Ri(e){if(e>ki){for(var t=ki;t<e+100;t++)Ti(t);ki=e}}function Ai(e,t,n){return new Ni(e,t,n)}function Li(e,t){if("object"==typeof e&&null!==e){if(oi(e))return void 0!==t&&G(23),e[De].atom_;if(vi(e))return e.atom_;if(si(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||G(25,t,Di(e)),n}if(_i(e)){if(!t)return G(26);var r=e[De].values_.get(t);return r||G(27,t,Di(e)),r}if(Be(e)||fn(e)||rr(e))return e}else if(re(e)&&rr(e[De]))return e[De];G(28)}function Mi(e,t){return e||G(29),void 0!==t?Mi(Li(e,t)):Be(e)||fn(e)||rr(e)||si(e)||vi(e)?e:e[De]?e[De]:void G(24,e)}function Di(e,t){var n;if(void 0!==t)n=Li(e,t);else{if(Sr(e))return e.name;n=_i(e)||si(e)||vi(e)?Mi(e):Li(e)}return n.name_}Object.entries(Yo).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&ce(Ni.prototype,t,n)})),Ri(1e3);var Ii=K.toString;function Bi(e,t,n){return void 0===n&&(n=-1),Vi(e,t,n)}function Vi(e,t,n,r,o){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;if("function"!==i&&"object"!==i&&"object"!=typeof t)return!1;var a=Ii.call(e);if(a!==Ii.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=Fi(e),t=Fi(t);var u="[object Array]"===a;if(!u){if("object"!=typeof e||"object"!=typeof t)return!1;var c=e.constructor,s=t.constructor;if(c!==s&&!(re(c)&&c instanceof c&&re(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),o=o||[];for(var l=(r=r||[]).length;l--;)if(r[l]===e)return o[l]===t;if(r.push(e),o.push(t),u){if((l=e.length)!==t.length)return!1;for(;l--;)if(!Vi(e[l],t[l],n-1,r,o))return!1}else{var f=Object.keys(e),p;if(l=f.length,Object.keys(t).length!==l)return!1;for(;l--;)if(!be(t,p=f[l])||!Vi(e[p],t[p],n-1,r,o))return!1}return r.pop(),o.pop(),!0}function Fi(e){return oi(e)?e.slice():fe(e)||si(e)||pe(e)||vi(e)?Array.from(e.entries()):e}function Gi(e){return e[Symbol.iterator]=Hi,e}function Hi(){return this}function Ui(e){return e instanceof Object&&"string"==typeof e.annotationType_&&re(e.make_)&&re(e.extend_)}["Symbol","Map","Set"].forEach((function(e){var t;void 0===U()[e]&&G("MobX requires global '"+e+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:lr,extras:{getDebugName:Di},$mobx:De})}.call(this,n(22))},function(e,t){e.exports=Next},function(e,t){e.exports=_},function(e,t,n){"use strict";var r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function e(t,n,r){return Function.prototype.apply.call(t,n,r)},i;function a(e){console&&console.warn&&console.warn(e)}i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function e(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function e(t){return Object.getOwnPropertyNames(t)};var u=Number.isNaN||function e(t){return t!=t};function c(){c.init.call(this)}e.exports=c,e.exports.once=w,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var s=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?c.defaultMaxListeners:e._maxListeners}function p(e,t,n,r){var o,i,u;if(l(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),u=i[t]),void 0===u)u=i[t]=n,++e._eventsCount;else if("function"==typeof u?u=i[t]=r?[n,u]:[u,n]:r?u.unshift(n):u.push(n),(o=f(e))>0&&u.length>o&&!u.warned){u.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=u.length,a(c)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=h.bind(r);return o.listener=n,r.wrapFn=o,o}function v(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?g(o):m(o,o.length)}function y(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function b(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function g(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function w(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}_(e,t,i,{once:!0}),"error"!==t&&O(e,o,{once:!0})}))}function O(e,t,n){"function"==typeof e.on&&_(e,"error",t,n)}function _(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||u(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function e(t){if("number"!=typeof t||t<0||u(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},c.prototype.getMaxListeners=function e(){return f(this)},c.prototype.emit=function e(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i="error"===t,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var u;if(n.length>0&&(u=n[0]),u instanceof Error)throw u;var c=new Error("Unhandled error."+(u?" ("+u.message+")":""));throw c.context=u,c}var s=a[t];if(void 0===s)return!1;if("function"==typeof s)o(s,this,n);else for(var l=s.length,f=m(s,l),r=0;r<l;++r)o(f[r],this,n);return!0},c.prototype.addListener=function e(t,n){return p(this,t,n,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function e(t,n){return p(this,t,n,!0)},c.prototype.once=function e(t,n){return l(n),this.on(t,d(this,t,n)),this},c.prototype.prependOnceListener=function e(t,n){return l(n),this.prependListener(t,d(this,t,n)),this},c.prototype.removeListener=function e(t,n){var r,o,i,a,u;if(l(n),void 0===(o=this._events))return this;if(void 0===(r=o[t]))return this;if(r===n||r.listener===n)0==--this._eventsCount?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,r.listener||n));else if("function"!=typeof r){for(i=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){u=r[a].listener,i=a;break}if(i<0)return this;0===i?r.shift():b(r,i),1===r.length&&(o[t]=r[0]),void 0!==o.removeListener&&this.emit("removeListener",t,u||n)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function e(t){var n,r,o;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i=Object.keys(r),a;for(o=0;o<i.length;++o)"removeListener"!==(a=i[o])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(n=r[t]))this.removeListener(t,n);else if(void 0!==n)for(o=n.length-1;o>=0;o--)this.removeListener(t,n[o]);return this},c.prototype.listeners=function e(t){return v(this,t,!0)},c.prototype.rawListeners=function e(t){return v(this,t,!1)},c.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):y.call(e,t)},c.prototype.listenerCount=y,c.prototype.eventNames=function e(){return this._eventsCount>0?i(this._events):[]}},function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return m}));var r=n(13);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=p(e,"string");return"symbol"===u(t)?t:String(t)}function p(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var h,d=new(function(){function e(){c(this,e),this.tip=null,this.showDelay=null,this.hideDelay=null,this.emitter=Object(r.b)("TipHandler")}return l(e,[{key:"setTarget",value:function e(t){var n=this,r=v(t);if(r){if(this.tip){if(this.tip.target===r.target)return void(this.tip=r);if(!this.showDelay)return this.hideDelay&&(clearTimeout(this.hideDelay),this.hideDelay=null),this.tip=r,void this.emitter.emit("tipchange");clearTimeout(this.showDelay),this.showDelay=null,this.tip=null}this.tip=r,this.hideDelay?(clearTimeout(this.hideDelay),this.hideDelay=null,this.emitter.emit("tipchange")):this.showDelay=setTimeout((function(){n.showDelay=null,n.emitter.emit("tipchange")}),350)}else this.showDelay?(clearTimeout(this.showDelay),this.showDelay=null):this.hideDelay=setTimeout((function(){n.hideDelay=null}),100),this.tip=null,this.emitter.emit("tipchange")}},{key:"hideImmediately",value:function e(){this.hideDelay&&(clearTimeout(this.hideDelay),this.hideDelay=null),this.showDelay&&(clearTimeout(this.showDelay),this.showDelay=null),this.tip=null,this.emitter.emit("tipchange")}},{key:"onChange",value:function e(t){var n=this;return this.emitter.on("tipchange",t),function(){n.emitter.removeListener("tipchange",t)}}}]),e}());function v(e){if(!e)return null;for(var t=10;e&&t-- >0;){if(e.dataset&&e.dataset.tip)return{children:e.dataset.tip,direction:e.dataset.direction||e.dataset.dir,theme:e.dataset.theme,target:e};for(var n=e.lastElementChild;n;){if(n.dataset&&"tip"===n.dataset.role){var r=n.dataset.tipId;if(!r)return null;var o=y.get(r);return o?i(i({},o),{},{target:e}):null}n=n.previousElementSibling}e=e.parentNode}return null}var y=new Map;function m(e,t){t?y.set(e,t):y.delete(e)}},function(e,t){e.exports=window.PropTypes},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMetadataField=t.getMetadata=t.MetadataType=t.metaSymbol=void 0,t.metaSymbol=Symbol("power-di-metadata");var r=function(){function e(){this.classInfo={extends:[],implements:[]},this.injects=[],this.postConstruct=[],this.preDestroy=[],this.aspects=[]}return e}();function o(e){var n=Object.getOwnPropertyDescriptor(e,t.metaSymbol);return n&&n.value?n.value:(Object.defineProperty(e,t.metaSymbol,{enumerable:!1,configurable:!1,value:new r}),o(e))}function i(e,t){var n=o(e)[t];if(Array.isArray(n)){var r=Object.getPrototypeOf(e);if(r)return i(r,t).concat(n)}return n}t.MetadataType=r,t.getMetadata=o,t.getMetadataField=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return v}));var r=n(2),o=n(9),i=n.n(o);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function s(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=f(e,"string");return"symbol"===a(t)?t:String(t)}function f(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var p=new r.e({level:"warn",bizName:"event-bus"}),h=new r.e({level:"warn",bizName:"module-event-bus"}),d=function(){function e(t,n){u(this,e),this.eventEmitter=void 0,this.name=void 0,this.names=[],this.eventEmitter=t,this.name=n}return s(e,[{key:"getMsgPrefix",value:function e(t){return this.name&&this.name.length>0?"[".concat(this.name,"][event-").concat(t,"]"):"[*][event-".concat(t,"]")}},{key:"getLogger",value:function e(){return this.name&&this.name.length>0?h:p}},{key:"on",value:function e(t,n){var r=this;return this.eventEmitter.on(t,n),this.getLogger().debug("".concat(this.getMsgPrefix("on")," ").concat(t)),function(){r.off(t,n)}}},{key:"off",value:function e(t,n){this.eventEmitter.off(t,n),this.getLogger().debug("".concat(this.getMsgPrefix("off")," ").concat(t))}},{key:"emit",value:function e(t){for(var n,r,o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];(n=this.eventEmitter).emit.apply(n,[t].concat(i)),(r=this.getLogger()).debug.apply(r,["".concat(this.getMsgPrefix("emit")," name: ").concat(t,", args: ")].concat(i))}},{key:"removeListener",value:function e(t,n){return this.eventEmitter.removeListener(t,n)}},{key:"addListener",value:function e(t,n){return this.eventEmitter.addListener(t,n)}},{key:"setMaxListeners",value:function e(t){return this.eventEmitter.setMaxListeners(t)}},{key:"removeAllListeners",value:function e(t){return this.eventEmitter.removeAllListeners(t)}}]),e}(),v=function e(t,n){var r=new i.a;return n&&r.setMaxListeners(n),new d(r,t)}},function(e,t,n){"use strict";n.d(t,"c",(function(){return tn})),n.d(t,"d",(function(){return nn})),n.d(t,"a",(function(){return an})),n.d(t,"b",(function(){return Mt}));var r=n(3),o=n(1),i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var u=function(){return(u=Object.assign||function e(t){for(var n,r=1,o=arguments.length;r<o;r++)for(var i in n=arguments[r])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)};function c(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function s(e,t,n,r){var o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i}function l(e,t){return function(n,r){t(n,r,e)}}function f(e,t,n,r,o,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var u=r.kind,c="getter"===u?"get":"setter"===u?"set":"value",s=!t&&e?r.static?e:e.prototype:null,l=t||(s?Object.getOwnPropertyDescriptor(s,r.name):{}),f,p=!1,h=n.length-1;h>=0;h--){var d={};for(var v in r)d[v]="access"===v?{}:r[v];for(var v in r.access)d.access[v]=r.access[v];d.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var y=(0,n[h])("accessor"===u?{get:l.get,set:l.set}:l[c],d);if("accessor"===u){if(void 0===y)continue;if(null===y||"object"!=typeof y)throw new TypeError("Object expected");(f=a(y.get))&&(l.get=f),(f=a(y.set))&&(l.set=f),(f=a(y.init))&&o.push(f)}else(f=a(y))&&("field"===u?o.push(f):l[c]=f)}s&&Object.defineProperty(s,r.name,l),p=!0}function p(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0}function h(e){return"symbol"==typeof e?e:"".concat(e)}function d(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function v(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function y(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,u)}c((r=r.apply(e,t||[])).next())}))}function m(e,t){var n={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(e){return function(t){return c([e,t])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(i=2&u[0]?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(!(i=n.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){n=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(6===u[0]&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(e){u=[6,e],o=0}finally{r=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var b=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function g(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||b(t,e,n)}function w(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function O(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function _(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(O(arguments[t]));return e}function j(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}function S(e,t,n){if(n||2===arguments.length)for(var r=0,o=t.length,i;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function E(e){return this instanceof E?(this.v=e,this):new E(e)}function k(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(e){r[e]&&(o[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||u(e,t)}))})}function u(e,t){try{c(r[e](t))}catch(e){f(i[0][3],e)}}function c(e){e.value instanceof E?Promise.resolve(e.value.v).then(s,l):f(i[0][2],e)}function s(e){u("next",e)}function l(e){u("throw",e)}function f(e,t){e(t),i.shift(),i.length&&u(i[0][0],i[0][1])}}function P(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:E(e[r](t)),done:!1}:o?o(t):t}:o}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=w(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(t){n[t]=e[t]&&function(n){return new Promise((function(r,i){o(r,i,(n=e[t](n)).done,n.value)}))}}function o(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}}function N(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var C=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},T,R,A;function L(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&b(t,e,n);return C(t,e),t}function M(e){return e&&e.__esModule?e:{default:e}}function D(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function I(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}function B(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function V(e){return e.type===R.literal}function F(e){return e.type===R.argument}function G(e){return e.type===R.number}function H(e){return e.type===R.date}function U(e){return e.type===R.time}function z(e){return e.type===R.select}function W(e){return e.type===R.plural}function $(e){return e.type===R.pound}function K(e){return e.type===R.tag}function X(e){return!(!e||"object"!=typeof e||e.type!==A.number)}function q(e){return!(!e||"object"!=typeof e||e.type!==A.dateTime)}function Y(e){return{type:R.literal,value:e}}function J(e,t){return{type:R.number,value:e,style:t}}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(T||(T={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(R||(R={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(A||(A={}));var Z=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,Q=/[\t-\r \x85\u200E\u200F\u2028\u2029]/,ee=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function te(e){var t={};return e.replace(ee,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var ne=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function re(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t,n=[],r=0,o=e.split(ne).filter((function(e){return e.length>0}));r<o.length;r++){var i,a=o[r].split("/");if(0===a.length)throw new Error("Invalid number skeleton");for(var u=a[0],c=a.slice(1),s=0,l=c;s<l.length;s++){var f;if(0===l[s].length)throw new Error("Invalid number skeleton")}n.push({stem:u,options:c})}return n}function oe(e){return e.replace(/^(.*?)-/,"")}var ie=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,ae=/^(@+)?(\+|#+)?[rs]?$/g,ue=/(\*)(0+)|(#+)(0+)|(0+)/g,ce=/^(0+)$/;function se(e){var t={};return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace(ae,(function(e,n,r){return"string"!=typeof r?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===r?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)),""})),t}function le(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function fe(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!ce.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function pe(e){var t={},n=le(e);return n||t}function he(e){for(var t={},n=0,r=e;n<r.length;n++){var o=r[n];switch(o.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=o.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=oe(o.options[0]);continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=u(u(u({},t),{notation:"scientific"}),o.options.reduce((function(e,t){return u(u({},e),pe(t))}),{}));continue;case"engineering":t=u(u(u({},t),{notation:"engineering"}),o.options.reduce((function(e,t){return u(u({},e),pe(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(o.options[0]);continue;case"integer-width":if(o.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");o.options[0].replace(ue,(function(e,n,r,o,i,a){if(n)t.minimumIntegerDigits=r.length;else{if(o&&i)throw new Error("We currently do not support maximum integer digits");if(a)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(ce.test(o.stem))t.minimumIntegerDigits=o.stem.length;else if(ie.test(o.stem)){if(o.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");o.stem.replace(ie,(function(e,n,r,o,i,a){return"*"===r?t.minimumFractionDigits=n.length:o&&"#"===o[0]?t.maximumFractionDigits=o.length:i&&a?(t.minimumFractionDigits=i.length,t.maximumFractionDigits=i.length+a.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""}));var i=o.options[0];"w"===i?t=u(u({},t),{trailingZeroDisplay:"stripIfInteger"}):i&&(t=u(u({},t),se(i)))}else if(ae.test(o.stem))t=u(u({},t),se(o.stem));else{var a=le(o.stem);a&&(t=u(u({},t),a));var c=fe(o.stem);c&&(t=u(u({},t),c))}}return t}var de={AX:["H"],BQ:["H"],CP:["H"],CZ:["H"],DK:["H"],FI:["H"],ID:["H"],IS:["H"],ML:["H"],NE:["H"],RU:["H"],SE:["H"],SJ:["H"],SK:["H"],AS:["h","H"],BT:["h","H"],DJ:["h","H"],ER:["h","H"],GH:["h","H"],IN:["h","H"],LS:["h","H"],PG:["h","H"],PW:["h","H"],SO:["h","H"],TO:["h","H"],VU:["h","H"],WS:["h","H"],"001":["H","h"],AL:["h","H","hB"],TD:["h","H","hB"],"ca-ES":["H","h","hB"],CF:["H","h","hB"],CM:["H","h","hB"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],LU:["H","h","hB"],NP:["H","h","hB"],PF:["H","h","hB"],SC:["H","h","hB"],SM:["H","h","hB"],SN:["H","h","hB"],TF:["H","h","hB"],VA:["H","h","hB"],CY:["h","H","hb","hB"],GR:["h","H","hb","hB"],CO:["h","H","hB","hb"],DO:["h","H","hB","hb"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],NA:["h","H","hB","hb"],PA:["h","H","hB","hb"],PR:["h","H","hB","hb"],VE:["h","H","hB","hb"],AC:["H","h","hb","hB"],AI:["H","h","hb","hB"],BW:["H","h","hb","hB"],BZ:["H","h","hb","hB"],CC:["H","h","hb","hB"],CK:["H","h","hb","hB"],CX:["H","h","hb","hB"],DG:["H","h","hb","hB"],FK:["H","h","hb","hB"],GB:["H","h","hb","hB"],GG:["H","h","hb","hB"],GI:["H","h","hb","hB"],IE:["H","h","hb","hB"],IM:["H","h","hb","hB"],IO:["H","h","hb","hB"],JE:["H","h","hb","hB"],LT:["H","h","hb","hB"],MK:["H","h","hb","hB"],MN:["H","h","hb","hB"],MS:["H","h","hb","hB"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],PN:["H","h","hb","hB"],SH:["H","h","hb","hB"],SX:["H","h","hb","hB"],TA:["H","h","hb","hB"],ZA:["H","h","hb","hB"],"af-ZA":["H","h","hB","hb"],AR:["H","h","hB","hb"],CL:["H","h","hB","hb"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],EA:["H","h","hB","hb"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],GT:["H","h","hB","hb"],HN:["H","h","hB","hb"],IC:["H","h","hB","hb"],KG:["H","h","hB","hb"],KM:["H","h","hB","hb"],LK:["H","h","hB","hb"],MA:["H","h","hB","hb"],MX:["H","h","hB","hb"],NI:["H","h","hB","hb"],PY:["H","h","hB","hb"],SV:["H","h","hB","hb"],UY:["H","h","hB","hb"],JP:["H","h","K"],AD:["H","hB"],AM:["H","hB"],AO:["H","hB"],AT:["H","hB"],AW:["H","hB"],BE:["H","hB"],BF:["H","hB"],BJ:["H","hB"],BL:["H","hB"],BR:["H","hB"],CG:["H","hB"],CI:["H","hB"],CV:["H","hB"],DE:["H","hB"],EE:["H","hB"],FR:["H","hB"],GA:["H","hB"],GF:["H","hB"],GN:["H","hB"],GP:["H","hB"],GW:["H","hB"],HR:["H","hB"],IL:["H","hB"],IT:["H","hB"],KZ:["H","hB"],MC:["H","hB"],MD:["H","hB"],MF:["H","hB"],MQ:["H","hB"],MZ:["H","hB"],NC:["H","hB"],NL:["H","hB"],PM:["H","hB"],PT:["H","hB"],RE:["H","hB"],RO:["H","hB"],SI:["H","hB"],SR:["H","hB"],ST:["H","hB"],TG:["H","hB"],TR:["H","hB"],WF:["H","hB"],YT:["H","hB"],BD:["h","hB","H"],PK:["h","hB","H"],AZ:["H","hB","h"],BA:["H","hB","h"],BG:["H","hB","h"],CH:["H","hB","h"],GE:["H","hB","h"],LI:["H","hB","h"],ME:["H","hB","h"],RS:["H","hB","h"],UA:["H","hB","h"],UZ:["H","hB","h"],XK:["H","hB","h"],AG:["h","hb","H","hB"],AU:["h","hb","H","hB"],BB:["h","hb","H","hB"],BM:["h","hb","H","hB"],BS:["h","hb","H","hB"],CA:["h","hb","H","hB"],DM:["h","hb","H","hB"],"en-001":["h","hb","H","hB"],FJ:["h","hb","H","hB"],FM:["h","hb","H","hB"],GD:["h","hb","H","hB"],GM:["h","hb","H","hB"],GU:["h","hb","H","hB"],GY:["h","hb","H","hB"],JM:["h","hb","H","hB"],KI:["h","hb","H","hB"],KN:["h","hb","H","hB"],KY:["h","hb","H","hB"],LC:["h","hb","H","hB"],LR:["h","hb","H","hB"],MH:["h","hb","H","hB"],MP:["h","hb","H","hB"],MW:["h","hb","H","hB"],NZ:["h","hb","H","hB"],SB:["h","hb","H","hB"],SG:["h","hb","H","hB"],SL:["h","hb","H","hB"],SS:["h","hb","H","hB"],SZ:["h","hb","H","hB"],TC:["h","hb","H","hB"],TT:["h","hb","H","hB"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],VC:["h","hb","H","hB"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],ZM:["h","hb","H","hB"],BO:["H","hB","h","hb"],EC:["H","hB","h","hb"],ES:["H","hB","h","hb"],GQ:["H","hB","h","hb"],PE:["H","hB","h","hb"],AE:["h","hB","hb","H"],"ar-001":["h","hB","hb","H"],BH:["h","hB","hb","H"],DZ:["h","hB","hb","H"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],HK:["h","hB","hb","H"],IQ:["h","hB","hb","H"],JO:["h","hB","hb","H"],KW:["h","hB","hb","H"],LB:["h","hB","hb","H"],LY:["h","hB","hb","H"],MO:["h","hB","hb","H"],MR:["h","hB","hb","H"],OM:["h","hB","hb","H"],PH:["h","hB","hb","H"],PS:["h","hB","hb","H"],QA:["h","hB","hb","H"],SA:["h","hB","hb","H"],SD:["h","hB","hb","H"],SY:["h","hB","hb","H"],TN:["h","hB","hb","H"],YE:["h","hB","hb","H"],AF:["H","hb","hB","h"],LA:["H","hb","hB","h"],CN:["H","hB","hb","h"],LV:["H","hB","hb","h"],TL:["H","hB","hb","h"],"zu-ZA":["H","hB","hb","h"],CD:["hB","H"],IR:["hB","H"],"hi-IN":["hB","h","H"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"te-IN":["hB","h","H"],KH:["hB","h","H","hb"],"ta-IN":["hB","h","hb","H"],BN:["hb","hB","h","H"],MY:["hb","hB","h","H"],ET:["hB","hb","h","H"],"gu-IN":["hB","hb","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],TW:["hB","hb","h","H"],KE:["hB","hb","H","h"],MM:["hB","hb","H","h"],TZ:["hB","hb","H","h"],UG:["hB","hb","H","h"]},ve;function ye(e,t){for(var n="",r=0;r<e.length;r++){var o=e.charAt(r);if("j"===o){for(var i=0;r+1<e.length&&e.charAt(r+1)===o;)i++,r++;var a=1+(1&i),u=i<2?1:3+(i>>1),c="a",s=me(t);for("H"!=s&&"k"!=s||(u=0);u-- >0;)n+="a";for(;a-- >0;)n=s+n}else n+="J"===o?"H":o}return n}function me(e){var t=e.hourCycle;if(void 0===t&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n=e.language,r,o;return"root"!==n&&(r=e.maximize().region),(de[r||""]||de[n||""]||de["".concat(n,"-001")]||de["001"])[0]}var be=new RegExp("^".concat(Z.source,"*")),ge=new RegExp("".concat(Z.source,"*$"));function we(e,t){return{start:e,end:t}}var Oe=!!String.prototype.startsWith,_e=!!String.fromCodePoint,je=!!Object.fromEntries,Se=!!String.prototype.codePointAt,Ee=!!String.prototype.trimStart,ke=!!String.prototype.trimEnd,Pe,xe=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},Ne=!0;try{var Ce;Ne="a"===(null===(ve=Be("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===ve?void 0:ve[0])}catch(e){Ne=!1}var Te=Oe?function e(t,n,r){return t.startsWith(n,r)}:function e(t,n,r){return t.slice(r,r+n.length)===n},Re=_e?String.fromCodePoint:function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",o=t.length,i=0,a;o>i;){if((a=t[i++])>1114111)throw RangeError(a+" is not a valid code point");r+=a<65536?String.fromCharCode(a):String.fromCharCode(55296+((a-=65536)>>10),a%1024+56320)}return r},Ae=je?Object.fromEntries:function e(t){for(var n={},r=0,o=t;r<o.length;r++){var i=o[r],a=i[0],u=i[1];n[a]=u}return n},Le=Se?function e(t,n){return t.codePointAt(n)}:function e(t,n){var r=t.length;if(!(n<0||n>=r)){var o=t.charCodeAt(n),i;return o<55296||o>56319||n+1===r||(i=t.charCodeAt(n+1))<56320||i>57343?o:i-56320+(o-55296<<10)+65536}},Me=Ee?function e(t){return t.trimStart()}:function e(t){return t.replace(be,"")},De=ke?function e(t){return t.trimEnd()}:function e(t){return t.replace(ge,"")},Ie;function Be(e,t){return new RegExp(e,t)}if(Ne){var Ve=Be("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");Ie=function e(t,n){var r,o;return Ve.lastIndex=n,null!==(r=Ve.exec(t)[1])&&void 0!==r?r:""}}else Ie=function e(t,n){for(var r=[];;){var o=Le(t,n);if(void 0===o||ze(o)||We(o))break;r.push(o),n+=o>=65536?2:1}return Re.apply(void 0,r)};var Fe=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var r=[];!this.isEOF();){var o=this.char();if(123===o){var i;if((i=this.parseArgument(e,n)).err)return i;r.push(i.val)}else{if(125===o&&e>0)break;if(35!==o||"plural"!==t&&"selectordinal"!==t){if(60===o&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(T.UNMATCHED_CLOSING_TAG,we(this.clonePosition(),this.clonePosition()))}if(60===o&&!this.ignoreTag&&Ge(this.peek()||0)){var i;if((i=this.parseTag(e,t)).err)return i;r.push(i.val)}else{var i;if((i=this.parseLiteral(e,t)).err)return i;r.push(i.val)}}else{var a=this.clonePosition();this.bump(),r.push({type:R.pound,location:we(a,this.clonePosition())})}}}return{val:r,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var r=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:R.literal,value:"<".concat(r,"/>"),location:we(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var o=this.parseMessage(e+1,t,!0);if(o.err)return o;var i=o.val,a=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!Ge(this.char()))return this.error(T.INVALID_TAG,we(a,this.clonePosition()));var u=this.clonePosition(),c;return r!==this.parseTagName()?this.error(T.UNMATCHED_CLOSING_TAG,we(u,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:R.tag,value:r,children:i,location:we(n,this.clonePosition())},err:null}:this.error(T.INVALID_TAG,we(a,this.clonePosition())))}return this.error(T.UNCLOSED_TAG,we(n,this.clonePosition()))}return this.error(T.INVALID_TAG,we(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&Ue(this.char());)this.bump();return this.message.slice(e,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),r="";;){var o=this.tryParseQuote(t);if(o)r+=o;else{var i=this.tryParseUnquoted(e,t);if(i)r+=i;else{var a=this.tryParseLeftAngleBracket();if(!a)break;r+=a}}}var u=we(n,this.clonePosition());return{val:{type:R.literal,value:r,location:u},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&He(this.peek()||0)?null:(this.bump(),"<")},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return Re.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),Re(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(T.EXPECT_ARGUMENT_CLOSING_BRACE,we(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(T.EMPTY_ARGUMENT,we(n,this.clonePosition()));var r=this.parseIdentifierIfPossible().value;if(!r)return this.error(T.MALFORMED_ARGUMENT,we(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(T.EXPECT_ARGUMENT_CLOSING_BRACE,we(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:R.argument,value:r,location:we(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(T.EXPECT_ARGUMENT_CLOSING_BRACE,we(n,this.clonePosition())):this.parseArgumentOptions(e,t,r,n);default:return this.error(T.MALFORMED_ARGUMENT,we(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=Ie(this.message,t),r=t+n.length,o,i;return this.bumpTo(r),{value:n,location:we(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,r){var o,i=this.clonePosition(),a=this.parseIdentifierIfPossible().value,c=this.clonePosition();switch(a){case"":return this.error(T.EXPECT_ARGUMENT_TYPE,we(i,c));case"number":case"date":case"time":this.bumpSpace();var s=null,l;if(this.bumpIf(",")){this.bumpSpace();var f=this.clonePosition(),p,h,d;if((p=this.parseSimpleArgStyleIfPossible()).err)return p;if(0===(h=De(p.val)).length)return this.error(T.EXPECT_ARGUMENT_STYLE,we(this.clonePosition(),this.clonePosition()));s={style:h,styleLocation:we(f,this.clonePosition())}}if((l=this.tryParseArgumentClose(r)).err)return l;var v=we(r,this.clonePosition());if(s&&Te(null==s?void 0:s.style,"::",0)){var y=Me(s.style.slice(2)),p;if("number"===a)return(p=this.parseNumberSkeletonFromString(y,s.styleLocation)).err?p:{val:{type:R.number,value:n,location:v,style:p.val},err:null};if(0===y.length)return this.error(T.EXPECT_DATE_TIME_SKELETON,v);var m=y;this.locale&&(m=ye(y,this.locale));var h={type:A.dateTime,pattern:m,location:s.styleLocation,parsedOptions:this.shouldParseSkeletons?te(m):{}},b;return{val:{type:"date"===a?R.date:R.time,value:n,location:v,style:h},err:null}}return{val:{type:"number"===a?R.number:"date"===a?R.date:R.time,value:n,location:v,style:null!==(o=null==s?void 0:s.style)&&void 0!==o?o:null},err:null};case"plural":case"selectordinal":case"select":var g=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(T.EXPECT_SELECT_ARGUMENT_OPTIONS,we(g,u({},g)));this.bumpSpace();var w=this.parseIdentifierIfPossible(),O=0;if("select"!==a&&"offset"===w.value){if(!this.bumpIf(":"))return this.error(T.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,we(this.clonePosition(),this.clonePosition()));var p;if(this.bumpSpace(),(p=this.tryParseDecimalInteger(T.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,T.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return p;this.bumpSpace(),w=this.parseIdentifierIfPossible(),O=p.val}var _=this.tryParsePluralOrSelectOptions(e,a,t,w),l;if(_.err)return _;if((l=this.tryParseArgumentClose(r)).err)return l;var j=we(r,this.clonePosition());return"select"===a?{val:{type:R.select,value:n,options:Ae(_.val),location:j},err:null}:{val:{type:R.plural,value:n,options:Ae(_.val),offset:O,pluralType:"plural"===a?"cardinal":"ordinal",location:j},err:null};default:return this.error(T.INVALID_ARGUMENT_TYPE,we(i,c))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(T.EXPECT_ARGUMENT_CLOSING_BRACE,we(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){var n;switch(this.char()){case 39:this.bump();var r=this.clonePosition();if(!this.bumpUntil("'"))return this.error(T.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,we(r,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=re(e)}catch(e){return this.error(T.INVALID_NUMBER_SKELETON,t)}return{val:{type:A.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?he(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,r){for(var o,i=!1,a=[],u=new Set,c=r.value,s=r.location;;){if(0===c.length){var l=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var f=this.tryParseDecimalInteger(T.EXPECT_PLURAL_ARGUMENT_SELECTOR,T.INVALID_PLURAL_ARGUMENT_SELECTOR);if(f.err)return f;s=we(l,this.clonePosition()),c=this.message.slice(l.offset,this.offset())}if(u.has(c))return this.error("select"===t?T.DUPLICATE_SELECT_ARGUMENT_SELECTOR:T.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,s);"other"===c&&(i=!0),this.bumpSpace();var p=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?T.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:T.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,we(this.clonePosition(),this.clonePosition()));var h=this.parseMessage(e+1,t,n);if(h.err)return h;var d=this.tryParseArgumentClose(p);if(d.err)return d;a.push([c,{value:h.val,location:we(p,this.clonePosition())}]),u.add(c),this.bumpSpace(),c=(o=this.parseIdentifierIfPossible()).value,s=o.location}return 0===a.length?this.error("select"===t?T.EXPECT_SELECT_ARGUMENT_SELECTOR:T.EXPECT_PLURAL_ARGUMENT_SELECTOR,we(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!i?this.error(T.MISSING_OTHER_CLAUSE,we(this.clonePosition(),this.clonePosition())):{val:a,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var o=!1,i=0;!this.isEOF();){var a=this.char();if(!(a>=48&&a<=57))break;o=!0,i=10*i+(a-48),this.bump()}var u=we(r,this.clonePosition());return o?xe(i*=n)?{val:i,err:null}:this.error(t,u):this.error(e,u)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=Le(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(Te(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&ze(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function Ge(e){return e>=97&&e<=122||e>=65&&e<=90}function He(e){return Ge(e)||47===e}function Ue(e){return 45===e||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function ze(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function We(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function $e(e){e.forEach((function(e){if(delete e.location,z(e)||W(e))for(var t in e.options)delete e.options[t].location,$e(e.options[t].value);else G(e)&&X(e.style)||(H(e)||U(e))&&q(e.style)?delete e.style.location:K(e)&&$e(e.children)}))}function Ke(e,t){void 0===t&&(t={}),t=u({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new Fe(e,t).parse();if(n.err){var r=SyntaxError(T[n.err.kind]);throw r.location=n.err.location,r.originalMessage=n.err.message,r}return(null==t?void 0:t.captureLocation)||$e(n.val),n.val}function Xe(e,t){var n=t&&t.cache?t.cache:ot,r=t&&t.serializer?t.serializer:nt,o;return(t&&t.strategy?t.strategy:Qe)(e,{cache:n,serializer:r})}function qe(e){return null==e||"number"==typeof e||"boolean"==typeof e}function Ye(e,t,n,r){var o=qe(r)?r:n(r),i=t.get(o);return void 0===i&&(i=e.call(this,r),t.set(o,i)),i}function Je(e,t,n){var r=Array.prototype.slice.call(arguments,3),o=n(r),i=t.get(o);return void 0===i&&(i=e.apply(this,r),t.set(o,i)),i}function Ze(e,t,n,r,o){return n.bind(t,e,r,o)}function Qe(e,t){var n;return Ze(e,this,1===e.length?Ye:Je,t.cache.create(),t.serializer)}function et(e,t){return Ze(e,this,Je,t.cache.create(),t.serializer)}function tt(e,t){return Ze(e,this,Ye,t.cache.create(),t.serializer)}var nt=function(){return JSON.stringify(arguments)};function rt(){this.cache=Object.create(null)}rt.prototype.get=function(e){return this.cache[e]},rt.prototype.set=function(e,t){this.cache[e]=t};var ot={create:function e(){return new rt}},it={variadic:et,monadic:tt},at;!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(at||(at={}));var ut=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.code=n,o.originalMessage=r,o}return a(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),ct=function(e){function t(t,n,r,o){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(n,'". Options are "').concat(Object.keys(r).join('", "'),'"'),at.INVALID_VALUE,o)||this}return a(t,e),t}(ut),st=function(e){function t(t,n,r){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(n),at.INVALID_VALUE,r)||this}return a(t,e),t}(ut),lt=function(e){function t(t,n){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(n,'"'),at.MISSING_VALUE,n)||this}return a(t,e),t}(ut),ft;function pt(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===ft.literal&&t.type===ft.literal?n.value+=t.value:e.push(t),e}),[])}function ht(e){return"function"==typeof e}function dt(e,t,n,r,o,i,a){if(1===e.length&&V(e[0]))return[{type:ft.literal,value:e[0].value}];for(var u=[],c=0,s=e;c<s.length;c++){var l=s[c];if(V(l))u.push({type:ft.literal,value:l.value});else if($(l))"number"==typeof i&&u.push({type:ft.literal,value:n.getNumberFormat(t).format(i)});else{var f=l.value;if(!o||!(f in o))throw new lt(f,a);var p=o[f];if(F(l))p&&"string"!=typeof p&&"number"!=typeof p||(p="string"==typeof p||"number"==typeof p?String(p):""),u.push({type:"string"==typeof p?ft.literal:ft.object,value:p});else if(H(l)){var h="string"==typeof l.style?r.date[l.style]:q(l.style)?l.style.parsedOptions:void 0;u.push({type:ft.literal,value:n.getDateTimeFormat(t,h).format(p)})}else if(U(l)){var h="string"==typeof l.style?r.time[l.style]:q(l.style)?l.style.parsedOptions:r.time.medium;u.push({type:ft.literal,value:n.getDateTimeFormat(t,h).format(p)})}else if(G(l)){var h;(h="string"==typeof l.style?r.number[l.style]:X(l.style)?l.style.parsedOptions:void 0)&&h.scale&&(p*=h.scale||1),u.push({type:ft.literal,value:n.getNumberFormat(t,h).format(p)})}else{if(K(l)){var d=l.children,v=l.value,y=o[v];if(!ht(y))throw new st(v,"function",a);var m,b=y(dt(d,t,n,r,o,i).map((function(e){return e.value})));Array.isArray(b)||(b=[b]),u.push.apply(u,b.map((function(e){return{type:"string"==typeof e?ft.literal:ft.object,value:e}})))}if(z(l)){var g;if(!(g=l.options[p]||l.options.other))throw new ct(l.value,p,Object.keys(l.options),a);u.push.apply(u,dt(g.value,t,n,r,o))}else if(W(l)){var g;if(!(g=l.options["=".concat(p)])){if(!Intl.PluralRules)throw new ut('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',at.MISSING_INTL_API,a);var w=n.getPluralRules(t,{type:l.pluralType}).select(p-(l.offset||0));g=l.options[w]||l.options.other}if(!g)throw new ct(l.value,p,Object.keys(l.options),a);u.push.apply(u,dt(g.value,t,n,r,o,p-(l.offset||0)))}else;}}}return pt(u)}function vt(e,t){return t?u(u(u({},e||{}),t||{}),Object.keys(e).reduce((function(n,r){return n[r]=u(u({},e[r]),t[r]||{}),n}),{})):e}function yt(e,t){return t?Object.keys(e).reduce((function(n,r){return n[r]=vt(e[r],t[r]),n}),u({},e)):e}function mt(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}function bt(e){return void 0===e&&(e={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Xe((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,S([void 0],t,!1)))}),{cache:mt(e.number),strategy:it.variadic}),getDateTimeFormat:Xe((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,S([void 0],t,!1)))}),{cache:mt(e.dateTime),strategy:it.variadic}),getPluralRules:Xe((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,S([void 0],t,!1)))}),{cache:mt(e.pluralRules),strategy:it.variadic})}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(ft||(ft={}));var gt=function(){function e(t,n,r,o){var i=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=i.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===ft.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return dt(i.ast,i.locales,i.formatters,i.formats,e,void 0,i.message)},this.resolvedOptions=function(){return{locale:i.resolvedLocale.toString()}},this.getAst=function(){return i.ast},this.locales=n,this.resolvedLocale=e.resolveLocale(n),"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:null==o?void 0:o.ignoreTag,locale:this.resolvedLocale})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=yt(e.formats,r),this.formatters=o&&o.formatters||bt(this.formatterCache)}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(e){var t=Intl.NumberFormat.supportedLocalesOf(e);return t.length>0?new Intl.Locale(t[0]):new Intl.Locale("string"==typeof e?e:e[0])},e.__parse=Ke,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}(),wt=n(13),Ot=n(21),_t=n(2);function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function St(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pt(r.key),r)}}function kt(e,t,n){return t&&Et(e.prototype,t),n&&Et(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pt(e){var t=xt(e,"string");return"symbol"===jt(t)?t:String(t)}function xt(e,t){if("object"!==jt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Nt=new _t.e({level:"warn",bizName:"globalLocale"}),Ct={en:"en-US",zh:"zh-CN",zt:"zh-TW",es:"es-ES",pt:"pt-PT",fr:"fr-FR",de:"de-DE",it:"it-IT",ru:"ru-RU",ja:"ja-JP",ko:"ko-KR",ar:"ar-SA",tr:"tr-TR",th:"th-TH",vi:"vi-VN",nl:"nl-NL",he:"iw-IL",id:"in-ID",pl:"pl-PL",hi:"hi-IN",uk:"uk-UA",ms:"ms-MY",tl:"tl-PH"},Tt="ali-lowcode-config",Rt=function(){function e(){St(this,e),this.emitter=Object(wt.b)("GlobalLocale"),this._locale=void 0,this.emitter.setMaxListeners(0)}return kt(e,[{key:"locale",get:function e(){if(null!=this._locale)return this._locale;var t=null;if(Lt(window)){var n,r=window.localStorage,o;try{o=JSON.parse(r.getItem(Tt)||"")}catch(e){}null!==(n=o)&&void 0!==n&&n.locale&&(t=(o.locale||"").replace("_","-"),Nt.debug("getting locale from localStorage: ".concat(t)))}if(!t){var i=At("locale");i&&(t=Ct[i]||i.replace("_","-"),Nt.debug("getting locale from config: ".concat(t)))}if(!t){var a,u=window.navigator;if(u.language){var c=u.language;return Ct[c]||c.replace("_","-")}if(u.browserLanguage){var s=u.browserLanguage.split("-"),l=s[0];s[1]&&(l+="-".concat(s[1].toUpperCase())),t=l,Nt.debug("getting locale from system: ".concat(t))}}return t||(Nt.warn("something when wrong when trying to get locale, use zh-CN as default, please check it out!"),t="zh-CN"),this._locale=t,t}},{key:"setLocale",value:function e(t){if(Nt.info("setting locale to ".concat(t)),t!==this.locale){if(this._locale=t,Lt(window)){var n=window.localStorage,r;try{r=JSON.parse(n.getItem(Tt)||"")}catch(e){}r&&"object"===jt(r)?r.locale=t:r={locale:t},n.setItem(Tt,JSON.stringify(r))}this.emitter.emit("localechange",t)}}},{key:"getLocale",value:function e(){return this.locale}},{key:"onChangeLocale",value:function e(t){var n=this;return this.emitter.on("localechange",t),function(){n.emitter.removeListener("localechange",t)}}}]),e}();function At(e){var t=window;return t[e]||(t.g_config||{})[e]||(t.pageConfig||{})[e]}function Lt(e){return e.localStorage}Object(r.a)([Ot.h.ref,Object(r.b)("design:type",String)],Rt.prototype,"_locale",void 0),Object(r.a)([Ot.c,Object(r.b)("design:type",Object),Object(r.b)("design:paramtypes",[])],Rt.prototype,"locale",null);var Mt=new Rt,Dt=n(17);function It(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ft(r.key),r)}}function Vt(e,t,n){return t&&Bt(e.prototype,t),n&&Bt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ft(e){var t=Gt(e,"string");return"symbol"===qt(t)?t:String(t)}function Gt(e,t){if("object"!==qt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==qt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ht(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ut(e,t)}function Ut(e,t){return(Ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function zt(e){var t=Kt();return function n(){var r=Xt(e),o;if(t){var i=Xt(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Wt(this,o)}}function Wt(e,t){if(t&&("object"===qt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $t(e)}function $t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Xt(e){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function qt(e){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Jt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function Jt(e,t){if(e){if("string"==typeof e)return Zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zt(e,t):void 0}}function Zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qt(e){var t=[e,e.replace("-","_")];return"zh-TW"===e||"en-US"===e?(t.push("zh-CN"),t.push("zh_CN")):(t.push("en-US"),t.push("en_US"),"zh-CN"!==e&&(t.push("zh-CN"),t.push("zh_CN"))),t}function en(e,t,n){return e&&t?new gt(e,n).format(t):e;var r}function tn(e,t){if(!Object(_t.G)(e))return e;if(e.intl)return e.intl;var n=Mt.getLocale(),r,o,i=Yt(Qt(n)),a;try{for(i.s();!(a=i.n()).done;){var u;if(null!=(o=e[a.value]))break}}catch(e){i.e(e)}finally{i.f()}return null==o?"##intl@".concat(n,"##"):en(o,t,n)}function nn(e){if(!e||"object"!==qt(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=tn(e[n])})),t}function rn(e,t){return Object(_t.G)(e)?e.intlNode?e.intlNode:Object(o.createElement)(on,{data:e,params:t}):e}var on=function(e){Ht(n,e);var t=zt(n);function n(){return It(this,n),t.apply(this,arguments)}return Vt(n,[{key:"render",value:function e(){var t=this.props,n,r;return tn(t.data,t.params)}}]),n}(o.Component);function an(e){var t=function(){var t=Mt.getLocale();if("string"==typeof e){if(window[e])return window[e][t]||{};var n="".concat(e,"_").concat(t.toLocaleLowerCase());return window[n]||{}}return e&&"object"===qt(e)&&e[t]||{}}();function n(e,n){var r=t[e];return null==r?"##intl@".concat(e,"##"):en(r,n,Mt.getLocale())}var i=function(e){Ht(r,e);var t=zt(r);function r(){return It(this,r),t.apply(this,arguments)}return Vt(r,[{key:"render",value:function e(){var t=this.props,r,o;return n(t.id,t.params)}}]),r}(o.Component);return i=Object(r.a)([Dt.i],i),{intlNode:function e(t,n){return Object(o.createElement)(i,{id:t,params:n})},intl:n,getLocale:function e(){return Mt.getLocale()},setLocale:function e(t){Mt.setLocale(t)}}}on=Object(r.a)([Dt.i],on)},function(e,t){e.exports=window.ReactDOM},function(e,t){var n=function(e){return setTimeout((function(){var t=Date.now();e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},r="undefined"!=typeof requestIdleCallback;e.exports=r?requestIdleCallback:n,e.exports.cancelIdleCallback=r?cancelIdleCallback:clearTimeout},function(e,t,n){"use strict";var r;n.d(t,"e",(function(){return i})),n.d(t,"j",(function(){return a.h})),n.d(t,"h",(function(){return a.f})),n.d(t,"b",(function(){return a.b})),n.d(t,"f",(function(){return a.d})),n.d(t,"k",(function(){return a.i})),n.d(t,"c",(function(){return a.c})),n.d(t,"a",(function(){return a.a})),n.d(t,"l",(function(){return a.j})),n.d(t,"n",(function(){return a.k})),n.d(t,"g",(function(){return a.e})),n.d(t,"i",(function(){return a.g})),n.d(t,"d",(function(){return M})),n.d(t,"m",(function(){return G})),n.d(t,"o",(function(){return H}));var o=null===(r=document.currentScript)||void 0===r?void 0:r.src.replace(/^(.*\/)[^/]+$/,"$1");function i(){return o||""}var a=n(21),u=n(53),c;function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=h(e,"string");return"symbol"===d(t)?t:String(t)}function h(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){return w(e)||g(e,t)||m(e,t)||y()}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function w(e){if(Array.isArray(e))return e}var O=n.n(u)()("request");function _(e){if(!e)return"";var t=[];return Object.entries(e||{}).forEach((function(e){var n=v(e,2),r=n[0],o=n[1];null!=o&&""!==o&&("object"===d(o)?t.push("".concat(r,"=").concat(encodeURIComponent(JSON.stringify(o)))):t.push("".concat(r,"=").concat(encodeURIComponent(o))))})),t.join("&")}function j(e,t){var n=_(t);return n?e.indexOf("?")>0?"".concat(e,"&").concat(n):"".concat(e,"?").concat(n):e}function S(e,t,n,r){var o=l({Accept:"application/json"},n);return k(j(e,t),"GET",void 0,o,r)}function E(e,t,n,r){var o=l({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},n);return k(e,"POST",o["Content-Type"].indexOf("application/json")>-1||Array.isArray(t)?JSON.stringify(t):_(t),o,r)}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return new Promise((function(i,a){o&&o.timeout&&setTimeout((function(){a(new Error("timeout"))}),o.timeout),fetch(e,l({method:t,credentials:"include",headers:r,body:n},o)).then((function(e){switch(e.status){case 200:case 201:case 202:return e.json();case 204:return"DELETE"===t?{success:!0}:{__success:!1,code:e.status};case 400:case 401:case 403:case 404:case 406:case 410:case 422:case 500:return e.json().then((function(t){return{__success:!1,code:e.status,data:t}})).catch((function(){return{__success:!1,code:e.status}}));default:return null}})).then((function(e){e&&!1!==e.__success?i(e):(delete e.__success,a(e))})).catch((function(e){O(e),a(e)}))}))}function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T(r.key),r)}}function C(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function T(e){var t=R(e,"string");return"symbol"===P(t)?t:String(t)}function R(e,t){if("object"!==P(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var A=function(){function e(){x(this,e),this.actives=[],this.modals=[]}return C(e,[{key:"mount",value:function e(t){var n=this,r=function e(t){if(!n.checkModalDown(t)){var r=n.first;r&&!r.internalCheckInRange(t)&&(n.internalSuspenseItem(r),r.internalTriggerBlur())}};return t.document.addEventListener("click",r,!0),function(){t.document.removeEventListener("click",r,!0)}}},{key:"first",get:function e(){return this.actives[0]}},{key:"addModal",value:function e(t,n){this.modals.push({checkDown:t,checkOpen:n})}},{key:"checkModalOpen",value:function e(){return this.modals.some((function(e){return e.checkOpen()}))}},{key:"checkModalDown",value:function e(t){return this.modals.some((function(e){return e.checkDown(t)}))}},{key:"execSave",value:function e(){this.checkModalOpen()||this.first&&this.first.internalTriggerSave()}},{key:"execEsc",value:function e(){var t=this.first;t&&(this.internalSuspenseItem(t),t.internalTriggerEsc())}},{key:"create",value:function e(t){return new L(this,t)}},{key:"internalActiveItem",value:function e(t){var n=this.actives[0];if(n!==t){var r=this.actives.indexOf(t);r>-1&&this.actives.splice(r,1),this.actives.unshift(t),!t.isModal&&n&&n.internalTriggerBlur(),t.internalTriggerActive()}}},{key:"internalSuspenseItem",value:function e(t){var n=this.actives.indexOf(t),r;n>-1&&(this.actives.splice(n,1),null===(r=this.first)||void 0===r||r.internalTriggerActive())}}]),e}(),L=function(){function e(t,n){x(this,e),this.tracker=void 0,this.config=void 0,this.isModal=void 0,this.tracker=t,this.config=n,this.isModal=null!=n.modal&&n.modal}return C(e,[{key:"active",value:function e(){this.tracker.internalActiveItem(this)}},{key:"suspense",value:function e(){this.tracker.internalSuspenseItem(this)}},{key:"purge",value:function e(){this.tracker.internalSuspenseItem(this)}},{key:"internalCheckInRange",value:function e(t){var n=this.config.range;return!!n&&("function"==typeof n?n(t):n.contains(t.target))}},{key:"internalTriggerBlur",value:function e(){this.config.onBlur&&this.config.onBlur()}},{key:"internalTriggerSave",value:function e(){return!!this.config.onSave&&(this.config.onSave(),!0)}},{key:"internalTriggerEsc",value:function e(){this.config.onEsc&&this.config.onEsc()}},{key:"internalTriggerActive",value:function e(){this.config.onActive&&this.config.onActive()}}]),e}(),M=new A;M.mount(window);var D=!0;function I(e){D=e}function B(){I(!0)}function V(){I(!1)}function F(){return D}function G(e){V(),e(),B()}function H(e){return function(){F()&&e.apply(void 0,arguments)}}var U=n(28)},function(e,t,n){(function(t){var n=a(),r=u(),o=c(),i="undefined"!=typeof window?window:t;function a(){return Object.assign?Object.assign:function e(t,n,r,o){for(var i=1;i<arguments.length;i++)f(Object(arguments[i]),(function(e,n){t[n]=e}));return t}}function u(){if(Object.create)return function e(t,r,o,i){var a=l(arguments,1);return n.apply(this,[Object.create(t)].concat(a))};{function e(){}return function t(r,o,i,a){var u=l(arguments,1);return e.prototype=r,n.apply(this,[new e].concat(u))}}}function c(){return String.prototype.trim?function e(t){return String.prototype.trim.call(t)}:function e(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function s(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}}function l(e,t){return Array.prototype.slice.call(e,t||0)}function f(e,t){h(e,(function(e,n){return t(e,n),!1}))}function p(e,t){var n=d(e)?[]:{};return h(e,(function(e,r){return n[r]=t(e,r),!1})),n}function h(e,t){if(d(e)){for(var n=0;n<e.length;n++)if(t(e[n],n))return e[n]}else for(var r in e)if(e.hasOwnProperty(r)&&t(e[r],r))return e[r]}function d(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}function v(e){return e&&"[object Function]"==={}.toString.call(e)}function y(e){return e&&"[object Object]"==={}.toString.call(e)}e.exports={assign:n,create:r,trim:o,bind:s,slice:l,each:f,map:p,pluck:h,isList:d,isFunction:v,isObject:y,Global:i}}).call(this,n(22))},function(e,t,n){const r=n(37),o=(e,t,n)=>new r(e,n).compare(new r(t,n));e.exports=o},function(e,t,n){"use strict";var r=n(38);n.d(t,"Setters",(function(){return r.a}));var o=n(39);n.o(o,"Hotkey")&&n.d(t,"Hotkey",(function(){return o.Hotkey})),n.o(o,"Tip")&&n.d(t,"Tip",(function(){return o.Tip})),n.o(o,"TipContainer")&&n.d(t,"TipContainer",(function(){return o.TipContainer})),n.o(o,"Title")&&n.d(t,"Title",(function(){return o.Title})),n.o(o,"createModuleEventBus")&&n.d(t,"createModuleEventBus",(function(){return o.createModuleEventBus})),n.o(o,"engineConfig")&&n.d(t,"engineConfig",(function(){return o.engineConfig})),n.o(o,"globalContext")&&n.d(t,"globalContext",(function(){return o.globalContext}));var i=n(26);n.d(t,"Tip",(function(){return i.a}))},function(e,t,n){"use strict";n.d(t,"h",(function(){return r.observable})),n.d(t,"f",(function(){return r.observable})),n.d(t,"b",(function(){return r.autorun})),n.d(t,"d",(function(){return r.makeObservable})),n.d(t,"i",(function(){return r.reaction})),n.d(t,"c",(function(){return r.computed})),n.d(t,"a",(function(){return r.action})),n.d(t,"j",(function(){return r.runInAction})),n.d(t,"k",(function(){return r.untracked})),n.d(t,"e",(function(){return r})),n.d(t,"g",(function(){return we}));var r=n(6),o=n(1),i=n.n(o);if(!o.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!r.makeObservable)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var a=n(15);function u(e){e()}function c(e){e||(e=u),Object(r.configure)({reactionScheduler:e})}var s=function(){return!0},l=[];function f(e){l.includes(e)||(l.push(e),console.warn(e))}function p(e){return Object(r.getDependencyTree)(e)}var h="undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry;function d(e){var t;return{reaction:e,mounted:!1,changedBeforeMount:!1,cleanAt:Date.now()+v}}var v=1e4,y=1e4;function m(e){var t=new Map,n=1,r=new e((function e(n){var r=t.get(n);r&&(r.reaction.dispose(),t.delete(n))}));return{addReactionToTrack:function(e,o,i){var a=n++;return r.register(i,a,e),e.current=d(o),e.current.finalizationRegistryCleanupToken=a,t.set(a,e.current),e.current},recordReactionAsCommitted:function(e){r.unregister(e),e.current&&e.current.finalizationRegistryCleanupToken&&t.delete(e.current.finalizationRegistryCleanupToken)},forceCleanupTimerToRunNowForTests:function(){},resetCleanupScheduleForTests:function(){}}}var b=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function g(){var e=new Set,t;function n(){t&&(clearTimeout(t),u())}function r(){var n,r;if(e.size>0){try{for(var o=b(e),i=o.next();!i.done;i=o.next()){var a=i.value,u=a.current;u&&(u.reaction.dispose(),a.current=null)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}e.clear()}t&&(clearTimeout(t),t=void 0)}function o(){void 0===t&&(t=setTimeout(u,1e4))}function i(t){e.add(t),o()}function a(t){e.delete(t)}function u(){t=void 0;var n=Date.now();e.forEach((function(t){var r=t.current;r&&n>=r.cleanAt&&(r.reaction.dispose(),t.current=null,e.delete(t))})),e.size>0&&o()}return{addReactionToTrack:function(e,t,n){return e.current=d(t),i(e),e.current},recordReactionAsCommitted:a,forceCleanupTimerToRunNowForTests:n,resetCleanupScheduleForTests:r}}var w=h?m(h):g(),O=w.addReactionToTrack,_=w.recordReactionAsCommitted,j=w.resetCleanupScheduleForTests,S=w.forceCleanupTimerToRunNowForTests,E=!1;function k(e){E=e}function P(){return E}var x=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};function N(e){return"observer".concat(e)}var C=function(){function e(){}return e}();function T(){return new C}function R(e,t){if(void 0===t&&(t="observed"),P())return e();var n,o=x(i.a.useState(T),1)[0],a,u=x(i.a.useState(),2)[1],c=function(){return u([])},s=i.a.useRef(null);if(!s.current)var l=new r.Reaction(N(t),(function(){f.mounted?c():f.changedBeforeMount=!0})),f=O(s,l,o);var h=s.current.reaction,d,v;if(i.a.useDebugValue(h,p),i.a.useEffect((function(){return _(s),s.current?(s.current.mounted=!0,s.current.changedBeforeMount&&(s.current.changedBeforeMount=!1,c())):(s.current={reaction:new r.Reaction(N(t),(function(){c()})),mounted:!0,changedBeforeMount:!1,cleanAt:1/0},c()),function(){s.current.reaction.dispose(),s.current=null}}),[]),h.track((function(){try{d=e()}catch(e){v=e}})),v)throw v;return d}var A=!0,L="function"==typeof Symbol&&Symbol.for,M=L?Symbol.for("react.forward_ref"):"function"==typeof o.forwardRef&&Object(o.forwardRef)((function(e){return null})).$$typeof,D=L?Symbol.for("react.memo"):"function"==typeof o.memo&&Object(o.memo)((function(e){return null})).$$typeof;function I(e,t){var n;if(D&&e.$$typeof===D)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if(P())return e;var r=null!==(n=null==t?void 0:t.forwardRef)&&void 0!==n&&n,i=e,a=e.displayName||e.name;if(M&&e.$$typeof===M&&(r=!0,"function"!=typeof(i=e.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var u=function(e,t){return R((function(){return i(e,t)}),a)};return""!==a&&(u.displayName=a),e.contextTypes&&(u.contextTypes=e.contextTypes),r&&(u=Object(o.forwardRef)(u)),V(e,u=Object(o.memo)(u)),u}var B={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function V(e,t){Object.keys(e).forEach((function(n){B[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}function F(e){var t=e.children,n=e.render,r=t||n;return"function"!=typeof r?null:R(r)}function G(e,t,n,r,o){var i="children"===t?"render":"children",a="function"==typeof e[t],u="function"==typeof e[i];return a&&u?new Error("MobX Observer: Do not use children and render in the same time in`"+n):a||u?null:new Error("Invalid prop `"+o+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}function H(e,t){return Object(o.useState)((function(){return Object(r.observable)(e(),t,{autoBind:!0})}))[0]}F.displayName="Observer";var U=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};function z(e){var t,n=U(Object(o.useState)((function(){return Object(r.observable)(e,{},{deep:!1})})),1)[0];return Object(r.runInAction)((function(){Object.assign(n,e)})),n}function W(e,t){var n=t&&z(t);return Object(o.useState)((function(){return Object(r.observable)(e(n),void 0,{autoBind:!0})}))[0]}function $(e,t){return void 0===t&&(t="observed"),R(e,t)}function K(e){k(e)}c(a.unstable_batchedUpdates);var X=0;function q(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+X+")";return X++,t}var Y={};function J(e){return Y[e]||(Y[e]=q(e)),Y[e]}function Z(e,t){if(Q(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.hasOwnProperty.call(t,n[o])||!Q(e[n[o]],t[n[o]]))return!1;return!0}function Q(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var ee={$$typeof:1,render:1,compare:1,type:1,childContextTypes:1,contextType:1,contextTypes:1,defaultProps:1,getDefaultProps:1,getDerivedStateFromError:1,getDerivedStateFromProps:1,mixins:1,displayName:1,propTypes:1};function te(e,t){var n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));Object.getOwnPropertyNames(e).forEach((function(r){ee[r]||-1!==n.indexOf(r)||Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}function ne(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var re=J("patchMixins"),oe=J("patchedDefinition");function ie(e,t){var n=e[re]=e[re]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}function ae(e,t){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t.locks++;try{var a;return null!=e&&(a=e.apply(this,o)),a}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,o)}))}}function ue(e,t){var n;return function n(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];ae.call.apply(ae,[this,e,t].concat(o))}}function ce(e,t,n){var r=ie(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var o=Object.getOwnPropertyDescriptor(e,t);if(!o||!o[oe]){var i=e[t],a=se(e,t,o?o.enumerable:void 0,r,i);Object.defineProperty(e,t,a)}}function se(e,t,n,r,o){var i,a=ue(o,r);return(i={})[oe]=!0,i.get=function e(){return a},i.set=function o(i){if(this===e)a=ue(i,r);else{var u=se(this,t,n,r,i);Object.defineProperty(this,t,u)}},i.configurable=!0,i.enumerable=n,i}var le=r.$mobx||"$mobx",fe=J("isMobXReactObserver"),pe=J("isUnmounted"),he=J("skipRender"),de=J("isForcingUpdate");function ve(e){var t=e.prototype;if(e[fe]){var n=ye(t);console.warn("The provided component class ("+n+")\n                has already been declared as an observer component.")}else e[fe]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==o.PureComponent)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==be)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=be;ge(t,"props"),ge(t,"state"),e.contextType&&ge(t,"context");var r=t.render;if("function"!=typeof r){var i=ye(t);throw new Error("[mobx-react] class component ("+i+") is missing `render` method.\n`observer` requires `render` being a function defined on prototype.\n`render = () => {}` or `render = function() {}` is not supported.")}return t.render=function(){return this.render=P()?r:me.call(this,r),this.render()},ce(t,"componentDidMount",(function(){this[pe]=!1,this.render[le]||o.Component.prototype.forceUpdate.call(this)})),ce(t,"componentWillUnmount",(function(){if(!P()){var e=this.render[le];if(e)e.dispose(),this.render[le]=null;else{var t=ye(this);console.warn("The reactive render of an observer class component ("+t+")\n                was overridden after MobX attached. This may result in a memory leak if the\n                overridden reactive render was not properly disposed.")}this[pe]=!0}})),e}function ye(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function me(e){var t=this;ne(this,he,!1),ne(this,de,!1);var n=ye(this),i=e.bind(this),a=!1,u=function e(){var i=new r.Reaction(n+".render()",(function(){if(!a&&(a=!0,!0!==t[pe])){var e=!0;try{ne(t,de,!0),t[he]||o.Component.prototype.forceUpdate.call(t),e=!1}finally{ne(t,de,!1),e&&(i.dispose(),t.render[le]=null)}}}));return i.reactComponent=t,i};function c(){var e;a=!1;var t=null!=(e=c[le])?e:c[le]=u(),n=void 0,o=void 0;if(t.track((function(){try{o=Object(r._allowStateChanges)(!1,i)}catch(e){n=e}})),n)throw n;return o}return c}function be(e,t){return P()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!Z(this.props,e)}function ge(e,t){var n=J("reactProp_"+t+"_valueHolder"),o=J("reactProp_"+t+"_atomHolder");function i(){return this[o]||ne(this,o,Object(r.createAtom)("reactive "+t)),this[o]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function e(){var t=!1;return r._allowStateReadsStart&&r._allowStateReadsEnd&&(t=Object(r._allowStateReadsStart)(!0)),i.call(this).reportObserved(),r._allowStateReadsStart&&r._allowStateReadsEnd&&Object(r._allowStateReadsEnd)(t),this[n]},set:function e(t){this[de]||Z(this[n],t)?ne(this,n,t):(ne(this,n,t),ne(this,he,!0),i.call(this).reportChanged(),ne(this,he,!1))}})}function we(e){return!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use `observer` on a component that already has `inject`. Please apply `observer` before applying `inject`"),Object.prototype.isPrototypeOf.call(o.Component,e)||Object.prototype.isPrototypeOf.call(o.PureComponent,e)?ve(e):I(e)}function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _e(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}var je=["children"],Se=i.a.createContext({});function Ee(e){var t=e.children,n=_e(e,je),r=i.a.useContext(Se),o,a=i.a.useRef(Oe({},r,n)).current,u;return i.a.createElement(Se.Provider,{value:a},t)}function ke(e,t,n,r){var o=i.a.forwardRef((function(n,r){var o=Oe({},n),a=i.a.useContext(Se);return Object.assign(o,e(a||{},o)||{}),r&&(o.ref=r),i.a.createElement(t,o)}));return r&&(o=we(o)),o.isMobxInjector=!0,te(t,o),o.wrappedComponent=t,o.displayName=Pe(t,n),o}function Pe(e,t){var n,r=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return n=t?"inject-with-"+t+"("+r+")":"inject("+r+")"}function xe(e){return function(t,n){return e.forEach((function(e){if(!(e in n)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");n[e]=t[e]}})),n}}function Ne(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if("function"==typeof arguments[0]){var r=arguments[0];return function(e){return ke(r,e,r.name,!0)}}return function(e){return ke(xe(t),e,t.join("-"),!1)}}Ee.displayName="MobXProvider";var Ce=J("disposeOnUnmountProto"),Te=J("disposeOnUnmountInst");function Re(){var e=this;[].concat(this[Ce]||[],this[Te]||[]).forEach((function(t){var n="string"==typeof t?e[t]:t;null!=n&&(Array.isArray(n)?n.map((function(e){return e()})):n())}))}function Ae(e,t){if(Array.isArray(t))return t.map((function(t){return Ae(e,t)}));var n=Object.getPrototypeOf(e).constructor,r=Object.getPrototypeOf(e.constructor),o=Object.getPrototypeOf(Object.getPrototypeOf(e));if(n!==i.a.Component&&n!==i.a.PureComponent&&r!==i.a.Component&&r!==i.a.PureComponent&&o!==i.a.Component&&o!==i.a.PureComponent)throw new Error("[mobx-react] disposeOnUnmount only supports direct subclasses of React.Component or React.PureComponent.");if("string"!=typeof t&&"function"!=typeof t&&!Array.isArray(t))throw new Error("[mobx-react] disposeOnUnmount only works if the parameter is either a property key or a function.");var a="string"==typeof t,u=!!e[Ce]||!!e[Te],c;return(a?e[Ce]||(e[Ce]=[]):e[Te]||(e[Te]=[])).push(t),u||ce(e,"componentWillUnmount",Re),"string"!=typeof t?t:void 0}function Le(e){function t(t,n,o,i,a,u){for(var c=arguments.length,s=new Array(c>6?c-6:0),l=6;l<c;l++)s[l-6]=arguments[l];return Object(r.untracked)((function(){if(i=i||"<<anonymous>>",u=u||o,null==n[o]){if(t){var r=null===n[o]?"null":"undefined";return new Error("The "+a+" `"+u+"` is marked as required in `"+i+"`, but its value is `"+r+"`.")}return null}return e.apply(void 0,[n,o,i,a,u].concat(s))}))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function Me(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function De(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":Me(t,e)?"symbol":t}function Ie(e){var t=De(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function Be(e,t){return Le((function(n,o,i,a,u){return Object(r.untracked)((function(){if(e&&De(n[o])===t.toLowerCase())return null;var a;switch(t){case"Array":a=r.isObservableArray;break;case"Object":a=r.isObservableObject;break;case"Map":a=r.isObservableMap;break;default:throw new Error("Unexpected mobxType: "+t)}var c=n[o];if(!a(c)){var s=Ie(c),l=e?" or javascript `"+t.toLowerCase()+"`":"";return new Error("Invalid prop `"+u+"` of type `"+s+"` supplied to `"+i+"`, expected `mobx.Observable"+t+"`"+l+".")}return null}))}))}function Ve(e,t){return Le((function(n,o,i,a,u){for(var c=arguments.length,s=new Array(c>5?c-5:0),l=5;l<c;l++)s[l-5]=arguments[l];return Object(r.untracked)((function(){if("function"!=typeof t)return new Error("Property `"+u+"` of component `"+i+"` has invalid PropType notation.");var r=Be(e,"Array")(n,o,i,a,u);if(r instanceof Error)return r;for(var c=n[o],l=0;l<c.length;l++)if((r=t.apply(void 0,[c,l,i,a,u+"["+l+"]"].concat(s)))instanceof Error)return r;return null}))}))}var Fe,Ge,He,Ue,ze,We,$e,Ke=Be(!1,"Array"),Xe=Ve.bind(null,!1),qe=Be(!1,"Map"),Ye=Be(!1,"Object"),Je=Be(!0,"Array"),Ze=Ve.bind(null,!0),Qe=Be(!0,"Object");if(!o.Component)throw new Error("mobx-react requires React to be available");if(!r.observable)throw new Error("mobx-react requires mobx to be available");Object(r.configure)({enforceActions:"never"})},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.logger=void 0,o(n(75),t),o(n(24),t),o(n(78),t),o(n(40),t),o(n(41),t),o(n(42),t),o(n(79),t);var i=n(42);t.logger=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.symbolString=t.isExtendOf=t.getGlobalType=t.isClass=void 0;var r=n(34),o=n(40),i=0,a={};function u(e){return(null==e?void 0:e.prototype)&&e.prototype.constructor===e}function c(e,t){if(void 0===t&&(t=""),!e)throw new Error("no key.");if(["string","symbol","object"].includes(typeof e))return e;if(e.hasOwnProperty("__type"))return e.__type;var n,o=e[r.nameSymbol]||e.name;if("function"!=typeof e||!o)throw new Error("data MUST be a class or string.");return a[n=t+o]&&(n=n+"_"+i++),a[n]=!0,Object.defineProperty(e,"__type",{configurable:!1,enumerable:!1,writable:!1,value:n}),n}function s(e,t){if(!u(e)||!u(t))throw new Error("classType and superClassType MUST be a class.");var n=c(t);return!!(0,o.getSuperClassInfo)(e).find((function(e){return e.type===n}))}function l(e){return"symbol"==typeof e?e.toString():e}t.isClass=u,t.getGlobalType=c,t.isExtendOf=s,t.symbolString=l},function(e,t,n){"use strict";var r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o,i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r=0,o=t.length,i;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.classLoader=t.ClassLoader=t.DuplicateRegistrationError=void 0;var a=n(12),u=n(23),c=function(e){function t(t){return e.call(this,"Type ".concat(t.name," is already registration."))||this}return r(t,e),t}(Error);t.DuplicateRegistrationError=c;var s=function(){function e(e,t){void 0===e&&(e=new Map),void 0===t&&(t=new Map),this.classInfoMap=e,this.implementCacheMap=t}return e.prototype.hasClass=function(e){return this.classInfoMap.has(e)},e.prototype.registerClass=function(e,t){var n=this,r;if(this.classInfoMap.has(e))throw new c(e);var o=(0,a.getMetadata)(e);o.injectable=!0;var s=t||o.classInfo;if(s.name||(s.name=e.name),!(null===(r=s.extends)||void 0===r?void 0:r.length)){var l=(0,u.getSuperClassInfo)(e);s.extends=l.map((function(e){return e.class}))}return this.classInfoMap.set(e,s),s.implements||(s.implements=[]),i(i([],s.extends,!0),s.implements,!0).forEach((function(t){var r=n.getImplCacheByType(t);r.every((function(t){return t.type!==e}))&&r.push({type:e,info:s})})),this},e.prototype.unregisterClass=function(e){var t=this,n=this.classInfoMap.get(e);return!!n&&(i(i([],n.extends,!0),n.implements,!0).forEach((function(n){var r=t.getImplCacheByType(n),o=r.findIndex((function(t){return t.type===e}));o>=0&&r.splice(o,1)})),this.classInfoMap.delete(e))},e.prototype.getClassInfo=function(e){return this.classInfoMap.get(e)},e.prototype.filterClasses=function(e){var t=[];return this.classInfoMap.forEach((function(n,r){var o={type:r,info:n};e(o)&&t.push(o)})),t},e.prototype.getImplementClasses=function(e){return this.getImplCacheByType(e)},e.prototype.clearAll=function(){return this.classInfoMap.clear(),this.implementCacheMap.clear(),this},e.prototype.clone=function(){var e,t=new(0,this.constructor);return t.initWith(this),t},e.prototype.initWith=function(e){this.classInfoMap=new Map(e.classInfoMap),this.implementCacheMap=this.cloneImplCacheMap(e.implementCacheMap)},e.prototype.cloneImplCacheMap=function(e){return new Map(Array.from(e.entries()).map((function(e){var t=e[0],n=e[1];return[t,i([],n,!0)]})))},e.prototype.getImplCacheByType=function(e){var t=(0,u.getGlobalType)(e);return this.implementCacheMap.has(t)?this.implementCacheMap.get(t):(this.implementCacheMap.set(t,[]),this.getImplCacheByType(e))},e}();t.ClassLoader=s,t.classLoader=new s},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(1),o=n.n(r),i=n(2),a=n(10);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=p(e,"string");return"symbol"===u(t)?t:String(t)}function p(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function v(e){var t=b();return function n(){var r=g(e),o;if(t){var i=g(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return y(this,o)}}function y(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var w=function(e){h(n,e);var t=v(n);function n(){var e;c(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).id=Object(i.cb)("tips$"),e}return l(n,[{key:"componentWillUnmount",value:function e(){Object(a.a)(this.id,null)}},{key:"render",value:function e(){return Object(a.a)(this.id,this.props),React.createElement("meta",{"data-role":"tip","data-tip-id":this.id})}}]),n}(r.Component)},function(e,t,n){(function(t){const n="object"==typeof t&&t.env&&t.env.NODE_DEBUG&&/\bsemver\b/i.test(t.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=n}).call(this,n(33))},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(32),o=n.n(r),i=n(31);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function s(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=f(e,"string");return"symbol"===a(t)?t:String(t)}function f(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var p=Object(i.a)({level:"warn",bizName:"Preference"}),h="ale",d=function(){function e(){u(this,e)}return s(e,[{key:"getStorageKey",value:function e(t,n){var r=n||"__inner__";return"".concat("ale","_").concat(r,".").concat(t)}},{key:"set",value:function e(t,n,r){if(t&&"string"==typeof t&&0!==t.length){var i=this.getStorageKey(t,r);p.debug("storageKey:",i,"set with value:",n),o.a.set(i,n)}else p.error("Invalid key when setting preference",t)}},{key:"get",value:function e(t,n){if(t&&"string"==typeof t&&0!==t.length){var r=this.getStorageKey(t,n),i=o.a.get(r);return p.debug("storageKey:",r,"get with result:",i),i}p.error("Invalid key when getting from preference",t)}},{key:"contains",value:function e(t,n){if(!t||"string"!=typeof t||0===t.length)return p.error("Invalid key when getting from preference",t),!1;var r=this.getStorageKey(t,n),i=o.a.get(r);return!(null==i)}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(8),o=n.n(r),i=n(2),a=n(31),u=n(28);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){var t=h(e,"string");return"symbol"===c(t)?t:String(t)}function h(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d=Object(a.a)({level:"log",bizName:"config"}),v=!0,y={enableCondition:{type:"boolean",description:"\u662f\u5426\u5f00\u542f condition \u7684\u80fd\u529b\uff0c\u9ed8\u8ba4\u5728\u8bbe\u8ba1\u5668\u4e2d\u4e0d\u7ba1 condition \u662f\u5565\u90fd\u6b63\u5e38\u5c55\u793a"},designMode:{type:"string",enum:["design","live"],default:"design",description:"\u8bbe\u8ba1\u6a21\u5f0f\uff0clive \u6a21\u5f0f\u5c06\u4f1a\u5b9e\u65f6\u5c55\u793a\u53d8\u91cf\u503c"},device:{type:"string",enum:["default","mobile","any string value"],default:"default",description:"\u8bbe\u5907\u7c7b\u578b"},deviceClassName:{type:"string",default:void 0,description:"\u6307\u5b9a\u521d\u59cb\u5316\u7684 deviceClassName\uff0c\u6302\u8f7d\u5230\u753b\u5e03\u7684\u9876\u5c42\u8282\u70b9\u4e0a"},locale:{type:"string",default:"zh-CN",description:"\u8bed\u8a00"},renderEnv:{type:"string",enum:["react","rax","any string value"],default:"react",description:"\u6e32\u67d3\u5668\u7c7b\u578b"},deviceMapper:{type:"object",description:"\u8bbe\u5907\u7c7b\u578b\u6620\u5c04\u5668\uff0c\u5904\u7406\u8bbe\u8ba1\u5668\u4e0e\u6e32\u67d3\u5668\u4e2d device \u7684\u6620\u5c04"},enableStrictPluginMode:{type:"boolean",default:!0,description:"\u5f00\u542f\u4e25\u683c\u63d2\u4ef6\u6a21\u5f0f\uff0c\u9ed8\u8ba4\u503c\uff1aSTRICT_PLUGIN_MODE_DEFAULT , \u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u63d2\u4ef6\u5c06\u65e0\u6cd5\u901a\u8fc7 engineOptions \u4f20\u9012\u81ea\u5b9a\u4e49\u914d\u7f6e\u9879"},enableReactiveContainer:{type:"boolean",default:!1,description:"\u5f00\u542f\u62d6\u62fd\u7ec4\u4ef6\u65f6\uff0c\u5373\u5c06\u88ab\u653e\u5165\u7684\u5bb9\u5668\u662f\u5426\u6709\u89c6\u89c9\u53cd\u9988"},disableAutoRender:{type:"boolean",default:!1,description:"\u5173\u95ed\u753b\u5e03\u81ea\u52a8\u6e32\u67d3\uff0c\u5728\u8d44\u4ea7\u5305\u591a\u91cd\u5f02\u6b65\u52a0\u8f7d\u7684\u573a\u666f\u6709\u6548"},disableDetecting:{type:"boolean",default:!1,description:"\u5173\u95ed\u62d6\u62fd\u7ec4\u4ef6\u65f6\u7684\u865a\u7ebf\u54cd\u5e94\uff0c\u6027\u80fd\u8003\u8651"},customizeIgnoreSelectors:{type:"function",default:void 0,description:"\u5b9a\u5236\u753b\u5e03\u4e2d\u70b9\u51fb\u88ab\u5ffd\u7565\u7684 selectors, eg. (defaultIgnoreSelectors: string[], e: MouseEvent) => string[]"},disableDefaultSettingPanel:{type:"boolean",default:!1,description:"\u7981\u6b62\u9ed8\u8ba4\u7684\u8bbe\u7f6e\u9762\u677f"},disableDefaultSetters:{type:"boolean",default:!1,description:"\u7981\u6b62\u9ed8\u8ba4\u7684\u8bbe\u7f6e\u5668"},enableCanvasLock:{type:"boolean",default:!1,description:"\u6253\u5f00\u753b\u5e03\u7684\u9501\u5b9a\u64cd\u4f5c"},enableLockedNodeSetting:{type:"boolean",default:!1,description:"\u5bb9\u5668\u9501\u5b9a\u540e\uff0c\u5bb9\u5668\u672c\u8eab\u662f\u5426\u53ef\u4ee5\u8bbe\u7f6e\u5c5e\u6027\uff0c\u4ec5\u5f53\u753b\u5e03\u9501\u5b9a\u7279\u6027\u5f00\u542f\u65f6\u751f\u6548"},stayOnTheSameSettingTab:{type:"boolean",default:!1,description:"\u5f53\u9009\u4e2d\u8282\u70b9\u5207\u6362\u65f6\uff0c\u662f\u5426\u505c\u7559\u5728\u76f8\u540c\u7684\u8bbe\u7f6e tab \u4e0a"},hideSettingsTabsWhenOnlyOneItem:{type:"boolean",description:"\u662f\u5426\u5728\u53ea\u6709\u4e00\u4e2a item \u7684\u65f6\u5019\u9690\u85cf\u8bbe\u7f6e tabs"},loadingComponent:{type:"ComponentType",default:void 0,description:"\u81ea\u5b9a\u4e49 loading \u7ec4\u4ef6"},supportVariableGlobally:{type:"boolean",default:!1,description:"\u8bbe\u7f6e\u6240\u6709\u5c5e\u6027\u652f\u6301\u53d8\u91cf\u914d\u7f6e"},visionSettings:{type:"object",description:"Vision-polyfill settings"},simulatorUrl:{type:"array",description:"\u81ea\u5b9a\u4e49 simulatorUrl \u7684\u5730\u5740"},appHelper:{type:"object",description:"\u5b9a\u4e49 utils \u548c constants \u7b49\u5bf9\u8c61"},requestHandlersMap:{type:"object",description:"\u6570\u636e\u6e90\u5f15\u64ce\u7684\u8bf7\u6c42\u5904\u7406\u5668\u6620\u5c04"},thisRequiredInJSE:{type:"boolean",description:"JSExpression \u662f\u5426\u53ea\u652f\u6301\u4f7f\u7528 this \u6765\u8bbf\u95ee\u4e0a\u4e0b\u6587\u53d8\u91cf"},enableStrictNotFoundMode:{type:"boolean",description:"\u5f53\u5f00\u542f\u7ec4\u4ef6\u672a\u627e\u5230\u4e25\u683c\u6a21\u5f0f\u65f6\uff0c\u6e32\u67d3\u6a21\u5757\u4e0d\u4f1a\u9ed8\u8ba4\u7ed9\u4e00\u4e2a\u5bb9\u5668\u7ec4\u4ef6"},focusNodeSelector:{type:"function",description:"\u914d\u7f6e\u6307\u5b9a\u8282\u70b9\u4e3a\u6839\u7ec4\u4ef6"}},m=function e(t,n){return t&&Object(i.P)(t)?void 0===t.enableStrictPluginMode||null===t.enableStrictPluginMode?n:t.enableStrictPluginMode:n},b,g=new(function(){function e(t){s(this,e),this.config={},this.waits=new Map,this.preference=void 0,this.config=t||{},this.preference=new u.a}return f(e,[{key:"has",value:function e(t){return void 0!==this.config[t]}},{key:"get",value:function e(t,n){return Object(r.get)(this.config,t,n)}},{key:"set",value:function e(t,n){this.config[t]=n,this.notifyGot(t)}},{key:"setConfig",value:function e(t){var n=this;t&&Object.keys(t).forEach((function(e){n.set(e,t[e])}))}},{key:"setEngineOptions",value:function e(t){var n=this,r;if(t&&Object(i.P)(t))if(!0===m(t,!0)){var o=function e(t){var n=y[t];return!(null==n)};Object.keys(t).forEach((function(e){o(e)?n.set(e,t[e]):d.warn("failed to config ".concat(e," to engineConfig, only predefined options can be set under strict mode, predefined options: "),y)}))}else this.setConfig(t)}},{key:"onceGot",value:function e(t){var n=this,r=this.config[t];return void 0!==r?Promise.resolve(r):new Promise((function(e){n.setWait(t,e,!0)}))}},{key:"onGot",value:function e(t,n){var r,o=this,i=null===(r=this.config)||void 0===r?void 0:r[t];return void 0!==i?(n(i),function(){}):(this.setWait(t,n),function(){o.delWait(t,n)})}},{key:"notifyGot",value:function e(t){var n=this.waits.get(t);if(n){for(var r=(n=n.slice().reverse()).length;r--;)n[r].resolve(this.get(t)),n[r].once&&n.splice(r,1);n.length>0?this.waits.set(t,n):this.waits.delete(t)}}},{key:"setWait",value:function e(t,n,r){var o=this.waits.get(t);o?o.push({resolve:n,once:r}):this.waits.set(t,[{resolve:n,once:r}])}},{key:"delWait",value:function e(t,n){var r=this.waits.get(t);if(r){for(var o=r.length;o--;)r[o].resolve===n&&r.splice(o,1);r.length<1&&this.waits.delete(t)}}},{key:"getPreference",value:function e(){return this.preference}}]),e}())},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(74),t),o(n(34),t),o(n(80),t)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2);function o(e){return new r.e(e)}},function(e,t,n){var r=n(64),o=n(65),i=[n(72)];e.exports=r.createStore(o,i)},function(e,t){var n=e.exports={},r,o;function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function c(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var s=[],l=!1,f,p=-1;function h(){l&&f&&(l=!1,f.length?s=f.concat(s):p=-1,s.length&&d())}function d(){if(!l){var e=u(h);l=!0;for(var t=s.length;t;){for(f=s,s=[];++p<t;)f&&f[p].run();p=-1,t=s.length}f=null,l=!1,c(e)}}function v(e,t){this.fun=e,this.array=t}function y(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new v(e,t)),1!==s.length||l||u(d)},v.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=y,n.addListener=y,n.once=y,n.off=y,n.removeListener=y,n.removeAllListeners=y,n.emit=y,n.prependListener=y,n.prependOnceListener=y,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(77),t),o(n(25),t)},function(e,t){const n=["includePrerelease","loose","rtl"],r=e=>e?"object"!=typeof e?{loose:!0}:n.filter(t=>e[t]).reduce((e,t)=>(e[t]=!0,e),{}):{};e.exports=r},function(e,t,n){const{MAX_SAFE_COMPONENT_LENGTH:r}=n(47),o=n(27),i=(t=e.exports={}).re=[],a=t.src=[],u=t.t={};let c=0;const s=(e,t,n)=>{const r=c++;o(e,r,t),u[e]=r,a[r]=t,i[r]=new RegExp(t,n?"g":void 0)};s("NUMERICIDENTIFIER","0|[1-9]\\d*"),s("NUMERICIDENTIFIERLOOSE","[0-9]+"),s("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),s("MAINVERSION",`(${a[u.NUMERICIDENTIFIER]})\\.(${a[u.NUMERICIDENTIFIER]})\\.(${a[u.NUMERICIDENTIFIER]})`),s("MAINVERSIONLOOSE",`(${a[u.NUMERICIDENTIFIERLOOSE]})\\.(${a[u.NUMERICIDENTIFIERLOOSE]})\\.(${a[u.NUMERICIDENTIFIERLOOSE]})`),s("PRERELEASEIDENTIFIER",`(?:${a[u.NUMERICIDENTIFIER]}|${a[u.NONNUMERICIDENTIFIER]})`),s("PRERELEASEIDENTIFIERLOOSE",`(?:${a[u.NUMERICIDENTIFIERLOOSE]}|${a[u.NONNUMERICIDENTIFIER]})`),s("PRERELEASE",`(?:-(${a[u.PRERELEASEIDENTIFIER]}(?:\\.${a[u.PRERELEASEIDENTIFIER]})*))`),s("PRERELEASELOOSE",`(?:-?(${a[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[u.PRERELEASEIDENTIFIERLOOSE]})*))`),s("BUILDIDENTIFIER","[0-9A-Za-z-]+"),s("BUILD",`(?:\\+(${a[u.BUILDIDENTIFIER]}(?:\\.${a[u.BUILDIDENTIFIER]})*))`),s("FULLPLAIN",`v?${a[u.MAINVERSION]}${a[u.PRERELEASE]}?${a[u.BUILD]}?`),s("FULL",`^${a[u.FULLPLAIN]}$`),s("LOOSEPLAIN",`[v=\\s]*${a[u.MAINVERSIONLOOSE]}${a[u.PRERELEASELOOSE]}?${a[u.BUILD]}?`),s("LOOSE",`^${a[u.LOOSEPLAIN]}$`),s("GTLT","((?:<|>)?=?)"),s("XRANGEIDENTIFIERLOOSE",a[u.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*"),s("XRANGEIDENTIFIER",a[u.NUMERICIDENTIFIER]+"|x|X|\\*"),s("XRANGEPLAIN",`[v=\\s]*(${a[u.XRANGEIDENTIFIER]})(?:\\.(${a[u.XRANGEIDENTIFIER]})(?:\\.(${a[u.XRANGEIDENTIFIER]})(?:${a[u.PRERELEASE]})?${a[u.BUILD]}?)?)?`),s("XRANGEPLAINLOOSE",`[v=\\s]*(${a[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[u.XRANGEIDENTIFIERLOOSE]})(?:${a[u.PRERELEASELOOSE]})?${a[u.BUILD]}?)?)?`),s("XRANGE",`^${a[u.GTLT]}\\s*${a[u.XRANGEPLAIN]}$`),s("XRANGELOOSE",`^${a[u.GTLT]}\\s*${a[u.XRANGEPLAINLOOSE]}$`),s("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),s("COERCERTL",a[u.COERCE],!0),s("LONETILDE","(?:~>?)"),s("TILDETRIM",`(\\s*)${a[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",s("TILDE",`^${a[u.LONETILDE]}${a[u.XRANGEPLAIN]}$`),s("TILDELOOSE",`^${a[u.LONETILDE]}${a[u.XRANGEPLAINLOOSE]}$`),s("LONECARET","(?:\\^)"),s("CARETTRIM",`(\\s*)${a[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",s("CARET",`^${a[u.LONECARET]}${a[u.XRANGEPLAIN]}$`),s("CARETLOOSE",`^${a[u.LONECARET]}${a[u.XRANGEPLAINLOOSE]}$`),s("COMPARATORLOOSE",`^${a[u.GTLT]}\\s*(${a[u.LOOSEPLAIN]})$|^$`),s("COMPARATOR",`^${a[u.GTLT]}\\s*(${a[u.FULLPLAIN]})$|^$`),s("COMPARATORTRIM",`(\\s*)${a[u.GTLT]}\\s*(${a[u.LOOSEPLAIN]}|${a[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",s("HYPHENRANGE",`^\\s*(${a[u.XRANGEPLAIN]})\\s+-\\s+(${a[u.XRANGEPLAIN]})\\s*$`),s("HYPHENRANGELOOSE",`^\\s*(${a[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[u.XRANGEPLAINLOOSE]})\\s*$`),s("STAR","(<|>)?=?\\s*\\*"),s("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),s("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},function(e,t,n){const r=n(27),{MAX_LENGTH:o,MAX_SAFE_INTEGER:i}=n(47),{re:a,t:u}=n(36),c=n(35),{compareIdentifiers:s}=n(109);class l{constructor(e,t){if(t=c(t),e instanceof l){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?a[u.LOOSE]:a[u.FULL]);if(!n)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof l)){if("string"==typeof e&&e===this.version)return 0;e=new l(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof l||(e=new l(e,this.options)),s(this.major,e.major)||s(this.minor,e.minor)||s(this.patch,e.patch)}comparePre(e){if(e instanceof l||(e=new l(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return s(n,o)}while(++t)}compareBuild(e){e instanceof l||(e=new l(e,this.options));let t=0;do{const n=this.build[t],o=e.build[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return s(n,o)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(0===s(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this}}e.exports=l},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(2);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t=f(e,"string");return"symbol"===p(t)?t:String(t)}function f(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=new Map;function d(e,t){if("object"!==p(e)){if(t){if(Object(r.y)(t)&&(t={component:t,title:t.displayName||t.name||"CustomSetter"}),!t.initialValue){var n=v(t.component);n&&(t.initialValue=function(e){return n.call(e,e.getValue())})}h.set(e,c({type:e},t))}}else Object.keys(e).forEach((function(t){d(t,e[t])}))}function v(e){return e&&(e.initial||e.Initial||e.type&&(e.type.initial||e.type.Initial))||null}var y=i((function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";a(this,e),this.viewName=void 0,this.settersMap=new Map,this.getSetter=function(e){return t.settersMap.get(e)||null},this.registerSetter=function(e,n){if("object"!==p(e)){if(n){if(Object(r.y)(n)&&(n={component:n,title:n.displayName||n.name||"CustomSetter"}),!n.initialValue){var o=v(n.component);o&&(n.initialValue=function(e){return o.call(e,e.getValue())})}t.settersMap.set(e,c({type:e},n))}}else Object.keys(e).forEach((function(n){t.registerSetter(n,e[n])}))},this.getSettersMap=function(){return t.settersMap},this.createSetterContent=function(e,n){if("string"==typeof e){if(!(e=t.getSetter(e)))return null;e.defaultProps&&(n=c(c({},e.defaultProps),n)),e=e.component}return"value"in n&&void 0===n.value&&delete n.value,Object(r.m)(e,n)},this.viewName=n}))},function(e,t,n){"use strict";n.d(t,"globalContext",(function(){return i}));var r=n(30),o=n.n(r);n.o(r,"Hotkey")&&n.d(t,"Hotkey",(function(){return r.Hotkey})),n.o(r,"Tip")&&n.d(t,"Tip",(function(){return r.Tip})),n.o(r,"TipContainer")&&n.d(t,"TipContainer",(function(){return r.TipContainer})),n.o(r,"Title")&&n.d(t,"Title",(function(){return r.Title})),n.o(r,"createModuleEventBus")&&n.d(t,"createModuleEventBus",(function(){return r.createModuleEventBus})),n.o(r,"engineConfig")&&n.d(t,"engineConfig",(function(){return r.engineConfig}));var i=r.IocContext.DefaultInstance},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSuperClassInfo=void 0;var r=n(24);function o(e){if(!(0,r.isClass)(e))throw new Error("need a classType.");for(var t=[],n=Object.getPrototypeOf(e);(0,r.isClass)(n);){var o=(0,r.getGlobalType)(n);t.push({type:o,class:n}),n=Object.getPrototypeOf(n)}return t}t.getSuperClassInfo=o},function(e,t,n){"use strict";function r(e,t){var n;void 0===t&&(t={});try{return e()}catch(e){return null===(n=t.onError)||void 0===n||n.call(t,e),t.defaultValue}}Object.defineProperty(t,"__esModule",{value:!0}),t.guard=void 0,t.guard=r},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r=0,o=t.length,i;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.OutLevel=void 0,function(e){e[e.Log=0]="Log",e[e.Info=1]="Info",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.None=4]="None"}(o=t.OutLevel||(t.OutLevel={}));var i=function(){function e(){this.outLevel=o.Warn}return e.prototype.setOutLevel=function(e){this.outLevel=e},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.outLevel<=o.Error&&console.error.apply(console,r([e],t,!1))},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.outLevel<=o.Info&&console.info.apply(console,r([e],t,!1))},e.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.outLevel<=o.Log&&console.log.apply(console,r([e],t,!1))},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.outLevel<=o.Warn&&console.warn.apply(console,r([e],t,!1))},e}();t.Logger=i;var a=new i;t.default=a},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(e){return function(t){return c([e,t])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,o=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(!(i=n.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){n=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(6===a[0]&&n.label<i[1]){n.label=i[1],i=a;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(a);break}i[2]&&n.ops.pop(),n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e],o=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.aspect=t.genAspectWrapper=void 0;var o=n(12),i=function e(){},a=function(){return r(this,(function(e){return[2]}))},u=Object.getPrototypeOf(i),c=Object.getPrototypeOf(a);function s(e){return"function"==typeof e&&u!==c&&Object.getPrototypeOf(e)===c}function l(e,t){e&&e(t)}function f(e,t,n,r){return{ioc:e,functionName:n.__name||n.name,inst:t,data:{},args:r}}function p(e,t,n){var o;return(o=s(n)?function(){var o,i,a,u,c=[];for(o=0;o<arguments.length;o++)c[o]=arguments[o];return r(this,(function(r){switch(r.label){case 0:i=f(e,this,n,c),r.label=1;case 1:return r.trys.push([1,4,,5]),l(t.before,i),i.skipRunning?[3,3]:(a=i,[4,n.apply(this,i.args)]);case 2:a.ret=r.sent(),r.label=3;case 3:return l(t.after,i),[2,i.ret];case 4:if(u=r.sent(),i.err=u,l(t.error,i),i.err)throw i.err;return[3,5];case 5:return[2]}}))}:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=f(e,this,n,r);try{return l(t.before,i),i.skipRunning||(i.ret=n.apply(this,i.args)),i.ret instanceof Promise?(i.ret=i.ret.then((function(e){return i.ret=e,l(t.after,i),i.ret})),t.error&&(i.ret=i.ret.catch((function(e){if(i.err=e,l(t.error,i),i.err)throw i.err}))),i.ret):(l(t.after,i),i.ret)}catch(e){if(i.err=e,l(t.error,i),i.err)throw i.err}}).__name=n.__name||n.name,o}function h(e){return void 0===e&&(e={}),function(t,n){(0,o.getMetadata)(t.constructor).aspects.push({key:n,point:e})}}t.genAspectWrapper=p,t.aspect=h},function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var r=n(8),o=n.n(r),i=n(20);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function c(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e){var t=d(e,"string");return"symbol"===a(t)?t:String(t)}function d(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}for(var v={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},y={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},m={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},b={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},g,w=1;w<20;++w)v[111+w]="f".concat(w);for(var O=0;O<=9;++O)v[O+96]=String(O);function _(e){var t=e.keyCode||e.which;if("keypress"===e.type){var n=String.fromCharCode(t);return e.shiftKey||(n=n.toLowerCase()),n}return v[t]?v[t]:y[t]?y[t]:String.fromCharCode(t).toLowerCase()}function j(e){return"keypress"===e.type}function S(e,t){return e.sort().join(",")===t.sort().join(",")}function E(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function k(e){return"shift"===e||"ctrl"===e||"alt"===e||"meta"===e}function P(){if(!g)for(var e in g={},v)Number(e)>95&&Number(e)<112||v.hasOwnProperty(e)&&(g[v[e]]=e);return g}function x(e,t,n){return n||(n=P()[e]?"keydown":"keypress"),"keypress"===n&&t.length&&(n="keydown"),n}function N(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}function C(e,t){var n=[],r="",o,i=[];for(n=N(e),o=0;o<n.length;++o)r=n[o],b[r]&&(r=b[r]),t&&"keypress"!==t&&m[r]&&(r=m[r],i.push("shift")),k(r)&&i.push(r);return{key:r,modifiers:i,action:t=x(r,i,t)}}function T(e,t,n,r){try{var o,a,u,c,s=i.globalContext.get("workspace"),l=s.isActive?s.window.editor:i.globalContext.get("editor"),f=l.get("designer"),p=null==f||null===(o=f.currentSelection)||void 0===o||null===(a=o.getNodes())||void 0===a?void 0:a[0],h=null==p||null===(u=p.componentMeta)||void 0===u?void 0:u.npm,d=[null==h?void 0:h.package,null==h?void 0:h.componentName].filter((function(e){return!!e})).join("-")||(null==p||null===(c=p.componentMeta)||void 0===c?void 0:c.componentName)||"";!1===e(t,n)&&(t.preventDefault(),t.stopPropagation()),null==l||l.eventBus.emit("hotkey.callback.call",{callback:e,e:t,combo:n,sequence:r,selected:d})}catch(e){console.error(e.message)}}var R=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";l(this,e),this.viewName=void 0,this.callBacks={},this.directMap={},this.sequenceLevels={},this.resetTimer=0,this.ignoreNextKeyup=!1,this.ignoreNextKeypress=!1,this.nextExpectedAction=!1,this.isActivate=!0,this.viewName=t,this.mount(window)}return p(e,[{key:"activate",value:function e(t){this.isActivate=t}},{key:"mount",value:function e(t){var n=t.document,r=this.handleKeyEvent.bind(this);return n.addEventListener("keypress",r,!1),n.addEventListener("keydown",r,!1),n.addEventListener("keyup",r,!1),function(){n.removeEventListener("keypress",r,!1),n.removeEventListener("keydown",r,!1),n.removeEventListener("keyup",r,!1)}}},{key:"bind",value:function e(t,n,r){return this.bindMultiple(Array.isArray(t)?t:[t],n,r),this}},{key:"unbind",value:function e(t,n,o){var i=this,a;(Array.isArray(t)?t:[t]).forEach((function(e){var t=C(e,o),a=t.key,u=t.modifiers,c=i.callBacks[a].findIndex((function(e){return Object(r.isEqual)(e.modifiers,u)&&e.callback===n}));-1!==c&&i.callBacks[a].splice(c,1)}))}},{key:"resetSequences",value:function e(t){var n=!1,r="";for(r in this.sequenceLevels)t&&t[r]?n=!0:this.sequenceLevels[r]=0;n||(this.nextExpectedAction=!1)}},{key:"getMatches",value:function e(t,n,r,o,i,a){var u,c,s=[],l=r.type;if(!this.callBacks[t])return[];for("keyup"===l&&k(t)&&(n=[t]),u=0;u<this.callBacks[t].length;++u)if(c=this.callBacks[t][u],(o||!c.seq||this.sequenceLevels[c.seq]===c.level)&&l===c.action&&(j(r)&&!r.metaKey&&!r.ctrlKey||S(n,c.modifiers))){var f=!o&&c.combo===i,p=o&&c.seq===o&&c.level===a;(f||p)&&this.callBacks[t].splice(u,1),s.push(c)}return s}},{key:"handleKey",value:function e(t,n,r){var o=this.getMatches(t,n,r),i,a={},u=0,c=!1;for(i=0;i<o.length;++i)o[i].seq&&(u=Math.max(u,o[i].level||0));for(i=0;i<o.length;++i)if(o[i].seq){if(o[i].level!==u)continue;c=!0,a[o[i].seq||""]=1,T(o[i].callback,r,o[i].combo,o[i].seq)}else c||T(o[i].callback,r,o[i].combo);var s="keypress"===r.type&&this.ignoreNextKeypress;r.type!==this.nextExpectedAction||k(t)||s||this.resetSequences(a),this.ignoreNextKeypress=c&&"keydown"===r.type}},{key:"handleKeyEvent",value:function e(t){if(this.isActivate){var n=_(t);n&&("keyup"!==t.type||this.ignoreNextKeyup!==n?this.handleKey(n,E(t),t):this.ignoreNextKeyup=!1)}}},{key:"resetSequenceTimer",value:function e(){this.resetTimer&&clearTimeout(this.resetTimer),this.resetTimer=window.setTimeout(this.resetSequences,1e3)}},{key:"bindSequence",value:function e(t,n,r,o){var i=this;this.sequenceLevels[t]=0;for(var a=function e(n){return function(){i.nextExpectedAction=n,++i.sequenceLevels[t],i.resetSequenceTimer()}},u=function e(n){T(r,n,t),"keyup"!==o&&(i.ignoreNextKeyup=_(n)),setTimeout(i.resetSequences,10)},c=0;c<n.length;++c){var s,l=c+1===n.length?u:a(o||C(n[c+1]).action);this.bindSingle(n[c],l,o,t,c)}}},{key:"bindSingle",value:function e(t,n,r,o,i){this.directMap["".concat(t,":").concat(r)]=n;var a=(t=t.replace(/\s+/g," ")).split(" ");if(a.length>1)this.bindSequence(t,a,n,r);else{var u=C(t,r);this.callBacks[u.key]=this.callBacks[u.key]||[],this.getMatches(u.key,u.modifiers,{type:u.action},o,t,i),this.callBacks[u.key][o?"unshift":"push"]({callback:n,modifiers:u.modifiers,action:u.action,seq:o,level:i,combo:t})}}},{key:"bindMultiple",value:function e(t,n,r){var o=u(t),i;try{for(o.s();!(i=o.n()).done;){var a=i.value;this.bindSingle(a,n,r)}}catch(e){o.e(e)}finally{o.f()}}}]),e}()},function(e,t,n){},function(e,t,n){class r{constructor(e,t){if(t=a(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof u)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter(e=>!v(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&y(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=undefined,n=`parseRange:${Object.keys(this.options).join(",")}:${e}`,r=i.get(n);if(r)return r;const o=this.options.loose,a=o?l[f.HYPHENRANGELOOSE]:l[f.HYPHENRANGE];e=e.replace(a,x(this.options.includePrerelease)),c("hyphen replace",e),e=e.replace(l[f.COMPARATORTRIM],p),c("comparator trim",e);let s=(e=(e=(e=e.replace(l[f.TILDETRIM],h)).replace(l[f.CARETTRIM],d)).split(/\s+/).join(" ")).split(" ").map(e=>b(e,this.options)).join(" ").split(/\s+/).map(e=>P(e,this.options));o&&(s=s.filter(e=>(c("loose invalid filter",e,this.options),!!e.match(l[f.COMPARATORLOOSE])))),c("range list",s);const y=new Map,m=s.map(e=>new u(e,this.options));for(const e of m){if(v(e))return[e];y.set(e.value,e)}y.size>1&&y.has("")&&y.delete("");const g=[...y.values()];return i.set(n,g),g}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some(n=>m(n,t)&&e.set.some(e=>m(e,t)&&n.every(n=>e.every(e=>n.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new s(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(N(this.set[t],e,this.options))return!0;return!1}}e.exports=r;const o=undefined,i=new(n(103))({max:1e3}),a=n(35),u=n(106),c=n(27),s=n(37),{re:l,t:f,comparatorTrimReplace:p,tildeTrimReplace:h,caretTrimReplace:d}=n(36),v=e=>"<0.0.0-0"===e.value,y=e=>""===e.value,m=(e,t)=>{let n=!0;const r=e.slice();let o=r.pop();for(;n&&r.length;)n=r.every(e=>o.intersects(e,t)),o=r.pop();return n},b=(e,t)=>(c("comp",e,t),e=_(e,t),c("caret",e),e=w(e,t),c("tildes",e),e=S(e,t),c("xrange",e),e=k(e,t),c("stars",e),e),g=e=>!e||"x"===e.toLowerCase()||"*"===e,w=(e,t)=>e.trim().split(/\s+/).map(e=>O(e,t)).join(" "),O=(e,t)=>{const n=t.loose?l[f.TILDELOOSE]:l[f.TILDE];return e.replace(n,(t,n,r,o,i)=>{let a;return c("tilde",e,t,n,r,o,i),g(n)?a="":g(r)?a=`>=${n}.0.0 <${+n+1}.0.0-0`:g(o)?a=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:i?(c("replaceTilde pr",i),a=`>=${n}.${r}.${o}-${i} <${n}.${+r+1}.0-0`):a=`>=${n}.${r}.${o} <${n}.${+r+1}.0-0`,c("tilde return",a),a})},_=(e,t)=>e.trim().split(/\s+/).map(e=>j(e,t)).join(" "),j=(e,t)=>{c("caret",e,t);const n=t.loose?l[f.CARETLOOSE]:l[f.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(t,n,o,i,a)=>{let u;return c("caret",e,t,n,o,i,a),g(n)?u="":g(o)?u=`>=${n}.0.0${r} <${+n+1}.0.0-0`:g(i)?u="0"===n?`>=${n}.${o}.0${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.0${r} <${+n+1}.0.0-0`:a?(c("replaceCaret pr",a),u="0"===n?"0"===o?`>=${n}.${o}.${i}-${a} <${n}.${o}.${+i+1}-0`:`>=${n}.${o}.${i}-${a} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${i}-${a} <${+n+1}.0.0-0`):(c("no pr"),u="0"===n?"0"===o?`>=${n}.${o}.${i}${r} <${n}.${o}.${+i+1}-0`:`>=${n}.${o}.${i}${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${i} <${+n+1}.0.0-0`),c("caret return",u),u})},S=(e,t)=>(c("replaceXRanges",e,t),e.split(/\s+/).map(e=>E(e,t)).join(" ")),E=(e,t)=>{e=e.trim();const n=t.loose?l[f.XRANGELOOSE]:l[f.XRANGE];return e.replace(n,(n,r,o,i,a,u)=>{c("xRange",e,n,r,o,i,a,u);const s=g(o),l=s||g(i),f=l||g(a),p=f;return"="===r&&p&&(r=""),u=t.includePrerelease?"-0":"",s?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&p?(l&&(i=0),a=0,">"===r?(r=">=",l?(o=+o+1,i=0,a=0):(i=+i+1,a=0)):"<="===r&&(r="<",l?o=+o+1:i=+i+1),"<"===r&&(u="-0"),n=`${r+o}.${i}.${a}${u}`):l?n=`>=${o}.0.0${u} <${+o+1}.0.0-0`:f&&(n=`>=${o}.${i}.0${u} <${o}.${+i+1}.0-0`),c("xRange return",n),n})},k=(e,t)=>(c("replaceStars",e,t),e.trim().replace(l[f.STAR],"")),P=(e,t)=>(c("replaceGTE0",e,t),e.trim().replace(l[t.includePrerelease?f.GTE0PRE:f.GTE0],"")),x=e=>(t,n,r,o,i,a,u,c,s,l,f,p,h)=>`${n=g(r)?"":g(o)?`>=${r}.0.0${e?"-0":""}`:g(i)?`>=${r}.${o}.0${e?"-0":""}`:a?">="+n:`>=${n}${e?"-0":""}`} ${c=g(s)?"":g(l)?`<${+s+1}.0.0-0`:g(f)?`<${s}.${+l+1}.0-0`:p?`<=${s}.${l}.${f}-${p}`:e?`<${s}.${l}.${+f+1}-0`:"<="+c}`.trim(),N=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(c(e[n].semver),e[n].semver!==u.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},function(e,t){const n="2.0.0",r=256,o=Number.MAX_SAFE_INTEGER||9007199254740991,i=16;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:o,MAX_SAFE_COMPONENT_LENGTH:16}},function(e,t,n){},function(e){e.exports=JSON.parse('{"Initializing":"Initializing","Hide":"Hide","Show":"Show","Lock":"Lock","Unlock":"Unlock","Expand":"Expand","Collapse":"Collapse","Conditional":"Condition","Loop":"Loop","Slots":"Slots","Slot for {prop}":"Slot for {prop}","Outline Tree":"Outline Tree","Filter Node":"Filter Node","Check All":"Check All","Conditional rendering":"Conditional rendering","Loop rendering":"Loop rendering","Locked":"Locked","Hidden":"Hidden","Modal View":"Modal View","Rename":"Rename"}')},function(e){e.exports=JSON.parse('{"Initializing":"\u6b63\u5728\u521d\u59cb\u5316","Hide":"\u9690\u85cf","Show":"\u663e\u793a","Lock":"\u9501\u5b9a","Unlock":"\u89e3\u9501","Expand":"\u5c55\u5f00","Collapse":"\u6536\u8d77","Conditional":"\u6761\u4ef6\u5f0f","Loop":"\u5faa\u73af","Slots":"\u63d2\u69fd","Slot for {prop}":"\u5c5e\u6027 {prop} \u7684\u63d2\u69fd","Outline Tree":"\u5927\u7eb2\u6811","Filter Node":"\u8fc7\u6ee4\u8282\u70b9","Check All":"\u5168\u9009","Conditional rendering":"\u6761\u4ef6\u6e32\u67d3","Loop rendering":"\u5faa\u73af\u6e32\u67d3","Locked":"\u5df2\u9501\u5b9a","Hidden":"\u5df2\u9690\u85cf","Modal View":"\u6a21\u6001\u89c6\u56fe\u5c42","Rename":"\u91cd\u547d\u540d"}')},function(e,t,n){"use strict";n.d(t,"a",(function(){return o.a})),n.d(t,"b",(function(){return J})),n.d(t,"c",(function(){return de}));var r=n(87),o=n(26),i=n(1),a=n(5),u=n.n(a),c=n(14);function s(e,t){return d(e)||h(e,t)||f(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function d(e){if(Array.isArray(e))return e}function v(e,t,n,r){var o=n.width>t.width?(n.width-t.width)/2:0,i=n.width>t.height?(n.width-t.height)/2:0,a,u,c,s;return{top:Math.max(t.top-e.height+n.width-i,r.top),right:Math.min(t.right+e.width-n.width+o,r.right),bottom:Math.min(t.bottom+e.height-n.width+i,r.bottom),left:Math.max(t.left-e.width+n.width-o,r.left)}}function y(e,t,n,r,o){if(o.forceDirection)return o.dir;var i=e.width+e.extraOffset,a=e.height+e.extraOffset,u=e.width*a,c=e.height*i,s=Math.min(n.right-n.left,e.width),l=Math.min(n.bottom-n.top,e.height),f={top:function e(){var n=s*Math.min(t.top-r.top,a);return{s:n,enough:n>=u}},bottom:function e(){var n=s*Math.min(r.bottom-t.bottom,a);return{s:n,enough:n>=u}},left:function e(){var n=l*Math.min(t.left-r.left,i);return{s:n,enough:n>=c}},right:function e(){var n=l*Math.min(r.right-t.right,i);return{s:n,enough:n>=c}}},p=["top","right","bottom","left"];if(o.dir){var h=p.indexOf(o.dir);h>-1&&(p.splice(h,1),p.unshift(o.dir))}for(var d=0,v=p[0],y=0,m=p.length;y<m;y++){var b=p[y],g=f[b](),w=g.s,O;if(g.enough)return b;w>d&&(d=w,v=b)}return v}function m(e,t,n){if(!e)return t.left-n.left<10?{dir:"right"}:t.top-n.top<10?{dir:"bottom"}:n.bottom-t.bottom<10?{dir:"top"}:n.right-t.right<10?{dir:"left"}:{};var r="!"===e[0];r&&(e=e.slice(1));var o,i=s(e.split(/\s+/),2),a=i[0],u=i[1],c=!1,l=!1;return"center"===a&&(a="auto",u||(u="center")),r&&(a&&"auto"!==a&&(c=!0),u&&"auto"!==u&&(l=!0)),{dir:a,offset:u,forceDirection:c,forceOffset:l}}function b(e,t,n,r,o){e={extraOffset:n.height,top:e.top,right:e.right,left:e.left,bottom:e.bottom,height:e.height,width:e.width};var i=m(o,t,r),a=v(e,t,n,r),u=y(e,t,a,r,i),c,s,l,f;if("top"===u||"bottom"===u){c="top"===u?t.top-e.extraOffset-e.height:t.bottom+e.extraOffset;var p=n.width>t.width?(n.width-t.width)/2:0,h=t.left+n.width-p-e.width,d=t.right-n.width+p,b=t.left-(e.width-t.width)/2;s="left"===i.offset?h:"right"===i.offset?d:b,i.forceOffset||(s=Math.max(Math.min(a.right-e.width,s),h),s=Math.min(Math.max(a.left,s),d)),f=Math.min(e.width-n.width,Math.max(t.left-(n.width-t.width)/2-s,0))}else{s="left"===u?t.left-e.extraOffset-e.width:t.right+e.extraOffset;var g=n.width>t.height?(n.width-t.height)/2:0,w=t.top+n.width-g-e.height,O=t.bottom-n.width+g,_=t.top-(e.height-t.height)/2;c="top"===i.offset?w:"bottom"===i.offset?O:_,i.forceOffset||(c=Math.max(Math.min(a.bottom-e.height,c),w),c=Math.min(Math.max(a.top,c),O)),l=Math.min(e.height-n.height,Math.max(t.top-(n.width-t.height)/2-c,0))}return{dir:u,left:s,top:c,arrowLeft:f,arrowTop:l}}var g={right:1,left:0,top:0,bottom:1,center:.5};function w(e){return/^[\d.]+%$/.test(e)}function O(e,t,n){return e?w(e)?e=parseFloat(e)/100*n:g.hasOwnProperty(e)?e=g[e]*n:(e=parseFloat(e),isNaN(e)&&(e=0)):e=0,"".concat(e+t,"px")}function _(e,t,n){if(!e)return{top:"38.2%",left:"calc(50% - 110px)"};var r,o=s(e.trim().split(/\s+/),2),i=o[0],a=o[1];if("top"===i||"bottom"===i||"left"===a||"right"===a){var u=i;i=a,a=u}return"center"!==i||a||(a="center"),{left:O(i,0,n.right-n.left-t.width),top:O(a,0,n.bottom-n.top-t.height)}}var j=n(10);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x(r.key),r)}}function P(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function x(e){var t=N(e,"string");return"symbol"===S(t)?t:String(t)}function N(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}function T(e,t){return(T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function R(e){var t=M();return function n(){var r=D(e),o;if(t){var i=D(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return A(this,o)}}function A(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return L(e)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var I=function(e){C(n,e);var t=R(n);function n(e){var r;return E(this,n),(r=t.call(this,e)).dispose=void 0,r.timer=null,r.shell=null,r.originClassName="",r.dispose=j.b.onChange((function(){return r.forceUpdate()})),r}return P(n,[{key:"shouldComponentUpdate",value:function e(){return!1}},{key:"componentDidMount",value:function e(){this.updateTip()}},{key:"componentDidUpdate",value:function e(){this.updateTip()}},{key:"componentWillUnmount",value:function e(){this.dispose&&this.dispose(),this.clearTimer()}},{key:"clearTimer",value:function e(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"updateTip",value:function e(){if(this.shell){var t=this.shell,n=t.querySelector(".lc-arrow");t.className=this.originClassName,t.style.cssText="",n.style.cssText="",this.clearTimer();var r=j.b.tip;if(r){var o=r.target,i=r.direction,a=o.getBoundingClientRect();if(0!==a.width&&0!==a.height){var u=t.getBoundingClientRect(),c={left:1,top:1,right:document.documentElement.clientWidth-1,bottom:document.documentElement.clientHeight-1},s,l=b(u,a,n.getBoundingClientRect(),c,i),f=l.dir,p=l.left,h=l.top,d=l.arrowLeft,v=l.arrowTop;t.classList.add("lc-align-".concat(f)),t.style.top="".concat(h,"px"),t.style.left="".concat(p,"px"),t.style.width="".concat(u.width,"px"),t.style.height="".concat(u.height,"px"),"top"===f||"bottom"===f?n.style.left="".concat(d,"px"):n.style.top="".concat(v,"px"),this.timer=window.setTimeout((function(){t.classList.add("lc-visible-animate"),t.style.transform="none"}),10)}}}}},{key:"render",value:function e(){var t=this,n=j.b.tip||{},r=u()("lc-tip",n.className,n&&n.theme?"lc-theme-".concat(n.theme):null);return this.originClassName=r,React.createElement("div",{className:r,ref:function e(n){t.shell=n}},React.createElement("i",{className:"lc-arrow"}),React.createElement("div",{className:"lc-tip-content"},Object(c.c)(n.children)))}}]),n}(i.Component);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,H(r.key),r)}}function G(e,t,n){return t&&F(e.prototype,t),n&&F(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function H(e){var t=U(e,"string");return"symbol"===B(t)?t:String(t)}function U(e,t){if("object"!==B(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W(e,t)}function W(e,t){return(W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function $(e){var t=q();return function n(){var r=Y(e),o;if(t){var i=Y(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return K(this,o)}}function K(e,t){if(t&&("object"===B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return X(e)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var J=function(e){z(n,e);var t=$(n);function n(){var e;V(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).dispose=void 0,e}return G(n,[{key:"shouldComponentUpdate",value:function e(){return!1}},{key:"componentDidMount",value:function e(){var t=function e(t){return j.b.setTarget(t.target)},n=function e(){return j.b.hideImmediately()};document.addEventListener("mouseover",t,!1),document.addEventListener("mousedown",n,!0),this.dispose=function(){document.removeEventListener("mouseover",t,!1),document.removeEventListener("mousedown",n,!0)}}},{key:"UNSAFE_componentWillMount",value:function e(){this.dispose&&this.dispose()}},{key:"render",value:function e(){return React.createElement("div",{className:"lc-tips-container"},React.createElement(I,null))}}]),n}(i.Component),Z=n(2),Q=n(88);function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oe(r.key),r)}}function re(e,t,n){return t&&ne(e.prototype,t),n&&ne(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oe(e){var t=ie(e,"string");return"symbol"===ee(t)?t:String(t)}function ie(e,t){if("object"!==ee(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ae(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ue(e,t)}function ue(e,t){return(ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function ce(e){var t=fe();return function n(){var r=pe(e),o;if(t){var i=pe(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return se(this,o)}}function se(e,t){if(t&&("object"===ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return le(e)}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function he(e,t){for(var n=t.length,r=[],o=e;o.length>0;){var i=o.indexOf(t);0===i?(r.push(t),o=o.slice(n)):i<0?(r.push(o),o=""):(r.push(o.slice(0,i)),o=o.slice(i))}return r}var de=function(e){ae(n,e);var t=ce(n);function n(e){var r;return te(this,n),(r=t.call(this,e)).renderLabel=function(e){var t=r.props,n=t.match,o=t.keywords;if(!e)return null;var i=Object(c.c)(e);if("string"!=typeof i)return React.createElement("span",{className:"lc-title-txt"},i);var a=i,u;n&&o&&(a=he(i,o).map((function(e){return React.createElement("span",{style:{color:e===o?"red":"inherit"}},e)})));return React.createElement("span",{className:"lc-title-txt"},a)},r.handleClick=r.handleClick.bind(le(r)),r}return re(n,[{key:"handleClick",value:function e(t){var n=this.props,r=n.title,o=n.onClick,i=r&&(r.docUrl||r.url);i&&(window.open(i),t.stopPropagation()),o&&o(t)}},{key:"render",value:function e(){var t=this.props,n=t.title,r=t.className;if(null==n)return null;if(Object(i.isValidElement)(n))return n;("string"==typeof n||Object(Z.G)(n))&&(n={label:n});var a=n.icon?Object(Z.n)(n.icon,{size:20}):null,c=null;if(n.tip)if(Object(i.isValidElement)(n.tip)&&n.tip.type===o.a)c=n.tip;else{var s="object"!==ee(n.tip)||Object(i.isValidElement)(n.tip)||Object(Z.G)(n.tip)?{children:n.tip}:n.tip;c=React.createElement(o.a,s)}return React.createElement("span",{className:u()("lc-title",r,n.className,{"has-tip":!!c,"only-icon":!n.label}),onClick:this.handleClick},a?React.createElement("b",{className:"lc-title-icon"},a):null,this.renderLabel(n.label),c)}}]),n}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return R}));var r=n(3),o=n(9),i=n(13),a=n(29),u=n(14),c=n(17),s=n(2);function l(e){var t=e.components,n,r=(e.packages||[]).reduce((function(e,t){var n;return e[t.id||t.package||""]=t,e}),{});return t.forEach((function(e){var t=e.devMode,n=e.schema,o=e.reference;if("lowcode"===t?t="lowCode":"proCode"===t&&(t="proCode"),t&&(e.devMode=t),"lowCode"===t&&!n&&o){var i=o.id||"";e.schema=r[i].schema}})),e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */p=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),u=new P(o||[]);return r(a,"_invoke",{value:j(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var h={};function d(){}function v(){}function y(){}var m={};c(m,i,(function(){return this}));var b=Object.getPrototypeOf,g=b&&b(b(x([])));g&&g!==t&&n.call(g,i)&&(m=g);var w=y.prototype=d.prototype=Object.create(m);function O(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,p=s.value;return p&&"object"==f(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(p).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function j(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return N()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=S(a,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return v.prototype=y,r(w,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},O(_.prototype),c(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(w),c(w,u,"Generator"),c(w,i,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=x,P.prototype={constructor:P,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),h},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),h}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:x(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function h(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){h(i,r,o,a,u,"next",e)}function u(e){h(i,r,o,a,u,"throw",e)}a(void 0)}))}}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O(r.key),r)}}function w(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function O(e){var t=_(e,"string");return"symbol"===f(t)?t:String(t)}function _(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}function S(e,t){return(S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function E(e){var t=x();return function n(){var r=N(e),o;if(t){var i=N(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return k(this,o)}}function k(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}o.EventEmitter.defaultMaxListeners=100;var C=["designer","skeleton","currentDocument","simulator","plugins","setters","material","innerHotkey","innerPlugins"],T=function(e){j(n,e);var t=E(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global",o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return b(this,n),(e=t.call(this)).viewName=void 0,e.workspaceMode=void 0,e.context=new Map,e.hooks=[],e.config=void 0,e.eventBus=void 0,e.components=void 0,e.initHooks=function(t){return e.hooks=t.map((function(t){return y(y({},t),{},{handler:t.handler.bind(P(e),P(e))})})),e.hooks},e.registerHooks=function(t){e.initHooks(t).forEach((function(t){var n=t.message,r=t.type,o=t.handler;-1!==["on","once"].indexOf(r)&&e[r](n,o)}))},e.unregisterHooks=function(){e.hooks.forEach((function(t){var n=t.message,r=t.handler;e.removeListener(n,r)}))},e.waits=new Map,e.viewName=r,e.workspaceMode=o,e.setMaxListeners(200),e.eventBus=new i.a(P(e)),e}return w(n,[{key:"locale",get:function e(){return u.b.getLocale()}},{key:"get",value:function e(t){return this.context.get(t)}},{key:"has",value:function e(t){return this.context.has(t)}},{key:"set",value:function e(t,n){if("assets"===t)return this.setAssets(n);C.includes(t)||a.a.set(t,n),this.context.set(t,n),this.notifyGot(t)}},{key:"setAssets",value:function(){var e=d(p().mark((function e(t){var n,r,o,i;return p().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:if(!(n=t.components)||!n.length){a.next=10;break}if(r=[],o=[],n.forEach((function(e){e&&(e.exportName&&e.url?o.push(e):r.push(e))})),t.components=r,t.componentList=t.componentList||[],!o||!o.length){a.next=10;break}return a.next=10,Promise.all(o.map(function(){var e=d(p().mark((function e(n){var r,o,i,a,u;return p().wrap((function e(c){for(;;)switch(c.prev=c.next){case 0:return u=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.forEach((function(e,t){var o=[n,t.toString()].filter((function(e){return!!e})).join("."),i=[r,t.toString()].filter((function(e){return!!e})).join(".");Array.isArray(e)?u(e,o,i):a(e,{exportName:o,subName:i})}))},a=function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.components;Array.isArray(o)?o.forEach((function(e){t.components=t.components.concat(y({npm:y(y({},i),r)},e)||[])})):n.components&&(t.components=t.components.concat(y({npm:y(y({},i),r)},n.components)||[]))},r=n.exportName,o=n.url,i=n.npm,c.next=5,(new s.c).load(o);case 5:return window[r]&&(Array.isArray(window[r])?u(window[r]):a(window[r])),c.abrupt("return",window[r]);case 7:case"end":return c.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:i=l(t),this.context.set("assets",i),this.notifyGot("assets");case 13:case"end":return a.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onceGot",value:function e(t){var n=this,r=this.context.get(t);return void 0!==r?Promise.resolve(r):new Promise((function(e){n.setWait(t,e,!0)}))}},{key:"onGot",value:function e(t,n){var r=this,o=this.context.get(t);return void 0!==o?(n(o),function(){}):(this.setWait(t,n),function(){r.delWait(t,n)})}},{key:"register",value:function e(t,n){this.context.set(n||t,t),this.notifyGot(n||t)}},{key:"init",value:function(){var e=d(p().mark((function e(t,n){var r,o,i,a,u;return p().wrap((function e(c){for(;;)switch(c.prev=c.next){case 0:return this.config=t||{},this.components=n||{},r=this.config,o=r.hooks,i=void 0===o?[]:o,a=r.lifeCycles,this.emit("editor.beforeInit"),u=a&&a.init||function(){},c.prev=5,c.next=8,u(this);case 8:return this.registerHooks(i),this.emit("editor.afterInit"),c.abrupt("return",!0);case 13:c.prev=13,c.t0=c.catch(5),console.error(c.t0);case 16:case"end":return c.stop()}}),e,this,[[5,13]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function e(){if(this.config)try{var t=this.config.lifeCycles,n=void 0===t?{}:t;this.unregisterHooks(),n.destroy&&n.destroy(this)}catch(e){console.warn(e)}}},{key:"notifyGot",value:function e(t){var n=this.waits.get(t);if(n){for(var r=(n=n.slice().reverse()).length;r--;)n[r].resolve(this.get(t)),n[r].once&&n.splice(r,1);n.length>0?this.waits.set(t,n):this.waits.delete(t)}}},{key:"setWait",value:function e(t,n,r){var o=this.waits.get(t);o?o.push({resolve:n,once:r}):this.waits.set(t,[{resolve:n,once:r}])}},{key:"delWait",value:function e(t,n){var r=this.waits.get(t);if(r){for(var o=r.length;o--;)r[o].resolve===n&&r.splice(o,1);r.length<1&&this.waits.delete(t)}}}]),n}(o.EventEmitter);Object(r.a)([c.j.shallow,Object(r.b)("design:type",Object)],T.prototype,"context",void 0);var R=new i.a(new o.EventEmitter)},function(e,t,n){(function(r){function o(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))}),t.splice(o,0,n)}function a(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}}function u(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}function c(){try{return localStorage}catch(e){}}t.formatArgs=i,t.save=a,t.load=u,t.useColors=o,t.storage=c(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(62)(t);const{formatters:s}=e.exports;s.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(33))},function(e){e.exports=JSON.parse('{"copy":"Copy","remove":"Remove","hide":"Hide","lock":"Lock","unlock":"Unlock","Condition Group":"Condition Group","No opened document":"No opened document, open some document to editing","locked":"locked","Item":"Item"}')},function(e){e.exports=JSON.parse('{"copy":"\u590d\u5236","remove":"\u5220\u9664","hide":"\u9690\u85cf","lock":"\u9501\u5b9a","unlock":"\u89e3\u9501","Condition Group":"\u6761\u4ef6\u7ec4","No opened document":"\u6ca1\u6709\u6253\u5f00\u7684\u9875\u9762\uff0c\u8bf7\u9009\u62e9\u9875\u9762\u6253\u5f00\u7f16\u8f91","locked":"\u5df2\u9501\u5b9a","Item":"\u9879\u76ee"}')},function(e){e.exports=JSON.parse('{"Binded: {expr}":"Binded: {expr}","Variable Binding":"Variable Binding","Switch Setter":"Switch Setter","Multiple Value, Click to Clear":"Multiple Value, Click to Clear","Required":"Required","Setted Value, Click to Clear":"Setted Value, Click to Clear","Multiple Value":"Multiple Value","Attribute: ":"Attribute: ","Description: ":"Description: ","Please select a node in canvas":"Please select a node in canvas","Current node is locked":"Current node is locked","No config found for this type of component":"No config found for this type of component","Please select same kind of components":"Please select same kind of components"}')},function(e){e.exports=JSON.parse('{"Binded: {expr}":"\u5df2\u7ed1\u5b9a\uff1a{expr}","Variable Binding":"\u53d8\u91cf\u7ed1\u5b9a","Switch Setter":"\u5207\u6362\u8bbe\u7f6e\u5668","Multiple Value, Click to Clear":"\u591a\u79cd\u503c\uff0c\u70b9\u51fb\u6e05\u9664","Required":"\u5fc5\u586b\u9879","Setted Value, Click to Clear":"\u5df2\u8bbe\u7f6e\u503c\uff0c\u70b9\u51fb\u6e05\u9664","Multiple Value":"\u591a\u79cd\u503c","Attribute: ":"\u5c5e\u6027\uff1a","Description: ":"\u8bf4\u660e\uff1a","Please select a node in canvas":"\u8bf7\u5728\u5de6\u4fa7\u753b\u5e03\u9009\u4e2d\u8282\u70b9","Current node is locked":"\u8be5\u8282\u70b9\u5df2\u88ab\u9501\u5b9a\uff0c\u65e0\u6cd5\u914d\u7f6e","No config found for this type of component":"\u8be5\u7ec4\u4ef6\u6682\u65e0\u914d\u7f6e","Please select same kind of components":"\u8bf7\u9009\u4e2d\u540c\u4e00\u7c7b\u578b\u8282\u70b9\u7f16\u8f91"}')},function(e,t,n){const r=n(46),o=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)};e.exports=o},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Yr}));var r="Invalid value for configuration 'enforceActions', expected 'never', 'always' or 'observed'",o=function e(t,n){return"Cannot apply '"+t+"' to '"+n.toString()+"': Field not found."},i="'keys()' can only be used on observable objects, arrays, sets and maps",a="'values()' can only be used on observable objects, arrays, sets and maps",u="'entries()' can only be used on observable objects, arrays and maps",c="'set()' can only be used on observable objects, arrays and maps",s="'remove()' can only be used on observable objects, arrays and maps",l="'has()' can only be used on observable objects, arrays and maps",f="'get()' can only be used on observable objects, arrays and maps",p="Invalid annotation",h="Dynamic observable objects cannot be frozen. If you're passing observables to 3rd party component/function that calls Object.freeze, pass copy instead: toJS(observable)",d="Intercept handlers should return nothing or a change object",v="Observable arrays cannot be frozen. If you're passing observables to 3rd party component/function that calls Object.freeze, pass copy instead: toJS(observable)",y="Modification exception: the internal structure of an observable array was changed.",m=function e(t,n){return"[mobx.array] Index out of bounds, "+t+" is larger than "+n},b="mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js",g=function e(t){return"Cannot initialize from classes that inherit from Map: "+t.constructor.name},w=function e(t){return"Cannot initialize map from "+t},O=function e(t){return"Cannot convert to map from '"+t+"'"},_="mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js",j="It is not possible to get index atoms from arrays",S=function e(t){return"Cannot obtain administration from "+t},E=function e(t,n){return"the entry '"+t+"' does not exist in the observable map '"+n+"'"},k="please specify a property",P=function e(t,n){return"no observable property '"+t.toString()+"' found on the observable object '"+n+"'"},x=function e(t){return"Cannot obtain atom from "+t},N="Expecting some object",C="invalid action stack. did you forget to finish an action?",T="missing option for computed: get",R=function e(t,n){return"Cycle detected in computation "+t+": "+n},A=function e(t){return"The setter of computed value '"+t+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"},L=function e(t){return"[ComputedValue '"+t+"'] It is not possible to assign a new value to a computed value."},M="There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`",D="isolateGlobalState should be called before MobX is running any reactions",I=function e(t){return"[mobx] `observableArray."+t+"()` mutates the array in-place, which is not allowed inside a derivation. Use `array.slice()."+t+"()` instead"},B="'ownKeys()' can only be used on observable objects",V="'defineProperty()' can only be used on observable objects",F={};function G(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var H={};function U(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:H}var z=Object.assign,W=Object.getOwnPropertyDescriptor,$=Object.defineProperty,K=Object.prototype,X=[];Object.freeze(X);var q={};Object.freeze(q);var Y="undefined"!=typeof Proxy,J=Object.toString();function Z(){Y||G("Proxy not available")}function Q(e){0}function ee(){return++Ln.mobxGuid}function te(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var ne=function e(){};function re(e){return"function"==typeof e}function oe(e){var t;switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function ie(e){return null!==e&&"object"==typeof e}function ae(e){if(!ie(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===J}function ue(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function ce(e,t,n){$(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function se(e,t,n){$(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function le(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return ie(e)&&!0===e[n]}}function fe(e){return e instanceof Map}function pe(e){return e instanceof Set}var he=void 0!==Object.getOwnPropertySymbols;function de(e){var t=Object.keys(e);if(!he)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return K.propertyIsEnumerable.call(e,t)}))):t}var ve="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:he?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function ye(e){return"string"==typeof e?e:"symbol"==typeof e?e.toString():new String(e).toString()}function me(e){return null===e?null:"object"==typeof e?""+e:e}function be(e,t){return K.hasOwnProperty.call(e,t)}var ge=Object.getOwnPropertyDescriptors||function e(t){var n={};return ve(t).forEach((function(e){n[e]=W(t,e)})),n};function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ce(r.key),r)}}function Oe(e,t,n){return t&&we(e.prototype,t),n&&we(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _e(){return(_e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function je(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Se(e,t)}function Se(e,t){return(Se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ke(e,t){if(e){if("string"==typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(e,t):void 0}}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=ke(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ne(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ce(e){var t=Ne(e,"string");return"symbol"==typeof t?t:String(t)}var Te=Symbol("mobx-stored-annotations");function Re(e){function t(t,n){Ae(t,n,e)}return Object.assign(t,e)}function Ae(e,t,n){var r;be(e,Te)||ce(e,Te,_e({},e[Te])),Le(e,n,t),Je(n)||(e[Te][t]=n)}function Le(e,t,n){var r,o,i}function Me(e){return be(e,Te)||ce(e,Te,_e({},e[Te])),e[Te]}var De=Symbol("mobx administration"),Ie=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=pn.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function e(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function e(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function e(){return Wn(this)},t.reportChanged=function e(){Un(),$n(this),zn()},t.toString=function e(){return this.name_},e}(),Be=le("Atom",Ie);function Ve(e,t,n){void 0===t&&(t=ne),void 0===n&&(n=ne);var r=new Ie(e);return t!==ne&&Rr(r,t),n!==ne&&Ar(r,n),r}function Fe(e,t){return e===t}function Ge(e,t){return Bi(e,t)}function He(e,t){return Bi(e,t,1)}function Ue(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t}var ze={identity:Fe,structural:Ge,default:Ue,shallow:He};function We(e,t,n){return co(e)?e:Array.isArray(e)?Vt.array(e,{name:n}):ae(e)?Vt.object(e,void 0,{name:n}):fe(e)?Vt.map(e,{name:n}):pe(e)?Vt.set(e,{name:n}):"function"!=typeof e||Sr(e)||Qr(e)?e:ue(e)?Yr(e):_r(n,e)}function $e(e,t,n){return null==e||_i(e)||oi(e)||si(e)||vi(e)?e:Array.isArray(e)?Vt.array(e,{name:n,deep:!1}):ae(e)?Vt.object(e,void 0,{name:n,deep:!1}):fe(e)?Vt.map(e,{name:n,deep:!1}):pe(e)?Vt.set(e,{name:n,deep:!1}):void 0}function Ke(e){return e}function Xe(e,t){return Bi(e,t)?t:e}var qe="override",Ye=Re({annotationType_:qe,make_:Ze,extend_:Qe});function Je(e){return e.annotationType_===qe}function Ze(e,t){return 0}function Qe(e,t,n,r){G("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function et(e,t){return{annotationType_:e,options_:t,make_:tt,extend_:nt}}function tt(e,t,n,r){var o;if(null!=(o=this.options_)&&o.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(Sr(n.value))return 1;var i=ot(e,this,t,n,!1);return $(r,t,i),2}function nt(e,t,n,r){var o=ot(e,this,t,n);return e.defineProperty_(t,o,r)}function rt(e,t,n,r){var o=t.annotationType_,i=r.value}function ot(e,t,n,r,o){var i,a,u,c,s,l,f;void 0===o&&(o=Ln.safeDescriptors),rt(e,t,n,r);var p=r.value,h;null!=(i=t.options_)&&i.bound&&(p=p.bind(null!=(h=e.proxy_)?h:e.target_));return{value:Zt(null!=(a=null==(u=t.options_)?void 0:u.name)?a:n.toString(),p,null!=(c=null==(s=t.options_)?void 0:s.autoAction)&&c,null!=(l=t.options_)&&l.bound?null!=(f=e.proxy_)?f:e.target_:void 0),configurable:!o||e.isPlainObject_,enumerable:!1,writable:!o}}function it(e,t){return{annotationType_:e,options_:t,make_:at,extend_:ut}}function at(e,t,n,r){var o;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(o=this.options_)&&o.bound&&(!be(e.target_,t)||!Qr(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(Qr(n.value))return 1;var i=st(e,this,t,n,!1,!1);return $(r,t,i),2}function ut(e,t,n,r){var o,i=st(e,this,t,n,null==(o=this.options_)?void 0:o.bound);return e.defineProperty_(t,i,r)}function ct(e,t,n,r){var o=t.annotationType_,i=r.value}function st(e,t,n,r,o,i){void 0===i&&(i=Ln.safeDescriptors),ct(e,t,n,r);var a=r.value,u;(Qr(a)||(a=Yr(a)),o)&&((a=a.bind(null!=(u=e.proxy_)?u:e.target_)).isMobXFlow=!0);return{value:a,configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function lt(e,t){return{annotationType_:e,options_:t,make_:ft,extend_:pt}}function ft(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function pt(e,t,n,r){return ht(e,this,t,n),e.defineComputedProperty_(t,_e({},this.options_,{get:n.get,set:n.set}),r)}function ht(e,t,n,r){var o=t.annotationType_,i=r.get}function dt(e,t){return{annotationType_:e,options_:t,make_:vt,extend_:yt}}function vt(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function yt(e,t,n,r){var o,i;return mt(e,this,t,n),e.defineObservableProperty_(t,n.value,null!=(o=null==(i=this.options_)?void 0:i.enhancer)?o:We,r)}function mt(e,t,n,r){var o=t.annotationType_}var bt="true",gt=wt();function wt(e){return{annotationType_:bt,options_:e,make_:Ot,extend_:_t}}function Ot(e,t,n,r){var o,i,a,u,c,s;if(n.get)return zt.make_(e,t,n,r);if(n.set){var l=Zt(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!Ln.safeDescriptors||e.isPlainObject_,set:l})?0:2:($(r,t,{configurable:!0,set:l}),2)}if(r!==e.target_&&"function"==typeof n.value)return ue(n.value)?(null!=(u=this.options_)&&u.autoBind?Yr.bound:Yr).make_(e,t,n,r):(null!=(a=this.options_)&&a.autoBind?_r.bound:_r).make_(e,t,n,r);var f=!1===(null==(o=this.options_)?void 0:o.deep)?Vt.ref:Vt,p;"function"==typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(p=e.proxy_)?p:e.target_));return f.make_(e,t,n,r)}function _t(e,t,n,r){var o,i,a,u;if(n.get)return zt.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:!Ln.safeDescriptors||e.isPlainObject_,set:Zt(t.toString(),n.set)},r);"function"==typeof n.value&&null!=(o=this.options_)&&o.autoBind&&(n.value=n.value.bind(null!=(a=e.proxy_)?a:e.target_));return(!1===(null==(i=this.options_)?void 0:i.deep)?Vt.ref:Vt).extend_(e,t,n,r)}var jt="observable",St="observable.ref",Et="observable.shallow",kt="observable.struct",Pt={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function xt(e){return e||Pt}Object.freeze(Pt);var Nt=dt(jt),Ct=dt(St,{enhancer:Ke}),Tt=dt(Et,{enhancer:$e}),Rt=dt(kt,{enhancer:Xe}),At=Re(Nt);function Lt(e){return!0===e.deep?We:!1===e.deep?Ke:Dt(e.defaultDecorator)}function Mt(e){var t;return e?null!=(t=e.defaultDecorator)?t:wt(e):void 0}function Dt(e){var t,n;return e&&null!=(t=null==(n=e.options_)?void 0:n.enhancer)?t:We}function It(e,t,n){if(!oe(t))return co(e)?e:ae(e)?Vt.object(e,t,n):Array.isArray(e)?Vt.array(e,t):fe(e)?Vt.map(e,t):pe(e)?Vt.set(e,t):"object"==typeof e&&null!==e?e:Vt.box(e,t);Ae(e,t,Nt)}z(It,At);var Bt,Vt=z(It,{box:function e(t,n){var r=xt(n);return new un(t,Lt(r),r.name,!0,r.equals)},array:function e(t,n){var r=xt(n);return(!1===Ln.useProxies||!1===r.proxy?Ai:qo)(t,Lt(r),r.name)},map:function e(t,n){var r=xt(n);return new ci(t,Lt(r),r.name)},set:function e(t,n){var r=xt(n);return new di(t,Lt(r),r.name)},object:function e(t,n,r){return Vr(!1===Ln.useProxies||!1===(null==r?void 0:r.proxy)?gi({},r):Lo({},r),t,n)},ref:Re(Ct),shallow:Re(Tt),deep:At,struct:Re(Rt)}),Ft="computed",Gt="computed.struct",Ht=lt(Ft),Ut=lt(Gt,{equals:ze.structural}),zt=function e(t,n){if(oe(n))return Ae(t,n,Ht);if(ae(t))return Re(lt(Ft,t));var r=ae(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new ln(r)},Wt,$t;Object.assign(zt,Ht),zt.struct=Re(Ut);var Kt=0,Xt=1,qt=null!=(Wt=null==($t=W((function(){}),"name"))?void 0:$t.configurable)&&Wt,Yt={value:"action",configurable:!0,writable:!1,enumerable:!1},Jt;function Zt(e,t,n,r){function o(){return Qt(e,n,t,r||this,arguments)}return void 0===n&&(n=!1),o.isMobxAction=!0,qt&&(Yt.value=e,$(o,"name",Yt)),o}function Qt(e,t,n,r,o){var i=en(e,t,r,o);try{return n.apply(r,o)}catch(e){throw i.error_=e,e}finally{tn(i)}}function en(e,t,n,r){var o=!1,i=0,a,u=Ln.trackingDerivation,c=!t||!u;Un();var s=Ln.allowStateChanges;c&&(En(),s=rn(!0));var l,f={runAsAction_:c,prevDerivation_:u,prevAllowStateChanges_:s,prevAllowStateReads_:Pn(!0),notifySpy_:!1,startTime_:0,actionId_:Xt++,parentActionId_:Kt};return Kt=f.actionId_,f}function tn(e){Kt!==e.actionId_&&G(30),Kt=e.parentActionId_,void 0!==e.error_&&(Ln.suppressReactionErrors=!0),on(e.prevAllowStateChanges_),xn(e.prevAllowStateReads_),zn(),e.runAsAction_&&kn(e.prevDerivation_),Ln.suppressReactionErrors=!1}function nn(e,t){var n=rn(e);try{return t()}finally{on(n)}}function rn(e){var t=Ln.allowStateChanges;return Ln.allowStateChanges=e,t}function on(e){Ln.allowStateChanges=e}var an="create";Jt=Symbol.toPrimitive;var un=function(e){function t(t,n,r,o,i){var a;return void 0===r&&(r="ObservableValue"),void 0===o&&(o=!0),void 0===i&&(i=ze.default),(a=e.call(this,r)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=n,a.name_=r,a.equals=i,a.value_=n(t,void 0,r),a}je(t,e);var n=t.prototype;return n.dehanceValue=function e(t){return void 0!==this.dehancer?this.dehancer(t):t},n.set=function e(t){var n=this.value_;if((t=this.prepareNewValue_(t))!==Ln.UNCHANGED){var r=!1;0,this.setNewValue_(t)}},n.prepareNewValue_=function e(t){if(bn(this),Mo(this)){var n=Io(this,{object:this,type:Wo,newValue:t});if(!n)return Ln.UNCHANGED;t=n.newValue}return t=this.enhancer(t,this.value_,this.name_),this.equals(this.value_,t)?Ln.UNCHANGED:t},n.setNewValue_=function e(t){var n=this.value_;this.value_=t,this.reportChanged(),Bo(this)&&Fo(this,{type:Wo,object:this,newValue:t,oldValue:n})},n.get=function e(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function e(t){return Do(this,t)},n.observe_=function e(t,n){return n&&t({observableKind:"value",debugObjectName:this.name_,object:this,type:Wo,newValue:this.value_,oldValue:void 0}),Vo(this,t)},n.raw=function e(){return this.value_},n.toJSON=function e(){return this.get()},n.toString=function e(){return this.name_+"["+this.value_+"]"},n.valueOf=function e(){return me(this.get())},n[Jt]=function(){return this.valueOf()},t}(Ie),cn=le("ObservableValue",un),sn;sn=Symbol.toPrimitive;var ln=function(){function e(e){this.dependenciesState_=pn.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=pn.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new dn(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=hn.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||G(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=Zt("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?ze.structural:ze.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function e(){Xn(this)},t.onBO=function e(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function e(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function e(){if(this.isComputing_&&G(32,this.name_,this.derivation),0!==Ln.inBatch||0!==this.observers_.size||this.keepAlive_){if(Wn(this),yn(this)){var t=Ln.trackingContext;this.keepAlive_&&!t&&(Ln.trackingContext=this),this.trackAndCompute()&&Kn(this),Ln.trackingContext=t}}else yn(this)&&(this.warnAboutUntrackedRead_(),Un(),this.value_=this.computeValue_(!1),zn());var n=this.value_;if(vn(n))throw n.cause;return n},t.set=function e(t){if(this.setter_){this.isRunningSetter_&&G(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,t)}finally{this.isRunningSetter_=!1}}else G(34,this.name_)},t.trackAndCompute=function e(){var t=this.value_,n=this.dependenciesState_===pn.NOT_TRACKING_,r=this.computeValue_(!0),o=n||vn(t)||vn(r)||!this.equals_(t,r);return o&&(this.value_=r),o},t.computeValue_=function e(t){this.isComputing_=!0;var n=rn(!1),r;if(t)r=wn(this,this.derivation,this.scope_);else if(!0===Ln.disableErrorBoundaries)r=this.derivation.call(this.scope_);else try{r=this.derivation.call(this.scope_)}catch(e){r=new dn(e)}return on(n),this.isComputing_=!1,r},t.suspend_=function e(){this.keepAlive_||(jn(this),this.value_=void 0)},t.observe_=function e(t,n){var r=this,o=!0,i=void 0;return Er((function(){var e=r.get();if(!o||n){var a=En();t({observableKind:"computed",debugObjectName:r.name_,type:Wo,object:r,newValue:e,oldValue:i}),kn(a)}o=!1,i=e}))},t.warnAboutUntrackedRead_=function e(){},t.toString=function e(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function e(){return me(this.get())},t[sn]=function(){return this.valueOf()},e}(),fn=le("ComputedValue",ln),pn,hn;!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(pn||(pn={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(hn||(hn={}));var dn=function e(t){this.cause=void 0,this.cause=t};function vn(e){return e instanceof dn}function yn(e){switch(e.dependenciesState_){case pn.UP_TO_DATE_:return!1;case pn.NOT_TRACKING_:case pn.STALE_:return!0;case pn.POSSIBLY_STALE_:for(var t=Pn(!0),n=En(),r=e.observing_,o=r.length,i=0;i<o;i++){var a=r[i];if(fn(a)){if(Ln.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return kn(n),xn(t),!0}if(e.dependenciesState_===pn.STALE_)return kn(n),xn(t),!0}}return Nn(e),kn(n),xn(t),!1}}function mn(){return null!==Ln.trackingDerivation}function bn(e){var t}function gn(e){0}function wn(e,t,n){var r=Pn(!0);Nn(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++Ln.runId;var o=Ln.trackingDerivation,i;if(Ln.trackingDerivation=e,Ln.inBatch++,!0===Ln.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new dn(e)}return Ln.inBatch--,Ln.trackingDerivation=o,_n(e),On(e),xn(r),i}function On(e){}function _n(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=pn.UP_TO_DATE_,o=0,i=e.unboundDepsCount_,a=0;a<i;a++){var u=n[a];0===u.diffValue_&&(u.diffValue_=1,o!==a&&(n[o]=u),o++),u.dependenciesState_>r&&(r=u.dependenciesState_)}for(n.length=o,e.newObserving_=null,i=t.length;i--;){var c=t[i];0===c.diffValue_&&Gn(c,e),c.diffValue_=0}for(;o--;){var s=n[o];1===s.diffValue_&&(s.diffValue_=0,Fn(s,e))}r!==pn.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function jn(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Gn(t[n],e);e.dependenciesState_=pn.NOT_TRACKING_}function Sn(e){var t=En();try{return e()}finally{kn(t)}}function En(){var e=Ln.trackingDerivation;return Ln.trackingDerivation=null,e}function kn(e){Ln.trackingDerivation=e}function Pn(e){var t=Ln.allowStateReads;return Ln.allowStateReads=e,t}function xn(e){Ln.allowStateReads=e}function Nn(e){if(e.dependenciesState_!==pn.UP_TO_DATE_){e.dependenciesState_=pn.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=pn.UP_TO_DATE_}}var Cn=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],Tn=function e(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Rn=!0,An=!1,Ln=function(){var e=U();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Rn=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Tn).version&&(Rn=!1),Rn?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Tn):(setTimeout((function(){An||G(35)}),1),new Tn)}();function Mn(){if((Ln.pendingReactions.length||Ln.inBatch||Ln.isRunningReactions)&&G(36),An=!0,Rn){var e=U();0==--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),Ln=new Tn}}function Dn(){return Ln}function In(){var e=new Tn;for(var t in e)-1===Cn.indexOf(t)&&(Ln[t]=e[t]);Ln.allowStateChanges=!Ln.enforceActions}function Bn(e){return e.observers_&&e.observers_.size>0}function Vn(e){return e.observers_}function Fn(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Gn(e,t){e.observers_.delete(t),0===e.observers_.size&&Hn(e)}function Hn(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,Ln.pendingUnobservations.push(e))}function Un(){Ln.inBatch++}function zn(){if(0==--Ln.inBatch){tr();for(var e=Ln.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof ln&&n.suspend_())}Ln.pendingUnobservations=[]}}function Wn(e){gn(e);var t=Ln.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&Ln.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),e.isBeingObserved_):(0===e.observers_.size&&Ln.inBatch>0&&Hn(e),!1)}function $n(e){e.lowestObserverState_!==pn.STALE_&&(e.lowestObserverState_=pn.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===pn.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=pn.STALE_})))}function Kn(e){e.lowestObserverState_!==pn.STALE_&&(e.lowestObserverState_=pn.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===pn.POSSIBLY_STALE_?t.dependenciesState_=pn.STALE_:t.dependenciesState_===pn.UP_TO_DATE_&&(e.lowestObserverState_=pn.UP_TO_DATE_)})))}function Xn(e){e.lowestObserverState_===pn.UP_TO_DATE_&&(e.lowestObserverState_=pn.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===pn.UP_TO_DATE_&&(e.dependenciesState_=pn.POSSIBLY_STALE_,e.onBecomeStale_())})))}function qn(e,t){if(console.log("[mobx.trace] '"+e.name_+"' is invalidated due to a change in: '"+t.name_+"'"),e.isTracing_===hn.BREAK){var n=[];Yn(Fr(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name_+"'\n\nYou are entering this break point because derivation '"+e.name_+"' is being traced and '"+t.name_+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof ln?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function Yn(e,t,n){t.length>=1e3?t.push("(and many more)"):(t.push(""+"\t".repeat(n-1)+e.name),e.dependencies&&e.dependencies.forEach((function(e){return Yn(e,t,n+1)})))}var Jn=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=pn.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=hn.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function e(){this.schedule_()},t.schedule_=function e(){this.isScheduled_||(this.isScheduled_=!0,Ln.pendingReactions.push(this),tr())},t.isScheduled=function e(){return this.isScheduled_},t.runReaction_=function e(){if(!this.isDisposed_){Un(),this.isScheduled_=!1;var t=Ln.trackingContext;if(Ln.trackingContext=this,yn(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}Ln.trackingContext=t,zn()}},t.track=function e(t){if(!this.isDisposed_){Un();var n=!1,r;0,this.isRunning_=!0;var o=Ln.trackingContext;Ln.trackingContext=this;var i=wn(this,t,void 0);Ln.trackingContext=o,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&jn(this),vn(i)&&this.reportExceptionInDerivation_(i.cause),zn()}},t.reportExceptionInDerivation_=function e(t){var n=this;if(this.errorHandler_)this.errorHandler_(t,this);else{if(Ln.disableErrorBoundaries)throw t;var r="[mobx] uncaught error in '"+this+"'";Ln.suppressReactionErrors||console.error(r,t),Ln.globalReactionErrorHandlers.forEach((function(e){return e(t,n)}))}},t.dispose=function e(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(Un(),jn(this),zn()))},t.getDisposer_=function e(){var t=this.dispose.bind(this);return t[De]=this,t},t.toString=function e(){return"Reaction["+this.name_+"]"},t.trace=function e(t){void 0===t&&(t=!1),ko(this,t)},e}();function Zn(e){return Ln.globalReactionErrorHandlers.push(e),function(){var t=Ln.globalReactionErrorHandlers.indexOf(e);t>=0&&Ln.globalReactionErrorHandlers.splice(t,1)}}var Qn=100,er=function e(t){return t()};function tr(){Ln.inBatch>0||Ln.isRunningReactions||er(nr)}function nr(){Ln.isRunningReactions=!0;for(var e=Ln.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction_()}Ln.isRunningReactions=!1}var rr=le("Reaction",Jn);function or(e){var t=er;er=function n(r){return e((function(){return t(r)}))}}function ir(){return!1}function ar(e){var t,n,r}function ur(e){var t}var cr={type:"report-end",spyReportEnd:!0};function sr(e){}function lr(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var fr="action",pr="action.bound",hr="autoAction",dr="autoAction.bound",vr="<unnamed action>",yr=et(fr),mr=et(pr,{bound:!0}),br=et(hr,{autoAction:!0}),gr=et(dr,{autoAction:!0,bound:!0});function wr(e){var t;return function t(n,r){return re(n)?Zt(n.name||"<unnamed action>",n,e):re(r)?Zt(n,r,e):oe(r)?Ae(n,r,e?br:yr):oe(n)?Re(et(e?hr:fr,{name:n,autoAction:e})):void 0}}var Or=wr(!1);Object.assign(Or,yr);var _r=wr(!0);function jr(e){return Qt(e.name||"<unnamed action>",!1,e,this,void 0)}function Sr(e){return re(e)&&!0===e.isMobxAction}function Er(e,t){var n,r;void 0===t&&(t=q);var o=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun",i,a;if(!t.scheduler&&!t.delay)a=new Jn(o,(function(){this.track(s)}),t.onError,t.requiresObservable);else{var u=Pr(t),c=!1;a=new Jn(o,(function(){c||(c=!0,u((function(){c=!1,a.isDisposed_||a.track(s)})))}),t.onError,t.requiresObservable)}function s(){e(a)}return a.schedule_(),a.getDisposer_()}Object.assign(_r,br),Or.bound=Re(mr),_r.bound=Re(gr);var kr=function e(t){return t()};function Pr(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:kr}function xr(e,t,n){var r;void 0===n&&(n=q);var o=null!=(r=n.name)?r:"Reaction",i=Or(o,n.onError?Nr(n.onError,t):t),a=!n.scheduler&&!n.delay,u=Pr(n),c=!0,s=!1,l,f,p=n.compareStructural?ze.structural:n.equals||ze.default,h=new Jn(o,(function(){c||a?d():s||(s=!0,u(d))}),n.onError,n.requiresObservable);function d(){if(s=!1,!h.isDisposed_){var t=!1;h.track((function(){var n=nn(!1,(function(){return e(h)}));t=c||!p(l,n),f=l,l=n})),(c&&n.fireImmediately||!c&&t)&&i(l,f,h),c=!1}}return h.schedule_(),h.getDisposer_()}function Nr(e,t){return function(){try{return t.apply(this,arguments)}catch(t){e.call(this,t)}}}var Cr="onBO",Tr="onBUO";function Rr(e,t,n){return Lr("onBO",e,t,n)}function Ar(e,t,n){return Lr("onBUO",e,t,n)}function Lr(e,t,n,r){var o="function"==typeof r?Li(t,n):Li(t),i=re(r)?r:n,a=e+"L";return o[a]?o[a].add(i):o[a]=new Set([i]),function(){var e=o[a];e&&(e.delete(i),0===e.size&&delete o[a])}}var Mr="never",Dr="always",Ir="observed";function Br(e){!0===e.isolateGlobalState&&Mn();var t=e.useProxies,n=e.enforceActions;if(void 0!==t&&(Ln.useProxies=t===Dr||t!==Mr&&"undefined"!=typeof Proxy),"ifavailable"===t&&(Ln.verifyProxies=!0),void 0!==n){var r=n===Dr?Dr:n===Ir;Ln.enforceActions=r,Ln.allowStateChanges=!0!==r&&r!==Dr}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(Ln[t]=!!e[t])})),Ln.allowStateReads=!Ln.observableRequiresReaction,e.reactionScheduler&&or(e.reactionScheduler)}function Vr(e,t,n,r){var o=ge(t),i=gi(e,r)[De];Un();try{ve(o).forEach((function(e){i.extend_(e,o[e],!n||(!(e in n)||n[e]))}))}finally{zn()}return e}function Fr(e,t){return Gr(Li(e,t))}function Gr(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=zr(e.observing_).map(Gr)),t}function Hr(e,t){return Ur(Li(e,t))}function Ur(e){var t={name:e.name_};return Bn(e)&&(t.observers=Array.from(Vn(e)).map(Ur)),t}function zr(e){return Array.from(new Set(e))}var Wr=0;function $r(){this.message="FLOW_CANCELLED"}function Kr(e){return e instanceof $r}$r.prototype=Object.create(Error.prototype);var Xr=it("flow"),qr=it("flow.bound",{bound:!0}),Yr=Object.assign((function e(t,n){if(oe(n))return Ae(t,n,Xr);var r=t,o=r.name||"<unnamed flow>",i=function e(){var t=this,n=arguments,i=++Wr,a=Or(o+" - runid: "+i+" - init",r).apply(t,n),u,c=void 0,s=new Promise((function(e,t){var n=0;function r(e){var r;c=void 0;try{r=Or(o+" - runid: "+i+" - yield "+n++,a.next).call(a,e)}catch(e){return t(e)}l(r)}function s(e){var r;c=void 0;try{r=Or(o+" - runid: "+i+" - yield "+n++,a.throw).call(a,e)}catch(e){return t(e)}l(r)}function l(n){if(!re(null==n?void 0:n.then))return n.done?e(n.value):(c=Promise.resolve(n.value)).then(r,s);n.then(l,t)}u=t,r(void 0)}));return s.cancel=Or(o+" - runid: "+i+" - cancel",(function(){try{c&&Jr(c);var e=a.return(void 0),t=Promise.resolve(e.value);t.then(ne,ne),Jr(t),u(new $r)}catch(e){u(e)}})),s};return i.isMobXFlow=!0,i}),Xr);function Jr(e){re(e.cancel)&&e.cancel()}function Zr(e){return e}function Qr(e){return!0===(null==e?void 0:e.isMobXFlow)}function eo(e,t,n){var r;return si(e)||oi(e)||cn(e)?r=Mi(e):_i(e)&&(r=Mi(e,t)),r.dehancer="function"==typeof t?t:n,function(){r.dehancer=void 0}}function to(e,t,n){return re(n)?ro(e,t,n):no(e,t)}function no(e,t){return Mi(e).intercept_(t)}function ro(e,t,n){return Mi(e,t).intercept_(n)}function oo(e,t){if(void 0===t)return fn(e);if(!1===_i(e))return!1;if(!e[De].values_.has(t))return!1;var n=Li(e,t);return fn(n)}function io(e){return oo(e)}function ao(e,t){return oo(e,t)}function uo(e,t){return!!e&&(void 0!==t?!!_i(e)&&e[De].values_.has(t):_i(e)||!!e[De]||Be(e)||rr(e)||fn(e))}function co(e){return uo(e)}function so(e,t){return uo(e,t)}function lo(e){return _i(e)?e[De].keys_():si(e)||vi(e)?Array.from(e.keys()):oi(e)?e.map((function(e,t){return t})):void G(5)}function fo(e){return _i(e)?lo(e).map((function(t){return e[t]})):si(e)?lo(e).map((function(t){return e.get(t)})):vi(e)?Array.from(e.values()):oi(e)?e.slice():void G(6)}function po(e){return _i(e)?lo(e).map((function(t){return[t,e[t]]})):si(e)?lo(e).map((function(t){return[t,e.get(t)]})):vi(e)?Array.from(e.entries()):oi(e)?e.map((function(e,t){return[t,e]})):void G(7)}function ho(e,t,n){if(2!==arguments.length||vi(e))_i(e)?e[De].set_(t,n):si(e)?e.set(t,n):vi(e)?e.add(t):oi(e)?("number"!=typeof t&&(t=parseInt(t,10)),t<0&&G("Invalid index: '"+t+"'"),Un(),t>=e.length&&(e.length=t+1),e[t]=n,zn()):G(8);else{Un();var r=t;try{for(var o in r)ho(e,o,r[o])}finally{zn()}}}function vo(e,t){_i(e)?e[De].delete_(t):si(e)||vi(e)?e.delete(t):oi(e)?("number"!=typeof t&&(t=parseInt(t,10)),e.splice(t,1)):G(9)}function yo(e,t){return _i(e)?e[De].has_(t):si(e)||vi(e)?e.has(t):oi(e)?t>=0&&t<e.length:void G(10)}function mo(e,t){if(yo(e,t))return _i(e)?e[De].get_(t):si(e)?e.get(t):oi(e)?e[t]:void G(11)}function bo(e,t,n){if(_i(e))return e[De].defineProperty_(t,n);G(39)}function go(e){if(_i(e))return e[De].ownKeys_();G(38)}function wo(e,t,n,r){return re(n)?_o(e,t,n,r):Oo(e,t,n)}function Oo(e,t,n){return Mi(e).observe_(t,n)}function _o(e,t,n,r){return Mi(e,t).observe_(n,r)}function jo(e,t,n){return e.set(t,n),n}function So(e,t){if(null==e||"object"!=typeof e||e instanceof Date||!co(e))return e;if(cn(e)||fn(e))return So(e.get(),t);if(t.has(e))return t.get(e);if(oi(e)){var n=jo(t,e,new Array(e.length));return e.forEach((function(e,r){n[r]=So(e,t)})),n}if(vi(e)){var r=jo(t,e,new Set);return e.forEach((function(e){r.add(So(e,t))})),r}if(si(e)){var o=jo(t,e,new Map);return e.forEach((function(e,n){o.set(n,So(e,t))})),o}var i=jo(t,e,{});return go(e).forEach((function(n){K.propertyIsEnumerable.call(e,n)&&(i[n]=So(e[n],t))})),i}function Eo(e,t){return So(e,new Map)}function ko(){G("trace() is not available in production builds");for(var e=!1,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"boolean"==typeof n[n.length-1]&&(e=n.pop());var o=Po(n);if(!o)return G("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");o.isTracing_===hn.NONE&&console.log("[mobx.trace] '"+o.name_+"' tracing enabled"),o.isTracing_=e?hn.BREAK:hn.LOG}function Po(e){switch(e.length){case 0:return Ln.trackingDerivation;case 1:return Li(e[0]);case 2:return Li(e[0],e[1])}}function xo(e,t){void 0===t&&(t=void 0),Un();try{return e.apply(t)}finally{zn()}}function No(e,t,n){return 1===arguments.length||t&&"object"==typeof t?To(e,t):Co(e,t,n||{})}function Co(e,t,n){var r;if("number"==typeof n.timeout){var o=new Error("WHEN_TIMEOUT");r=setTimeout((function(){if(!a[De].isDisposed_){if(a(),!n.onError)throw o;n.onError(o)}}),n.timeout)}n.name="When";var i=Zt("When-effect",t),a=Er((function(t){var n;nn(!1,e)&&(t.dispose(),r&&clearTimeout(r),i())}),n);return a}function To(e,t){var n,r,o;if(null!=t&&null!=(n=t.signal)&&n.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function e(){return null}});var i=new Promise((function(n,i){var a,u=Co(e,n,_e({},t,{onError:i}));r=function e(){u(),i(new Error("WHEN_CANCELLED"))},o=function e(){u(),i(new Error("WHEN_ABORTED"))},null==t||null==(a=t.signal)||null==a.addEventListener||a.addEventListener("abort",o)})).finally((function(){var e;return null==t||null==(e=t.signal)||null==e.removeEventListener?void 0:e.removeEventListener("abort",o)}));return i.cancel=r,i}function Ro(e){return e[De]}Yr.bound=Re(qr);var Ao={has:function e(t,n){return Ro(t).has_(n)},get:function e(t,n){return Ro(t).get_(n)},set:function e(t,n,r){var o;return!!oe(n)&&(null==(o=Ro(t).set_(n,r,!0))||o)},deleteProperty:function e(t,n){var r;return!!oe(n)&&(null==(r=Ro(t).delete_(n,!0))||r)},defineProperty:function e(t,n,r){var o;return null==(o=Ro(t).defineProperty_(n,r))||o},ownKeys:function e(t){return Ro(t).ownKeys_()},preventExtensions:function e(t){G(13)}};function Lo(e,t){var n,r;return Z(),null!=(r=(n=(e=gi(e,t))[De]).proxy_)?r:n.proxy_=new Proxy(e,Ao)}function Mo(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function Do(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),te((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Io(e,t){var n=En();try{for(var r=[].concat(e.interceptors_||[]),o=0,i=r.length;o<i&&((t=r[o](t))&&!t.type&&G(14),t);o++);return t}finally{kn(n)}}function Bo(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function Vo(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),te((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Fo(e,t){var n=En(),r=e.changeListeners_;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](t);kn(n)}}function Go(e,t,n){var r=gi(e,n)[De];Un();try{var o;0,null!=(o=t)||(t=Me(e)),ve(t).forEach((function(e){return r.make_(e,t[e])}))}finally{zn()}return e}var Ho=Symbol("mobx-keys");function Uo(e,t,n){if(ae(e))return Vr(e,e,t,n);var r=gi(e,n)[De];if(!e[Ho]){var o=Object.getPrototypeOf(e),i=new Set([].concat(ve(e),ve(o)));i.delete("constructor"),i.delete(De),ce(o,Ho,i)}Un();try{e[Ho].forEach((function(e){return r.make_(e,!t||(!(e in t)||t[e]))}))}finally{zn()}return e}var zo="splice",Wo="update",$o=1e4,Ko={get:function e(t,n){var r=t[De];return n===De?r:"length"===n?r.getArrayLength_():"string"!=typeof n||isNaN(n)?be(Yo,n)?Yo[n]:t[n]:r.get_(parseInt(n))},set:function e(t,n,r){var o=t[De];return"length"===n&&o.setArrayLength_(r),"symbol"==typeof n||isNaN(n)?t[n]=r:o.set_(parseInt(n),r),!0},preventExtensions:function e(){G(15)}},Xo=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new Ie(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function e(t){return void 0!==this.dehancer?this.dehancer(t):t},t.dehanceValues_=function e(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},t.intercept_=function e(t){return Do(this,t)},t.observe_=function e(t,n){return void 0===n&&(n=!1),n&&t({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Vo(this,t)},t.getArrayLength_=function e(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function e(t){("number"!=typeof t||isNaN(t)||t<0)&&G("Out of range: "+t);var n=this.values_.length;if(t!==n)if(t>n){for(var r=new Array(t-n),o=0;o<t-n;o++)r[o]=void 0;this.spliceWithArray_(n,0,r)}else this.spliceWithArray_(t,n-t)},t.updateArrayLength_=function e(t,n){t!==this.lastKnownLength_&&G(16),this.lastKnownLength_+=n,this.legacyMode_&&n>0&&Ri(t+n+1)},t.spliceWithArray_=function e(t,n,r){var o=this;bn(this.atom_);var i=this.values_.length;if(void 0===t?t=0:t>i?t=i:t<0&&(t=Math.max(0,i+t)),n=1===arguments.length?i-t:null==n?0:Math.max(0,Math.min(n,i-t)),void 0===r&&(r=X),Mo(this)){var a=Io(this,{object:this.proxy_,type:zo,index:t,removedCount:n,added:r});if(!a)return X;n=a.removedCount,r=a.added}if(r=0===r.length?r:r.map((function(e){return o.enhancer_(e,void 0)})),this.legacyMode_){var u=r.length-n;this.updateArrayLength_(i,u)}var c=this.spliceItemsIntoValues_(t,n,r);return 0===n&&0===r.length||this.notifyArraySplice_(t,r,c),this.dehanceValues_(c)},t.spliceItemsIntoValues_=function e(t,n,r){var o;if(r.length<1e4)return(o=this.values_).splice.apply(o,[t,n].concat(r));var i=this.values_.slice(t,t+n),a=this.values_.slice(t+n);this.values_.length+=r.length-n;for(var u=0;u<r.length;u++)this.values_[t+u]=r[u];for(var c=0;c<a.length;c++)this.values_[t+r.length+c]=a[c];return i},t.notifyArrayChildUpdate_=function e(t,n,r){var o=!this.owned_&&!1,i=Bo(this),a=i||o?{observableKind:"array",object:this.proxy_,type:Wo,debugObjectName:this.atom_.name_,index:t,newValue:n,oldValue:r}:null;this.atom_.reportChanged(),i&&Fo(this,a)},t.notifyArraySplice_=function e(t,n,r){var o=!this.owned_&&!1,i=Bo(this),a=i||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:zo,index:t,removed:r,added:n,removedCount:r.length,addedCount:n.length}:null;this.atom_.reportChanged(),i&&Fo(this,a)},t.get_=function e(t){if(!(this.legacyMode_&&t>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[t]);console.warn("[mobx] Out of bounds read: "+t)},t.set_=function e(t,n){var r=this.values_;if(this.legacyMode_&&t>r.length&&G(17,t,r.length),t<r.length){bn(this.atom_);var o=r[t],i;if(Mo(this)){var a=Io(this,{type:Wo,object:this.proxy_,index:t,newValue:n});if(!a)return;n=a.newValue}(n=this.enhancer_(n,o))!==o&&(r[t]=n,this.notifyArrayChildUpdate_(t,n,o))}else{for(var u=new Array(t+1-r.length),c=0;c<u.length-1;c++)u[c]=void 0;u[u.length-1]=n,this.spliceWithArray_(r.length,0,u)}},e}();function qo(e,t,n,r){void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),Z();var o=new Xo(n,t,r,!1);se(o.values_,De,o);var i=new Proxy(o.values_,Ko);if(o.proxy_=i,e&&e.length){var a=rn(!0);o.spliceWithArray_(0,0,e),on(a)}return i}var Yo={clear:function e(){return this.splice(0)},replace:function e(t){var n=this[De];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function e(){return this.slice()},splice:function e(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=this[De];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(t);case 2:return a.spliceWithArray_(t,n)}return a.spliceWithArray_(t,n,o)},spliceWithArray:function e(t,n,r){return this[De].spliceWithArray_(t,n,r)},push:function e(){for(var t=this[De],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function e(){return this.splice(Math.max(this[De].values_.length-1,0),1)[0]},shift:function e(){return this.splice(0,1)[0]},unshift:function e(){for(var t=this[De],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function e(){return Ln.trackingDerivation&&G(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function e(){Ln.trackingDerivation&&G(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function e(t){var n=this[De],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1&&(this.splice(r,1),!0)}};function Jo(e,t){"function"==typeof Array.prototype[e]&&(Yo[e]=t(e))}function Zo(e){return function(){var t=this[De];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Qo(e){return function(t,n){var r=this,o=this[De],i;return o.atom_.reportObserved(),o.dehanceValues_(o.values_)[e]((function(e,o){return t.call(n,e,o,r)}))}}function ei(e){return function(){var t=this,n=this[De];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),o=arguments[0];return arguments[0]=function(e,n,r){return o(e,n,r,t)},r[e].apply(r,arguments)}}Jo("concat",Zo),Jo("flat",Zo),Jo("includes",Zo),Jo("indexOf",Zo),Jo("join",Zo),Jo("lastIndexOf",Zo),Jo("slice",Zo),Jo("toString",Zo),Jo("toLocaleString",Zo),Jo("every",Qo),Jo("filter",Qo),Jo("find",Qo),Jo("findIndex",Qo),Jo("flatMap",Qo),Jo("forEach",Qo),Jo("map",Qo),Jo("some",Qo),Jo("reduce",ei),Jo("reduceRight",ei);var ti=le("ObservableArrayAdministration",Xo),ni,ri;function oi(e){return ie(e)&&ti(e[De])}var ii={},ai="add",ui="delete";ni=Symbol.iterator,ri=Symbol.toStringTag;var ci=function(){function e(e,t,n){var r=this;void 0===t&&(t=We),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[De]=ii,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,re(Map)||G(18),this.keysAtom_=Ve("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,nn(!0,(function(){r.merge(e)}))}var t=e.prototype;return t.has_=function e(t){return this.data_.has(t)},t.has=function e(t){var n=this;if(!Ln.trackingDerivation)return this.has_(t);var r=this.hasMap_.get(t);if(!r){var o=r=new un(this.has_(t),Ke,"ObservableMap.key?",!1);this.hasMap_.set(t,o),Ar(o,(function(){return n.hasMap_.delete(t)}))}return r.get()},t.set=function e(t,n){var r=this.has_(t);if(Mo(this)){var o=Io(this,{type:r?Wo:ai,object:this,newValue:n,name:t});if(!o)return this;n=o.newValue}return r?this.updateValue_(t,n):this.addValue_(t,n),this},t.delete=function e(t){var n=this,r;if((bn(this.keysAtom_),Mo(this))&&!Io(this,{type:ui,object:this,name:t}))return!1;if(this.has_(t)){var o=!1,i=Bo(this),a=i?{observableKind:"map",debugObjectName:this.name_,type:ui,object:this,oldValue:this.data_.get(t).value_,name:t}:null;return xo((function(){var e,r;n.keysAtom_.reportChanged(),null==(e=n.hasMap_.get(t))||e.setNewValue_(!1),n.data_.get(t).setNewValue_(void 0),n.data_.delete(t)})),i&&Fo(this,a),!0}return!1},t.updateValue_=function e(t,n){var r=this.data_.get(t);if((n=r.prepareNewValue_(n))!==Ln.UNCHANGED){var o=!1,i=Bo(this),a=i?{observableKind:"map",debugObjectName:this.name_,type:Wo,object:this,oldValue:r.value_,name:t,newValue:n}:null;0,r.setNewValue_(n),i&&Fo(this,a)}},t.addValue_=function e(t,n){var r=this;bn(this.keysAtom_),xo((function(){var e,o=new un(n,r.enhancer_,"ObservableMap.key",!1);r.data_.set(t,o),n=o.value_,null==(e=r.hasMap_.get(t))||e.setNewValue_(!0),r.keysAtom_.reportChanged()}));var o=!1,i=Bo(this),a=i?{observableKind:"map",debugObjectName:this.name_,type:ai,object:this,name:t,newValue:n}:null;i&&Fo(this,a)},t.get=function e(t){return this.has(t)?this.dehanceValue_(this.data_.get(t).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function e(t){return void 0!==this.dehancer?this.dehancer(t):t},t.keys=function e(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function e(){var t=this,n=this.keys();return Gi({next:function e(){var r=n.next(),o=r.done,i=r.value;return{done:o,value:o?void 0:t.get(i)}}})},t.entries=function e(){var t=this,n=this.keys();return Gi({next:function e(){var r=n.next(),o=r.done,i=r.value;return{done:o,value:o?void 0:[i,t.get(i)]}}})},t[ni]=function(){return this.entries()},t.forEach=function e(t,n){for(var r=xe(this),o;!(o=r()).done;){var i=o.value,a=i[0],u=i[1];t.call(n,u,a,this)}},t.merge=function e(t){var n=this;return si(t)&&(t=new Map(t)),xo((function(){ae(t)?de(t).forEach((function(e){return n.set(e,t[e])})):Array.isArray(t)?t.forEach((function(e){var t=e[0],r=e[1];return n.set(t,r)})):fe(t)?(t.constructor!==Map&&G(19,t),t.forEach((function(e,t){return n.set(t,e)}))):null!=t&&G(20,t)})),this},t.clear=function e(){var t=this;xo((function(){Sn((function(){for(var e=xe(t.keys()),n;!(n=e()).done;){var r=n.value;t.delete(r)}}))}))},t.replace=function e(t){var n=this;return xo((function(){for(var e=pi(t),r=new Map,o=!1,i=xe(n.data_.keys()),a;!(a=i()).done;){var u=a.value,c;if(!e.has(u))if(n.delete(u))o=!0;else{var s=n.data_.get(u);r.set(u,s)}}for(var l=xe(e.entries()),f;!(f=l()).done;){var p=f.value,h=p[0],d=p[1],v=n.data_.has(h);if(n.set(h,d),n.data_.has(h)){var y=n.data_.get(h);r.set(h,y),v||(o=!0)}}if(!o)if(n.data_.size!==r.size)n.keysAtom_.reportChanged();else for(var m=n.data_.keys(),b=r.keys(),g=m.next(),w=b.next();!g.done;){if(g.value!==w.value){n.keysAtom_.reportChanged();break}g=m.next(),w=b.next()}n.data_=r})),this},t.toString=function e(){return"[object ObservableMap]"},t.toJSON=function e(){return Array.from(this)},t.observe_=function e(t,n){return Vo(this,t)},t.intercept_=function e(t){return Do(this,t)},Oe(e,[{key:"size",get:function e(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:ri,get:function e(){return"Map"}}]),e}(),si=le("ObservableMap",ci),li,fi;function pi(e){if(fe(e)||si(e))return e;if(Array.isArray(e))return new Map(e);if(ae(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return G(21,e)}var hi={};li=Symbol.iterator,fi=Symbol.toStringTag;var di=function(){function e(e,t,n){void 0===t&&(t=We),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[De]=hi,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,re(Set)||G(22),this.atom_=Ve(this.name_),this.enhancer_=function(e,r){return t(e,r,n)},e&&this.replace(e)}var t=e.prototype;return t.dehanceValue_=function e(t){return void 0!==this.dehancer?this.dehancer(t):t},t.clear=function e(){var t=this;xo((function(){Sn((function(){for(var e=xe(t.data_.values()),n;!(n=e()).done;){var r=n.value;t.delete(r)}}))}))},t.forEach=function e(t,n){for(var r=xe(this),o;!(o=r()).done;){var i=o.value;t.call(n,i,i,this)}},t.add=function e(t){var n=this,r;if((bn(this.atom_),Mo(this))&&!Io(this,{type:ai,object:this,newValue:t}))return this;if(!this.has(t)){xo((function(){n.data_.add(n.enhancer_(t,void 0)),n.atom_.reportChanged()}));var o=!1,i=Bo(this),a=i?{observableKind:"set",debugObjectName:this.name_,type:ai,object:this,newValue:t}:null;0,i&&Fo(this,a)}return this},t.delete=function e(t){var n=this,r;if(Mo(this)&&!Io(this,{type:ui,object:this,oldValue:t}))return!1;if(this.has(t)){var o=!1,i=Bo(this),a=i?{observableKind:"set",debugObjectName:this.name_,type:ui,object:this,oldValue:t}:null;return xo((function(){n.atom_.reportChanged(),n.data_.delete(t)})),i&&Fo(this,a),!0}return!1},t.has=function e(t){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(t))},t.entries=function e(){var t=0,n=Array.from(this.keys()),r=Array.from(this.values());return Gi({next:function e(){var o=t;return t+=1,o<r.length?{value:[n[o],r[o]],done:!1}:{done:!0}}})},t.keys=function e(){return this.values()},t.values=function e(){this.atom_.reportObserved();var t=this,n=0,r=Array.from(this.data_.values());return Gi({next:function e(){return n<r.length?{value:t.dehanceValue_(r[n++]),done:!1}:{done:!0}}})},t.replace=function e(t){var n=this;return vi(t)&&(t=new Set(t)),xo((function(){Array.isArray(t)||pe(t)?(n.clear(),t.forEach((function(e){return n.add(e)}))):null!=t&&G("Cannot initialize set from "+t)})),this},t.observe_=function e(t,n){return Vo(this,t)},t.intercept_=function e(t){return Do(this,t)},t.toJSON=function e(){return Array.from(this)},t.toString=function e(){return"[object ObservableSet]"},t[li]=function(){return this.values()},Oe(e,[{key:"size",get:function e(){return this.atom_.reportObserved(),this.data_.size}},{key:fi,get:function e(){return"Set"}}]),e}(),vi=le("ObservableSet",di),yi=Object.create(null),mi="remove",bi=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=gt),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new Ie("ObservableObject.keys"),this.isPlainObject_=ae(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function e(t){return this.values_.get(t).get()},t.setObservablePropValue_=function e(t,n){var r=this.values_.get(t);if(r instanceof ln)return r.set(n),!0;if(Mo(this)){var o=Io(this,{type:Wo,object:this.proxy_||this.target_,name:t,newValue:n});if(!o)return null;n=o.newValue}if((n=r.prepareNewValue_(n))!==Ln.UNCHANGED){var i=Bo(this),a=!1,u=i?{type:Wo,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:r.value_,name:t,newValue:n}:null;0,r.setNewValue_(n),i&&Fo(this,u)}return!0},t.get_=function e(t){return Ln.trackingDerivation&&!be(this.target_,t)&&this.has_(t),this.target_[t]},t.set_=function e(t,n,r){return void 0===r&&(r=!1),be(this.target_,t)?this.values_.has(t)?this.setObservablePropValue_(t,n):r?Reflect.set(this.target_,t,n):(this.target_[t]=n,!0):this.extend_(t,{value:n,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,r)},t.has_=function e(t){if(!Ln.trackingDerivation)return t in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var n=this.pendingKeys_.get(t);return n||(n=new un(t in this.target_,Ke,"ObservableObject.key?",!1),this.pendingKeys_.set(t,n)),n.get()},t.make_=function e(t,n){if(!0===n&&(n=this.defaultAnnotation_),!1!==n){if(Si(this,n,t),!(t in this.target_)){var r;if(null!=(r=this.target_[Te])&&r[t])return;G(1,n.annotationType_,this.name_+"."+t.toString())}for(var o=this.target_;o&&o!==K;){var i=W(o,t);if(i){var a=n.make_(this,t,i,o);if(0===a)return;if(1===a)break}o=Object.getPrototypeOf(o)}ji(this,n,t)}},t.extend_=function e(t,n,r,o){if(void 0===o&&(o=!1),!0===r&&(r=this.defaultAnnotation_),!1===r)return this.defineProperty_(t,n,o);Si(this,r,t);var i=r.extend_(this,t,n,o);return i&&ji(this,r,t),i},t.defineProperty_=function e(t,n,r){void 0===r&&(r=!1);try{Un();var o=this.delete_(t);if(!o)return o;if(Mo(this)){var i=Io(this,{object:this.proxy_||this.target_,name:t,type:ai,newValue:n.value});if(!i)return null;var a=i.newValue;n.value!==a&&(n=_e({},n,{value:a}))}if(r){if(!Reflect.defineProperty(this.target_,t,n))return!1}else $(this.target_,t,n);this.notifyPropertyAddition_(t,n.value)}finally{zn()}return!0},t.defineObservableProperty_=function e(t,n,r,o){void 0===o&&(o=!1);try{Un();var i=this.delete_(t);if(!i)return i;if(Mo(this)){var a=Io(this,{object:this.proxy_||this.target_,name:t,type:ai,newValue:n});if(!a)return null;n=a.newValue}var u=Oi(t),c={configurable:!Ln.safeDescriptors||this.isPlainObject_,enumerable:!0,get:u.get,set:u.set};if(o){if(!Reflect.defineProperty(this.target_,t,c))return!1}else $(this.target_,t,c);var s=new un(n,r,"ObservableObject.key",!1);this.values_.set(t,s),this.notifyPropertyAddition_(t,s.value_)}finally{zn()}return!0},t.defineComputedProperty_=function e(t,n,r){void 0===r&&(r=!1);try{Un();var o=this.delete_(t),i;if(!o)return o;if(Mo(this))if(!Io(this,{object:this.proxy_||this.target_,name:t,type:ai,newValue:void 0}))return null;n.name||(n.name="ObservableObject.key"),n.context=this.proxy_||this.target_;var a=Oi(t),u={configurable:!Ln.safeDescriptors||this.isPlainObject_,enumerable:!1,get:a.get,set:a.set};if(r){if(!Reflect.defineProperty(this.target_,t,u))return!1}else $(this.target_,t,u);this.values_.set(t,new ln(n)),this.notifyPropertyAddition_(t,void 0)}finally{zn()}return!0},t.delete_=function e(t,n){if(void 0===n&&(n=!1),!be(this.target_,t))return!0;var r;if(Mo(this)&&!Io(this,{object:this.proxy_||this.target_,name:t,type:mi}))return null;try{var o,i;Un();var a=Bo(this),u=!1,c=this.values_.get(t),s=void 0,l;if(!c&&a)s=null==(l=W(this.target_,t))?void 0:l.value;if(n){if(!Reflect.deleteProperty(this.target_,t))return!1}else delete this.target_[t];if(c&&(this.values_.delete(t),c instanceof un&&(s=c.value_),$n(c)),this.keysAtom_.reportChanged(),null==(o=this.pendingKeys_)||null==(i=o.get(t))||i.set(t in this.target_),a){var f={type:mi,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:s,name:t};0,a&&Fo(this,f)}}finally{zn()}return!0},t.observe_=function e(t,n){return Vo(this,t)},t.intercept_=function e(t){return Do(this,t)},t.notifyPropertyAddition_=function e(t,n){var r,o,i=Bo(this),a=!1;if(i){var u=i?{type:ai,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:t,newValue:n}:null;0,i&&Fo(this,u)}null==(r=this.pendingKeys_)||null==(o=r.get(t))||o.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function e(){return this.keysAtom_.reportObserved(),ve(this.target_)},t.keys_=function e(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function gi(e,t){var n;if(be(e,De))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",o=new bi(e,new Map,String(r),Mt(t));return ce(e,De,o),e}var wi=le("ObservableObjectAdministration",bi);function Oi(e){return yi[e]||(yi[e]={get:function t(){return this[De].getObservablePropValue_(e)},set:function t(n){return this[De].setObservablePropValue_(e,n)}})}function _i(e){return!!ie(e)&&wi(e[De])}function ji(e,t,n){var r;null==(r=e.target_[Te])||delete r[n]}function Si(e,t,n){var r,o,i}var Ei=Ci(0),ki=0,Pi=function e(){};function xi(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):void 0!==e.prototype.__proto__?e.prototype.__proto__=t:e.prototype=t}xi(Pi,Array.prototype);var Ni=function(e,t,n){function r(t,n,r,o){var i;void 0===r&&(r="ObservableArray"),void 0===o&&(o=!1),i=e.call(this)||this;var a=new Xo(r,n,o,!0);if(a.proxy_=Ee(i),se(Ee(i),De,a),t&&t.length){var u=rn(!0);i.spliceWithArray(0,0,t),on(u)}return Object.defineProperty(Ee(i),"0",Ei),i}je(r,e);var o=r.prototype;return o.concat=function e(){this[De].atom_.reportObserved();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Array.prototype.concat.apply(this.slice(),n.map((function(e){return oi(e)?e.slice():e})))},o[n]=function(){var e=this,t=0;return Gi({next:function n(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},Oe(r,[{key:"length",get:function e(){return this[De].getArrayLength_()},set:function e(t){this[De].setArrayLength_(t)}},{key:t,get:function e(){return"Array"}}]),r}(Pi,Symbol.toStringTag,Symbol.iterator);function Ci(e){return{enumerable:!1,configurable:!0,get:function t(){return this[De].get_(e)},set:function t(n){this[De].set_(e,n)}}}function Ti(e){$(Ni.prototype,""+e,Ci(e))}function Ri(e){if(e>ki){for(var t=ki;t<e+100;t++)Ti(t);ki=e}}function Ai(e,t,n){return new Ni(e,t,n)}function Li(e,t){if("object"==typeof e&&null!==e){if(oi(e))return void 0!==t&&G(23),e[De].atom_;if(vi(e))return e.atom_;if(si(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||G(25,t,Di(e)),n}if(_i(e)){if(!t)return G(26);var r=e[De].values_.get(t);return r||G(27,t,Di(e)),r}if(Be(e)||fn(e)||rr(e))return e}else if(re(e)&&rr(e[De]))return e[De];G(28)}function Mi(e,t){return e||G(29),void 0!==t?Mi(Li(e,t)):Be(e)||fn(e)||rr(e)||si(e)||vi(e)?e:e[De]?e[De]:void G(24,e)}function Di(e,t){var n;if(void 0!==t)n=Li(e,t);else{if(Sr(e))return e.name;n=_i(e)||si(e)||vi(e)?Mi(e):Li(e)}return n.name_}Object.entries(Yo).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&ce(Ni.prototype,t,n)})),Ri(1e3);var Ii=K.toString;function Bi(e,t,n){return void 0===n&&(n=-1),Vi(e,t,n)}function Vi(e,t,n,r,o){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;if("function"!==i&&"object"!==i&&"object"!=typeof t)return!1;var a=Ii.call(e);if(a!==Ii.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=Fi(e),t=Fi(t);var u="[object Array]"===a;if(!u){if("object"!=typeof e||"object"!=typeof t)return!1;var c=e.constructor,s=t.constructor;if(c!==s&&!(re(c)&&c instanceof c&&re(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),o=o||[];for(var l=(r=r||[]).length;l--;)if(r[l]===e)return o[l]===t;if(r.push(e),o.push(t),u){if((l=e.length)!==t.length)return!1;for(;l--;)if(!Vi(e[l],t[l],n-1,r,o))return!1}else{var f=Object.keys(e),p;if(l=f.length,Object.keys(t).length!==l)return!1;for(;l--;)if(!be(t,p=f[l])||!Vi(e[p],t[p],n-1,r,o))return!1}return r.pop(),o.pop(),!0}function Fi(e){return oi(e)?e.slice():fe(e)||si(e)||pe(e)||vi(e)?Array.from(e.entries()):e}function Gi(e){return e[Symbol.iterator]=Hi,e}function Hi(){return this}function Ui(e){return e instanceof Object&&"string"==typeof e.annotationType_&&re(e.make_)&&re(e.extend_)}["Symbol","Map","Set"].forEach((function(e){var t;void 0===U()[e]&&G("MobX requires global '"+e+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:lr,extras:{getDebugName:Di},$mobx:De})}).call(this,n(22))},function(e,t,n){e.exports=n(119)},function(e,t,n){},function(e,t,n){function r(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let t,n=null,i,a;function u(...e){if(!u.enabled)return;const n=u,o=Number(new Date),i=o-(t||o);n.diff=i,n.prev=t,n.curr=o,t=o,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(t,o)=>{if("%%"===t)return"%";a++;const i=r.formatters[o];if("function"==typeof i){const r=e[a];t=i.call(n,r),e.splice(a,1),a--}return t}),r.formatArgs.call(n,e);const c=undefined;(n.log||r.log).apply(n,e)}return u.namespace=e,u.useColors=r.useColors(),u.color=r.selectColor(e),u.extend=o,u.destroy=r.destroy,Object.defineProperty(u,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==n?n:(i!==r.namespaces&&(i=r.namespaces,a=r.enabled(e)),a),set:e=>{n=e}}),"function"==typeof r.init&&r.init(u),u}function o(e,t){const n=r(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function i(e){let t;r.save(e),r.namespaces=e,r.names=[],r.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(t=0;t<o;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.slice(1)+"$")):r.names.push(new RegExp("^"+e+"$")))}function a(){const e=[...r.names.map(c),...r.skips.map(c).map(e=>"-"+e)].join(",");return r.enable(""),e}function u(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1}function c(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}function s(e){return e instanceof Error?e.stack||e.message:e}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.debug=r,r.default=r,r.coerce=s,r.disable=a,r.enable=i,r.enabled=u,r.humanize=n(63),r.destroy=l,Object.keys(e).forEach(t=>{r[t]=e[t]}),r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}e.exports=r},function(e,t){var n=1e3,r=6e4,o=60*r,i=24*o,a=7*i,u=365.25*i;function c(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var c=parseFloat(t[1]),s;switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*u;case"weeks":case"week":case"w":return c*a;case"days":case"day":case"d":return c*i;case"hours":case"hour":case"hrs":case"hr":case"h":return c*o;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}function s(e){var t=Math.abs(e);return t>=i?Math.round(e/i)+"d":t>=o?Math.round(e/o)+"h":t>=r?Math.round(e/r)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}function l(e){var t=Math.abs(e);return t>=i?f(e,t,i,"day"):t>=o?f(e,t,o,"hour"):t>=r?f(e,t,r,"minute"):t>=n?f(e,t,n,"second"):e+" ms"}function f(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return c(e);if("number"===n&&isFinite(e))return t.long?l(e):s(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var r=n(18),o=r.slice,i=r.pluck,a=r.each,u=r.bind,c=r.create,s=r.isList,l=r.isFunction,f=r.isObject;e.exports={createStore:d};var p={version:"2.0.12",enabled:!1,get:function(e,t){var n=this.storage.read(this._namespacePrefix+e);return this._deserialize(n,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each((function(n,r){e.call(t,t._deserialize(n),(r||"").replace(t._namespaceRegexp,""))}))},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return d.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return d(this.storage,this.plugins,e)}};function h(){var e="undefined"==typeof console?null:console;if(e){var t=e.warn?e.warn:e.log;t.apply(e,arguments)}}function d(e,t,n){n||(n=""),e&&!s(e)&&(e=[e]),t&&!s(t)&&(t=[t]);var r=n?"__storejs_"+n+"_":"",d=n?new RegExp("^"+r):null,v;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var y,m=c({_namespacePrefix:r,_namespaceRegexp:d,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var n=e.read(t)===t;return e.remove(t),n}catch(e){return!1}},_assignPluginFnProp:function(e,t){var n=this[t];this[t]=function t(){var r=o(arguments,0),i=this;function u(){if(n)return a(arguments,(function(e,t){r[t]=e})),n.apply(i,r)}var c=[u].concat(r);return e.apply(i,c)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var n="";try{n=JSON.parse(e)}catch(t){n=e}return void 0!==n?n:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this,n;if(s(e))a(e,(function(e){t._addPlugin(e)}));else if(!i(this.plugins,(function(t){return e===t}))){if(this.plugins.push(e),!l(e))throw new Error("Plugins must be function values that return objects");var r=e.call(this);if(!f(r))throw new Error("Plugins must return an object of function properties");a(r,(function(n,r){if(!l(n))throw new Error("Bad plugin property: "+r+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(n,r)}))}},addStorage:function(e){h("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},p,{plugins:[]});return m.raw={},a(m,(function(e,t){l(e)&&(m.raw[t]=u(m,e))})),a(e,(function(e){m._addStorage(e)})),a(t,(function(e){m._addPlugin(e)})),m}},function(e,t,n){e.exports=[n(66),n(67),n(68),n(69),n(70),n(71)]},function(e,t,n){var r,o=n(18).Global;function i(){return o.localStorage}function a(e){return i().getItem(e)}function u(e,t){return i().setItem(e,t)}function c(e){for(var t=i().length-1;t>=0;t--){var n=i().key(t);e(a(n),n)}}function s(e){return i().removeItem(e)}function l(){return i().clear()}e.exports={name:"localStorage",read:a,write:u,each:c,remove:s,clearAll:l}},function(e,t,n){var r,o=n(18).Global;e.exports={name:"oldFF-globalStorage",read:a,write:u,each:c,remove:s,clearAll:l};var i=o.globalStorage;function a(e){return i[e]}function u(e,t){i[e]=t}function c(e){for(var t=i.length-1;t>=0;t--){var n=i.key(t);e(i[n],n)}}function s(e){return i.removeItem(e)}function l(){c((function(e,t){delete i[e]}))}},function(e,t,n){var r,o=n(18).Global;e.exports={name:"oldIE-userDataStorage",write:s,read:l,each:f,remove:p,clearAll:h};var i="storejs",a=o.document,u=y(),c=(o.navigator?o.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./);function s(e,t){if(!c){var n=v(e);u((function(e){e.setAttribute(n,t),e.save("storejs")}))}}function l(e){if(!c){var t=v(e),n=null;return u((function(e){n=e.getAttribute(t)})),n}}function f(e){u((function(t){for(var n=t.XMLDocument.documentElement.attributes,r=n.length-1;r>=0;r--){var o=n[r];e(t.getAttribute(o.name),o.name)}}))}function p(e){var t=v(e);u((function(e){e.removeAttribute(t),e.save("storejs")}))}function h(){u((function(e){var t=e.XMLDocument.documentElement.attributes;e.load("storejs");for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save("storejs")}))}var d=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function v(e){return e.replace(/^\d/,"___$&").replace(d,"___")}function y(){if(!a||!a.documentElement||!a.documentElement.addBehavior)return null;var e="script",t,n,r;try{(n=new ActiveXObject("htmlfile")).open(),n.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),n.close(),t=n.w.frames[0].document,r=t.createElement("div")}catch(e){r=a.createElement("div"),t=a.body}return function(e){var n=[].slice.call(arguments,0);n.unshift(r),t.appendChild(r),r.addBehavior("#default#userData"),r.load("storejs"),e.apply(this,n),t.removeChild(r)}}},function(e,t,n){var r=n(18),o=r.Global,i=r.trim;e.exports={name:"cookieStorage",read:u,write:s,each:c,remove:l,clearAll:f};var a=o.document;function u(e){if(!e||!p(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(a.cookie.replace(new RegExp(t),"$1"))}function c(e){for(var t=a.cookie.split(/; ?/g),n=t.length-1;n>=0;n--)if(i(t[n])){var r=t[n].split("="),o=unescape(r[0]),u;e(unescape(r[1]),o)}}function s(e,t){e&&(a.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function l(e){e&&p(e)&&(a.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function f(){c((function(e,t){l(t)}))}function p(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(a.cookie)}},function(e,t,n){var r,o=n(18).Global;function i(){return o.sessionStorage}function a(e){return i().getItem(e)}function u(e,t){return i().setItem(e,t)}function c(e){for(var t=i().length-1;t>=0;t--){var n=i().key(t);e(a(n),n)}}function s(e){return i().removeItem(e)}function l(){return i().clear()}e.exports={name:"sessionStorage",read:a,write:u,each:c,remove:s,clearAll:l}},function(e,t){e.exports={name:"memoryStorage",read:r,write:o,each:i,remove:a,clearAll:u};var n={};function r(e){return n[e]}function o(e,t){n[e]=t}function i(e){for(var t in n)n.hasOwnProperty(t)&&e(n[t],t)}function a(e){delete n[e]}function u(e){n={}}},function(e,t,n){function r(){return n(73),{}}e.exports=r},function(module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta,rep;function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var n,r,o,i,a=gap,u,c=t[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,u=[],"[object Array]"===Object.prototype.toString.apply(c)){for(i=c.length,n=0;n<i;n+=1)u[n]=str(n,c)||"null";return o=0===u.length?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+a+"]":"["+u.join(",")+"]",gap=a,o}if(rep&&"object"==typeof rep)for(i=rep.length,n=0;n<i;n+=1)"string"==typeof rep[n]&&(o=str(r=rep[n],c))&&u.push(quote(r)+(gap?": ":":")+o);else for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(o=str(r,c))&&u.push(quote(r)+(gap?": ":":")+o);return o=0===u.length?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+a+"}":"{"+u.join(",")+"}",gap=a,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var n,r,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(void 0!==(r=walk(o,n))?o[n]=r:delete o[n]);return reviver.call(e,t,o)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},function(e,t,n){"use strict";var r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o,i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r=0,o=t.length,i;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.AlreadyRegistryError=t.NoRegistryError=t.NotfoundTypeError=t.MultiImplementError=t.IocContext=t.DefaultRegisterOption=t.Config=void 0;var u=n(23),c=n(12),s=n(25),l=n(41),f=n(43),p=function(){function e(){this.autoRegisterSelf=!1,this.constructorInject=!0,this.useClassLoader=!0}return e}();t.Config=p,t.DefaultRegisterOption={singleton:!0,autoNew:!0};var h=function(){function e(e){void 0===e&&(e={}),this.config=e,this.components=new Map,this.setConfig(Object.assign(new p,e))}return Object.defineProperty(e.prototype,"classLoader",{get:function(){return this._classLoader},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DefaultInstance",{get:function(){return this.defaultInstance||(this.defaultInstance=new e,this.defaultInstance)},enumerable:!1,configurable:!0}),e.prototype.setConfig=function(e){Object.assign(this.config,e),this._classLoader=!0===this.config.useClassLoader?s.classLoader:!1===this.config.useClassLoader?void 0:this.config.useClassLoader},e.prototype.remove=function(e){var t=(0,u.getGlobalType)(e),n=this.components.get(t);return!!n&&(this.preDestroyInstance(n),this.components.delete(t))},e.prototype.clear=function(){var e=this;Array.from(this.components.values()).forEach((function(t){e.preDestroyInstance(t)})),this.components.clear()},e.prototype.get=function(e,t){var n=this;void 0===t&&(t={});var r=(0,u.getGlobalType)(e),o=this.components.get(r),a;if(o)return this.returnValue(o,t.forceNew);if(this.config.notFoundHandler){var s=this.config.notFoundHandler(e);if(void 0!==s)return s}if(!1!==t.useClassLoader&&this.classLoader){var l=e,f=this.classLoader.getImplementClasses(l);switch(f.length){case 1:return this.get(f[0].type,i(i({},t),{sourceType:t.sourceType||l}));case 0:break;default:var p=f.filter((function(e){return n.has(e.type,!0)}));if(1===p.length)return this.get(p[0].type,t);if(this.config.conflictHandler){var h=this.config.conflictHandler(l,f,t.sourceCls?{type:t.sourceCls,info:this.classLoader.getClassInfo(t.sourceCls)}:void 0);if(void 0!==h)return this.get(h,t)}if((0,u.isClass)(e)&&(0,c.getMetadata)(l).injectable)return this.register(l),this.get(l,t);throw new d(l,r)}}if(this.config.parentContext)return this.config.parentContext.get(t.sourceType||e);if((0,u.isClass)(e)&&(this.config.autoRegisterSelf||(0,c.getMetadata)(e).injectable))return this.register(e),this.get(e,t);throw new v(e,r)},e.prototype.getImports=function(e,t){var n=this,r,o=(void 0===t?{}:t).cache,i=e;if(o&&this.has(i))return this.get(i);if(!this.classLoader)return[];var a=this.classLoader.getImplementClasses(i).map((function(e){return n.get(e.type)}));return o&&this.register(a,i),a},e.prototype.has=function(e,t){void 0===t&&(t=!1);var n=(0,u.getGlobalType)(e);return!!(this.components.has(n)||t&&this.config.parentContext&&this.config.parentContext.has(n,t))},e.prototype.replace=function(e,t,n,r){void 0===r&&(r=!1);var o=(0,u.getGlobalType)(e),i=this.components.get(o);if(i)this.components.set(o,this.newStore(t,n||i.options));else{if(!r)throw new y(o);this.register(t,e,n)}},e.prototype.register=function(e,n,r){if(void 0===r&&(r=t.DefaultRegisterOption),n){if(!this.canBeKey(n))throw new Error("key require string, symbol or class.")}else if(!this.canBeKey(e))throw new Error("when data is not string, symbol or class, require a key.");var o=n&&(0,u.getGlobalType)(n)||e&&(0,u.getGlobalType)(e);if(this.components.has(o))throw new m(o);r=i(i({},t.DefaultRegisterOption),r);var a=this.newStore(e,r);this.components.set(o,a)},e.prototype.inject=function(e,t){var n=this;void 0===t&&(t={autoRunPostConstruct:!0});var r=this,o=e.constructor;(0,c.getMetadataField)(o,"injects").forEach((function(t){var a=t.key,u=t.typeCls,c=t.optional,s=t.singleton,f=Object.getOwnPropertyDescriptor(e,a),p=f&&f.value,h=c||void 0!==p;if("inject"===t.type&&Object.defineProperty(e,a,{configurable:!0,writable:!0,value:(0,l.guard)((function(){return n.get(u,i({sourceCls:o},s?{}:{forceNew:!0}))}),{defaultValue:p,onError:function(e){if(!h)throw e.message+="\n\tSource: ".concat(o.name,".").concat(a.toString()),e}})}),["lazyInject","imports"].includes(t.type)){var d=t.always;Object.defineProperty(e,a,{configurable:!0,get:function(){var e=!1,n=(0,l.guard)((function(){switch(t.type){case"lazyInject":return r.get(u,i({sourceCls:o},s?{}:{forceNew:!0}));case"imports":return r.getImports(u,{cache:!d})}}),{defaultValue:p,onError:function(t){if(e=!0,!h)throw t.message+="\n\tSource: ".concat(o.name,".").concat(a.toString()),t}});return e||d||Object.defineProperty(this,a,{configurable:!0,writable:!0,value:n}),n},set:function(e){Object.defineProperty(this,a,{configurable:!0,writable:!0,value:e})}})}})),(0,c.getMetadataField)(o,"aspects").forEach((function(t){var r=e[t.key],o=(0,f.genAspectWrapper)(n,t.point,r);Object.defineProperty(e,t.key,{configurable:!0,value:o})})),t.autoRunPostConstruct&&this.runPostConstruct(e)},e.prototype.runPostConstruct=function(e){Array.from(new Set((0,c.getMetadataField)(e.constructor,"postConstruct").map((function(e){return e.key})))).forEach((function(t){e[t]()}))},e.prototype.runPreDestroy=function(e){Array.from(new Set((0,c.getMetadataField)(e.constructor,"preDestroy").map((function(e){return e.key})))).forEach((function(t){e[t]()}))},e.prototype.createChildContext=function(t){return new e(i(i(i({},this.config),t||{}),{parentContext:this}))},e.prototype.preDestroyInstance=function(e){e.inited&&this.runPreDestroy(e.value)},e.prototype.newStore=function(e,t){var n=this,r="function"==typeof e,o=r&&(0,u.isClass)(e),i=r&&t.autoNew;return{inited:!i,factory:i?function(){if(o){var t=e,r=[];if(n.config.constructorInject&&Reflect&&Reflect.getMetadata){var i=Reflect.getMetadata("design:paramtypes",t);i&&(r=i.map((function(e){return e===t||null==e||e===Number||e===Error||e===Object||e===String||e===Boolean||e===Array||e===Function?null:n.get(e)})))}var u=new(t.bind.apply(t,a([void 0],r,!1)));return n.inject(u),n.config.createInstanceHook?n.config.createInstanceHook(u,n):u}var c;return e(n)}:void 0,value:i?void 0:e,options:t}},e.prototype.canBeKey=function(e){var t=typeof e;return"object"===t?"[object Object]"!==e.toString():["function","string","symbol"].includes(t)},e.prototype.returnValue=function(e,t){return void 0===t&&(t=!1),e.options.singleton&&!t?(e.inited||(e.inited=!0,e.value=e.factory()),e.value):e.factory()},e.prototype.toJSON=function(){return{type:"power-di.IocContext",message:"NoSerializable"}},e}();t.IocContext=h;var d=function(e){function t(t,n){return e.call(this,"Has multi Classes of implement type: ".concat(t.name,"(").concat((0,u.symbolString)(n),")"))||this}return r(t,e),t}(Error);t.MultiImplementError=d;var v=function(e){function t(t,n){return e.call(this,"Notfound type: ".concat(t.name||(0,u.symbolString)(t),"(").concat((0,u.symbolString)(n),")"))||this}return r(t,e),t}(Error);t.NotfoundTypeError=v;var y=function(e){function t(t){return e.call(this,"the key:[".concat((0,u.symbolString)(t),"] is no registry."))||this}return r(t,e),t}(Error);t.NoRegistryError=y;var m=function(e){function t(t){return e.call(this,"the key:[".concat((0,u.symbolString)(t),"] is already registry."))||this}return r(t,e),t}(Error);t.AlreadyRegistryError=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobalTypeByDecorator=t.getClsTypeByDecorator=void 0,n(76);var r=n(24);function o(e,t,n){return!e&&Reflect&&Reflect.getMetadata&&(e=Reflect.getMetadata("design:type",t,n)),e}function i(e,t,n){return(0,r.getGlobalType)(o(e,t,n))}t.getClsTypeByDecorator=o,t.getGlobalTypeByDecorator=i},function(e,t,n){(function(e,t){
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n;!function(n){!function(e){var r="object"==typeof t?t:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),o=i(n);function i(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===r.Reflect?r.Reflect=n:o=i(r.Reflect,o),e(o)}((function(t){var n=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,o=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,u={__proto__:[]}instanceof Array,c=!a&&!u,s={create:a?function(){return ie(Object.create(null))}:u?function(){return ie({__proto__:null})}:function(){return ie({})},has:c?function(e,t){return n.call(e,t)}:function(e,t){return t in e},get:c?function(e,t){return n.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),f="object"==typeof e&&e.env&&"true"===e.env.REFLECT_METADATA_USE_MAP_POLYFILL,p=f||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?ne():Map,h=f||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?re():Set,d,v=new(f||"function"!=typeof WeakMap?oe():WeakMap);function y(e,t,n,r){if(I(n)){if(!$(e))throw new TypeError;if(!X(t))throw new TypeError;return k(e,t)}if(!$(e))throw new TypeError;if(!F(t))throw new TypeError;if(!F(r)&&!I(r)&&!B(r))throw new TypeError;return B(r)&&(r=void 0),P(e,t,n=W(n),r)}function m(e,t){function n(n,r){if(!F(n))throw new TypeError;if(!I(r)&&!q(r))throw new TypeError;A(e,t,n,r)}return n}function b(e,t,n,r){if(!F(n))throw new TypeError;return I(r)||(r=W(r)),A(e,t,n,r)}function g(e,t,n){if(!F(t))throw new TypeError;return I(n)||(n=W(n)),N(e,t,n)}function w(e,t,n){if(!F(t))throw new TypeError;return I(n)||(n=W(n)),C(e,t,n)}function O(e,t,n){if(!F(t))throw new TypeError;return I(n)||(n=W(n)),T(e,t,n)}function _(e,t,n){if(!F(t))throw new TypeError;return I(n)||(n=W(n)),R(e,t,n)}function j(e,t){if(!F(e))throw new TypeError;return I(t)||(t=W(t)),L(e,t)}function S(e,t){if(!F(e))throw new TypeError;return I(t)||(t=W(t)),M(e,t)}function E(e,t,n){if(!F(t))throw new TypeError;I(n)||(n=W(n));var r=x(t,n,!1);if(I(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var o=v.get(t);return o.delete(n),o.size>0||v.delete(t),!0}function k(e,t){for(var n=e.length-1;n>=0;--n){var r,o=(0,e[n])(t);if(!I(o)&&!B(o)){if(!X(o))throw new TypeError;t=o}}return t}function P(e,t,n,r){for(var o=e.length-1;o>=0;--o){var i,a=(0,e[o])(t,n,r);if(!I(a)&&!B(a)){if(!F(a))throw new TypeError;r=a}}return r}function x(e,t,n){var r=v.get(e);if(I(r)){if(!n)return;r=new p,v.set(e,r)}var o=r.get(t);if(I(o)){if(!n)return;o=new p,r.set(t,o)}return o}function N(e,t,n){var r;if(C(e,t,n))return!0;var o=te(t);return!B(o)&&N(e,o,n)}function C(e,t,n){var r=x(t,n,!1);return!I(r)&&U(r.has(e))}function T(e,t,n){var r;if(C(e,t,n))return R(e,t,n);var o=te(t);return B(o)?void 0:T(e,o,n)}function R(e,t,n){var r=x(t,n,!1);if(!I(r))return r.get(e)}function A(e,t,n,r){var o;x(n,r,!0).set(e,t)}function L(e,t){var n=M(e,t),r=te(e);if(null===r)return n;var o=L(r,t);if(o.length<=0)return n;if(n.length<=0)return o;for(var i=new h,a=[],u=0,c=n;u<c.length;u++){var s=c[u],l;(l=i.has(s))||(i.add(s),a.push(s))}for(var f=0,p=o;f<p.length;f++){var s=p[f],l;(l=i.has(s))||(i.add(s),a.push(s))}return a}function M(e,t){var n=[],r=x(e,t,!1);if(I(r))return n;for(var o,i=J(r.keys()),a=0;;){var u=Q(i);if(!u)return n.length=a,n;var c=Z(u);try{n[a]=c}catch(e){try{ee(i)}finally{throw e}}a++}}function D(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function I(e){return void 0===e}function B(e){return null===e}function V(e){return"symbol"==typeof e}function F(e){return"object"==typeof e?null!==e:"function"==typeof e}function G(e,t){switch(D(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",r=Y(e,o);if(void 0!==r){var i=r.call(e,n);if(F(i))throw new TypeError;return i}return H(e,"default"===n?"number":n)}function H(e,t){if("string"===t){var n=e.toString,r,o,r;if(K(n))if(!F(r=n.call(e)))return r;if(K(o=e.valueOf))if(!F(r=o.call(e)))return r}else{var o,r;if(K(o=e.valueOf))if(!F(r=o.call(e)))return r;var i=e.toString,r;if(K(i))if(!F(r=i.call(e)))return r}throw new TypeError}function U(e){return!!e}function z(e){return""+e}function W(e){var t=G(e,3);return V(t)?t:z(t)}function $(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function K(e){return"function"==typeof e}function X(e){return"function"==typeof e}function q(e){switch(D(e)){case 3:case 4:return!0;default:return!1}}function Y(e,t){var n=e[t];if(null!=n){if(!K(n))throw new TypeError;return n}}function J(e){var t=Y(e,i);if(!K(t))throw new TypeError;var n=t.call(e);if(!F(n))throw new TypeError;return n}function Z(e){return e.value}function Q(e){var t=e.next();return!t.done&&t}function ee(e){var t=e.return;t&&t.call(e)}function te(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===l)return t;if(t!==l)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var o=r.constructor;return"function"!=typeof o||o===e?t:o}function ne(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,o=n+1;o<r;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function o(e,t){return t}function a(e,t){return[e,t]}}function re(){return function(){function e(){this._map=new p}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}()}function oe(){var e=16,t=s.create(),r=o();return function(){function e(){this._key=o()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&s.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?s.get(t,this._key):void 0},e.prototype.set=function(e,t){var n;return i(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=o()},e}();function o(){var e;do{e="@@WeakMap@@"+c()}while(s.has(t,e));return t[e]=!0,e}function i(e,t){if(!n.call(e,r)){if(!t)return;Object.defineProperty(e,r,{value:s.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function u(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e)}function c(){var e=u(16);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var t="",n=0;n<16;++n){var r=e[n];4!==n&&6!==n&&8!==n||(t+="-"),r<16&&(t+="0"),t+=r.toString(16).toLowerCase()}return t}}function ie(e){return e.__=void 0,delete e.__,e}t("decorate",y),t("metadata",m),t("defineMetadata",b),t("hasMetadata",g),t("hasOwnMetadata",w),t("getMetadata",O),t("getOwnMetadata",_),t("getMetadataKeys",j),t("getOwnMetadataKeys",S),t("deleteMetadata",E)}))}(n||(n={}))}).call(this,n(33),n(22))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nameSymbol=void 0,t.nameSymbol=Symbol("className")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRefMap=void 0;var r=n(24),o=n(12);function i(e,t){void 0===t&&(t={});var n=t;function i(e){var t=(0,r.symbolString)((0,r.getGlobalType)(e));if(!n[t]){var a=n[t]={count:0,deps:[]};(0,o.getMetadataField)(e,"injects").forEach((function(e){var t=(0,r.symbolString)(e.globalType);i(e.typeCls),n[t].count++,a.deps.push({prop:e.key,type:t})}))}}return i(e),n}t.getRefMap=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(81),t),o(n(82),t),o(n(83),t),o(n(84),t),o(n(85),t),o(n(43),t),o(n(86),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.classInfo=void 0;var r=n(34),o=n(12),i=n(25);function a(e){return void 0===e&&(e={}),function(t){e.name&&Object.defineProperty(t,r.nameSymbol,{enumerable:!1,writable:!1,configurable:!1,value:e.name}),i.classLoader.hasClass(t)&&i.classLoader.unregisterClass(t),Object.assign((0,o.getMetadata)(t).classInfo,{},e),i.classLoader.registerClass(t)}}t.classInfo=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=void 0;var r=n(23),o=n(12);function i(e){var t=void 0===e?{}:e,n=t.type,i=t.lazy,a=void 0===i||i,u=t.always,c=void 0!==u&&u,s=t.optional,l=void 0!==s&&s,f=t.singleton,p=void 0===f||f;return function(e,t){var i=(0,r.getClsTypeByDecorator)(n,e,t);if(void 0===i||i===Object)throw new Error("CANNOT inject undefined! source: ".concat(e.constructor.name,".").concat(t.toString()));(0,o.getMetadata)(e.constructor).injects.push({key:t,globalType:(0,r.getGlobalTypeByDecorator)(n,e,t),type:a?"lazyInject":"inject",always:c,typeCls:i,optional:l,singleton:p})}}t.inject=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectable=void 0;var r=n(25);function o(){return function(e){r.classLoader.hasClass(e)||r.classLoader.registerClass(e)}}t.injectable=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imports=void 0;var r=n(23),o=n(12);function i(e){var t=e.type,n=e.always,i=void 0!==n&&n;return function(e,n){(0,o.getMetadata)(e.constructor).injects.push({key:n,globalType:(0,r.getGlobalType)(t),type:"imports",always:i,typeCls:t})}}t.imports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postConstruct=void 0;var r=n(12);function o(){return function(e,t){(0,r.getMetadata)(e.constructor).postConstruct.push({key:t})}}t.postConstruct=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preDestroy=void 0;var r=n(12);function o(){return function(e,t){(0,r.getMetadata)(e.constructor).preDestroy.push({key:t})}}t.preDestroy=o},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";const r=n(104),o=Symbol("max"),i=Symbol("length"),a=Symbol("lengthCalculator"),u=Symbol("allowStale"),c=Symbol("maxAge"),s=Symbol("dispose"),l=Symbol("noDisposeOnSet"),f=Symbol("lruList"),p=Symbol("cache"),h=Symbol("updateAgeOnGet"),d=()=>1;class v{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");const t=this[o]=e.max||1/0,n=e.length||d;if(this[a]="function"!=typeof n?d:n,this[u]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[s]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[o]=e||1/0,b(this)}get max(){return this[o]}set allowStale(e){this[u]=!!e}get allowStale(){return this[u]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,b(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!=typeof e&&(e=d),e!==this[a]&&(this[a]=e,this[i]=0,this[f].forEach(e=>{e.length=this[a](e.value,e.key),this[i]+=e.length})),b(this)}get lengthCalculator(){return this[a]}get length(){return this[i]}get itemCount(){return this[f].length}rforEach(e,t){t=t||this;for(let n=this[f].tail;null!==n;){const r=n.prev;O(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[f].head;null!==n;){const r=n.next;O(this,e,n,t),n=r}}keys(){return this[f].toArray().map(e=>e.key)}values(){return this[f].toArray().map(e=>e.value)}reset(){this[s]&&this[f]&&this[f].length&&this[f].forEach(e=>this[s](e.key,e.value)),this[p]=new Map,this[f]=new r,this[i]=0}dump(){return this[f].map(e=>!m(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[f]}set(e,t,n){if((n=n||this[c])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,u=this[a](t,e);if(this[p].has(e)){if(u>this[o])return g(this,this[p].get(e)),!1;const a=undefined,c=this[p].get(e).value;return this[s]&&(this[l]||this[s](e,c.value)),c.now=r,c.maxAge=n,c.value=t,this[i]+=u-c.length,c.length=u,this.get(e),b(this),!0}const h=new w(e,t,u,r,n);return h.length>this[o]?(this[s]&&this[s](e,t),!1):(this[i]+=h.length,this[f].unshift(h),this[p].set(e,this[f].head),b(this),!0)}has(e){if(!this[p].has(e))return!1;const t=this[p].get(e).value;return!m(this,t)}get(e){return y(this,e,!0)}peek(e){return y(this,e,!1)}pop(){const e=this[f].tail;return e?(g(this,e),e.value):null}del(e){g(this,this[p].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const r=e[n],o=r.e||0;if(0===o)this.set(r.k,r.v);else{const e=o-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[p].forEach((e,t)=>y(this,t,!1))}}const y=(e,t,n)=>{const r=e[p].get(t);if(r){const t=r.value;if(m(e,t)){if(g(e,r),!e[u])return}else n&&(e[h]&&(r.value.now=Date.now()),e[f].unshiftNode(r));return t.value}},m=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[c]&&n>e[c]},b=e=>{if(e[i]>e[o])for(let t=e[f].tail;e[i]>e[o]&&null!==t;){const n=t.prev;g(e,t),t=n}},g=(e,t)=>{if(t){const n=t.value;e[s]&&e[s](n.key,n.value),e[i]-=n.length,e[p].delete(n.key),e[f].removeNode(t)}};class w{constructor(e,t,n,r,o){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=o||0}}const O=(e,t,n,r)=>{let o=n.value;m(e,o)&&(g(e,n),e[u]||(o=void 0)),o&&t.call(r,o.value,o.key,e)};e.exports=v},function(e,t,n){"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,o=arguments.length;n<o;n++)t.push(arguments[n]);return t}function o(e,t,n){var r=t===e.head?new u(n,null,t,e):new u(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function i(e,t){e.tail=new u(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new u(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function u(e,t,n,r){if(!(this instanceof u))return new u(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=r,r.Node=u,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,o=this.head;null!==o;)n.push(e.call(t,o.value,this)),o=o.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,o=this.tail;null!==o;)n.push(e.call(t,o.value,this)),o=o.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var o=0;null!==r;o++)n=e(n,r.value,o),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var o=this.length-1;null!==r;o--)n=e(n,r.value,o),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=0,i=this.head;null!==i&&o<e;o++)i=i.next;for(;null!==i&&o<t;o++,i=i.next)n.push(i.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=this.length,i=this.tail;null!==i&&o>t;o--)i=i.prev;for(;null!==i&&o>e;o--,i=i.prev)n.push(i.value);return n},r.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,i=this.head;null!==i&&r<e;r++)i=i.next;for(var a=[],r=0;i&&r<t;r++)a.push(i.value),i=this.removeNode(i);null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=o(this,i,n[r]);return a},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{n(105)(r)}catch(e){}},function(e,t,n){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},function(e,t,n){const r=Symbol("SemVer ANY");class o{static get ANY(){return r}constructor(e,t){if(t=i(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}s("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(e){const t=this.options.loose?a[u.COMPARATORLOOSE]:a[u.COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new l(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(s("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new f(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new f(this.value,t).test(e.semver);const n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),r=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,a=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),u=c(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),s=c(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||r||i&&a||u||s}}e.exports=o;const i=n(35),{re:a,t:u}=n(36),c=n(107),s=n(27),l=n(37),f=n(46)},function(e,t,n){const r=n(108),o=n(110),i=n(111),a=n(112),u=n(113),c=n(114),s=(e,t,n,s)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,s);case"!=":return o(e,n,s);case">":return i(e,n,s);case">=":return a(e,n,s);case"<":return u(e,n,s);case"<=":return c(e,n,s);default:throw new TypeError("Invalid operator: "+t)}};e.exports=s},function(e,t,n){const r=n(19),o=(e,t,n)=>0===r(e,t,n);e.exports=o},function(e,t){const n=/^[0-9]+$/,r=(e,t)=>{const r=n.test(e),o=n.test(t);return r&&o&&(e=+e,t=+t),e===t?0:r&&!o?-1:o&&!r?1:e<t?-1:1},o=(e,t)=>r(t,e);e.exports={compareIdentifiers:r,rcompareIdentifiers:o}},function(e,t,n){const r=n(19),o=(e,t,n)=>0!==r(e,t,n);e.exports=o},function(e,t,n){const r=n(19),o=(e,t,n)=>r(e,t,n)>0;e.exports=o},function(e,t,n){const r=n(19),o=(e,t,n)=>r(e,t,n)>=0;e.exports=o},function(e,t,n){const r=n(19),o=(e,t,n)=>r(e,t,n)<0;e.exports=o},function(e,t,n){const r=n(19),o=(e,t,n)=>r(e,t,n)<=0;e.exports=o},function(e,t,n){},function(e,t,n){},function(e,t){e.exports=window.AliLowCodeEngineExt},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"skeleton",(function(){return jB})),n.d(t,"plugins",(function(){return RB})),n.d(t,"project",(function(){return _B})),n.d(t,"setters",(function(){return EB})),n.d(t,"material",(function(){return kB})),n.d(t,"config",(function(){return PB})),n.d(t,"event",(function(){return xB})),n.d(t,"logger",(function(){return NB})),n.d(t,"hotkey",(function(){return OB})),n.d(t,"common",(function(){return CB})),n.d(t,"editor",(function(){return xB})),n.d(t,"workspace",(function(){return vB})),n.d(t,"canvas",(function(){return TB})),n.d(t,"isOpenSource",(function(){return MB})),n.d(t,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(function(){return DB})),n.d(t,"version",(function(){return BB})),n.d(t,"init",(function(){return VB})),n.d(t,"destroy",(function(){return GB}));var r=n(1),o=n.n(r),i=n(15),a=n(0),u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return(s=Object.assign||function e(t){for(var n,r=1,o=arguments.length;r<o;r++)for(var i in n=arguments[r])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)};function l(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function f(e,t,n,r){var o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i}function p(e,t){return function(n,r){t(n,r,e)}}function h(e,t,n,r,o,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var u=r.kind,c="getter"===u?"get":"setter"===u?"set":"value",s=!t&&e?r.static?e:e.prototype:null,l=t||(s?Object.getOwnPropertyDescriptor(s,r.name):{}),f,p=!1,h=n.length-1;h>=0;h--){var d={};for(var v in r)d[v]="access"===v?{}:r[v];for(var v in r.access)d.access[v]=r.access[v];d.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var y=(0,n[h])("accessor"===u?{get:l.get,set:l.set}:l[c],d);if("accessor"===u){if(void 0===y)continue;if(null===y||"object"!=typeof y)throw new TypeError("Object expected");(f=a(y.get))&&(l.get=f),(f=a(y.set))&&(l.set=f),(f=a(y.init))&&o.push(f)}else(f=a(y))&&("field"===u?o.push(f):l[c]=f)}s&&Object.defineProperty(s,r.name,l),p=!0}function d(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0}function v(e){return"symbol"==typeof e?e:"".concat(e)}function y(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function m(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function b(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,u)}c((r=r.apply(e,t||[])).next())}))}function g(e,t){var n={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(e){return function(t){return c([e,t])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(i=2&u[0]?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(!(i=n.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){n=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(6===u[0]&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(e){u=[6,e],o=0}finally{r=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var w=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function O(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||w(t,e,n)}function _(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function j(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function S(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(j(arguments[t]));return e}function E(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}function k(e,t,n){if(n||2===arguments.length)for(var r=0,o=t.length,i;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function P(e){return this instanceof P?(this.v=e,this):new P(e)}function x(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(e){r[e]&&(o[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||u(e,t)}))})}function u(e,t){try{c(r[e](t))}catch(e){f(i[0][3],e)}}function c(e){e.value instanceof P?Promise.resolve(e.value.v).then(s,l):f(i[0][2],e)}function s(e){u("next",e)}function l(e){u("throw",e)}function f(e,t){e(t),i.shift(),i.length&&u(i[0][0],i[0][1])}}function N(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:P(e[r](t)),done:!1}:o?o(t):t}:o}}function C(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=_(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(t){n[t]=e[t]&&function(n){return new Promise((function(r,i){o(r,i,(n=e[t](n)).done,n.value)}))}}function o(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}}function R(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var A=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function L(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&w(t,e,n);return A(t,e),t}function M(e){return e&&e.__esModule?e:{default:e}}function D(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function I(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}function B(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}var V=n(2),F=n(4),G,H,U,z,W,$,K,X,q;function Y(e){return ee(e)||Q(e)||Z(e)||J()}function J(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Z(e,t){if(e){if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}function Q(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ee(e){if(Array.isArray(e))return te(e)}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e){try{var t={worksWithoutQuotes:!1};return new Function("ctx","ctx.worksWithoutQuotes = {".concat(e,": true}['").concat(e,"']"))(),!t.worksWithoutQuotes}catch(e){return!0}}function oe(e,t){var n;return t.doubleQuote?'"'.concat(e.replace(/"/g,'\\"'),'"'):"'".concat(e.replace(/'/g,"\\'"),"'")}function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.circularReferenceToken,r=void 0===n?"CIRCULAR_REFERENCE":n,o=t.doubleQuote,i=void 0===o||o,a=t.includeFunctions,u=void 0===a||a,c=t.includeUndefinedProperties,s=void 0!==c&&c,l=t.indentLevel,f=void 0===l?0:l,p=t.indentString,h=void 0===p?"  ":p,d=t.lineEnding,v=void 0===d?"\n":d,y=t.visitedObjects,m=void 0===y?new Set:y;switch(ne(e)){case"boolean":return"".concat(h.repeat(f),e?"true":"false");case"function":return u?"".concat(h.repeat(f)).concat(e):null;case"number":return"".concat(h.repeat(f)).concat(e);case"object":if(!e)return"".concat(h.repeat(f),"null");if(m.has(e))return"".concat(h.repeat(f)).concat(r);if(e instanceof Date)return"".concat(h.repeat(f),"new Date(").concat(oe(e.toISOString(),{doubleQuote:i}),")");if(e instanceof Map)return e.size?"".concat(h.repeat(f),"new Map(").concat(ie(Y(e),{circularReferenceToken:r,doubleQuote:i,includeFunctions:u,includeUndefinedProperties:s,indentLevel:f,indentString:h,lineEnding:v,visitedObjects:new Set([e].concat(Y(m)))}).slice(f*h.length),")"):"".concat(h.repeat(f),"new Map()");if(e instanceof RegExp)return"".concat(h.repeat(f),"/").concat(e.source,"/").concat(e.flags);if(e instanceof Set)return e.size?"".concat(h.repeat(f),"new Set(").concat(ie(Y(e),{circularReferenceToken:r,doubleQuote:i,includeFunctions:u,includeUndefinedProperties:s,indentLevel:f,indentString:h,lineEnding:v,visitedObjects:new Set([e].concat(Y(m)))}).slice(f*h.length),")"):"".concat(h.repeat(f),"new Set()");if(Array.isArray(e)){if(!e.length)return"".concat(h.repeat(f),"[]");var b=e.every((function(t){return"object"===ne(t)&&t&&!(t instanceof Date)&&!(t instanceof Map)&&!(t instanceof RegExp)&&!(t instanceof Set)&&(Object.keys(t).length||1===e.length)})),g=null;return e=e.reduce((function(t,n,o){if(null!==g)for(var a=o-g-1;a>0;a-=1)t.push(h.repeat(f+1));return g=o,null===(n=ie(n,{circularReferenceToken:r,doubleQuote:i,includeFunctions:u,includeUndefinedProperties:s,indentLevel:b?f:f+1,indentString:h,lineEnding:v,visitedObjects:new Set([e].concat(Y(m)))}))?t.push(h.repeat(f+1)):b?t.push(n.slice(f*h.length)):t.push(n),t}),[]),b?"".concat(h.repeat(f),"[").concat(e.join(", "),"]"):"".concat(h.repeat(f),"[").concat(v).concat(e.join(",".concat(v))).concat(v).concat(h.repeat(f),"]")}return(e=Object.keys(e).reduce((function(t,n){var o=e[n],a=void 0!==o||s?ie(e[n],{circularReferenceToken:r,doubleQuote:i,includeFunctions:u,includeUndefinedProperties:s,indentLevel:f+1,indentString:h,lineEnding:v,visitedObjects:new Set([e].concat(Y(m)))}):null;if(a){var c=re(n)?oe(n,{doubleQuote:i}):n,l=a.slice((f+1)*h.length);"function"==typeof o&&l.startsWith("".concat(n,"()"))?t.push("".concat(h.repeat(f+1)).concat(c," ").concat(l.slice(n.length))):t.push("".concat(h.repeat(f+1)).concat(c,": ").concat(l))}return t}),[])).length?"".concat(h.repeat(f),"{").concat(v).concat(e.join(",".concat(v))).concat(v).concat(h.repeat(f),"}"):"".concat(h.repeat(f),"{}");case"string":return"".concat(h.repeat(f)).concat(oe(e,{doubleQuote:i}));case"symbol":var w=Symbol.keyFor(e);return"string"==typeof w?"".concat(h.repeat(f),"Symbol.for(").concat(oe(w,{doubleQuote:i}),")"):(w=e.toString().slice(7,-1))?"".concat(h.repeat(f),"Symbol(").concat(oe(w,{doubleQuote:i}),")"):"".concat(h.repeat(f),"Symbol()");case"undefined":default:return"".concat(h.repeat(f),"undefined")}}function ae(e){if(e&&e.__source)return e.__source;var t=ie(e);if("undefined"===t&&(t=""),e)try{e.__source=t}catch(e){console.error(e)}return t}function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e,t,n){return(t=de(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,de(r.key),r)}}function he(e,t,n){return t&&pe(e.prototype,t),n&&pe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function de(e){var t=ve(e,"string");return"symbol"===ue(t)?t:String(t)}function ve(e,t){if("object"!==ue(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var ye=a.mobx.set,me=a.mobx.isObservableArray,be=Symbol.for("unset");G=Symbol.iterator;var ge=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:be,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};fe(this,e),this.parent=void 0,this.isProp=!0,this.owner=void 0,this.key=void 0,this.spread=void 0,this.props=void 0,this.options=void 0,this.id=Object(V.cb)("prop$"),this._type="unset",this._value=be,this._code=null,this._slotNode=void 0,this._items=null,this._maps=null,this._prevMaps=null,this.purged=!1,this.parent=t,Object(a.makeObservable)(this),this.owner=t.owner,this.props=t.props,this.key=r,this.spread=o,this.options=i,n!==be&&this.setValue(n),this.setupItems()}return he(e,[{key:"type",get:function e(){return this._type}},{key:"value",get:function e(){return this.export(F.g.Serilize)}},{key:"code",get:function e(){return Object(V.H)(this.value)?this.value.value:"slot"===this.type?JSON.stringify(this._slotNode.export(F.g.Save)):null!=this._code?this._code:JSON.stringify(this.value)},set:function e(t){if(Object(V.H)(this._value))return this.setValue(se(se({},this._value),{},{value:t})),void(this._code=t);try{var n=JSON.parse(t);return this.setValue(n),void(this._code=t)}catch(e){}this.setValue({type:"JSExpression",value:t,mock:this._value}),this._code=t}},{key:"slotNode",get:function e(){return this._slotNode||null}},{key:"items",get:function t(){var n=this;return this._items?this._items:Object(a.runInAction)((function(){var t=null,r;if("list"===n._type)n._value.forEach((function(r,o){(t=t||[]).push(new e(n,r,o))})),n._maps=null;else if("map"===n._type){for(var o=n._value,i=new Map,a,u=0,c=Object.keys(o);u<c.length;u++){var s,l=c[u],f=void 0;null!==(s=n._prevMaps)&&void 0!==s&&s.has(l)?(f=n._prevMaps.get(l)).setValue(o[l]):f=new e(n,o[l],l),(t=t||[]).push(f),i.set(l,f)}n._maps=i}else t=null,n._maps=null;return n._items=t,n._items}))}},{key:"maps",get:function e(){return this.items?this._maps:null}},{key:"path",get:function e(){return(this.parent.path||[]).concat(this.key)}},{key:"size",get:function e(){var t;return(null===(t=this.items)||void 0===t?void 0:t.length)||0}},{key:"setupItems",value:function e(){return this.items}},{key:"getPropValue",value:function e(t){return this.get(t).getValue()}},{key:"setPropValue",value:function e(t,n){this.set(t,n)}},{key:"clearPropValue",value:function e(t){var n;null===(n=this.get(t,!1))||void 0===n||n.unset()}},{key:"export",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.g.Save;t=Object(V.k)(t);var n=this._type;if(t===F.g.Render&&"___condition___"===this.key)return!0!==(null===a.engineConfig||void 0===a.engineConfig?void 0:a.engineConfig.get("enableCondition"))||this._value;if("unset"!==n){if("literal"===n||"expression"===n)return null===this._value&&t===F.g.Save?"":this._value;if("slot"===n){var r,o=(null===(r=this._slotNode)||void 0===r?void 0:r.export(t))||{};return t===F.g.Render?{type:"JSSlot",params:o.params,value:o}:{type:"JSSlot",params:o.params,value:o.children,title:o.title,name:o.name}}var i;if("map"===n)return this._items?(this.items.forEach((function(e,n){if(!e.isUnset()){var r=e.export(t);null!=r&&((i=i||{})[e.key||n]=r)}})),i):this._value;if("list"===n){if(!this._items)return this._value;var u=this.items.map((function(e){return e.export(t)}));if(u.every((function(e){return void 0===e})))return;return u}}}},{key:"getAsString",value:function e(){return"literal"===this.type&&this._value?String(this._value):""}},{key:"setValue",value:function e(t){var n;if(t!==this._value){var r=null===(n=this.owner.document)||void 0===n?void 0:n.designer.editor,o=this._value;this._value=t,this._code=null;var i=ue(t);if(null==t||"string"===i||"number"===i||"boolean"===i?this._type="literal":Array.isArray(t)?this._type="list":Object(V.P)(t)?Object(V.J)(t)?this.setAsSlot(t):Object(V.H)(t)?this._type="expression":this._type="map":(this._type="expression",this._value={type:"JSExpression",value:ie(t)}),this.dispose(),o!==this._value){var a,u,c={key:this.key,prop:this,oldValue:o,newValue:this._value};null==r||r.eventBus.emit(F.e.Node.Prop.InnerChange,se({node:this.owner},c)),null===(a=this.owner)||void 0===a||null===(u=a.emitPropChange)||void 0===u||u.call(a,c)}}}},{key:"getValue",value:function e(){return this.export(F.g.Serilize)}},{key:"dispose",value:function e(){var t=this,n=Object(a.untracked)((function(){return t._items}));n&&n.forEach((function(e){return e.purge()})),this._items=null,this._prevMaps=this._maps,this._maps=null,"slot"!==this._type&&this._slotNode&&(this._slotNode.remove(),this._slotNode=void 0)}},{key:"setAsSlot",value:function e(t){var n,r;if(this._type="slot",Object(V.P)(t.value)&&"Slot"===(null===(n=t.value)||void 0===n?void 0:n.componentName)){var o,i,a,u=t.value;r={componentName:"Slot",title:u.title||(null===(o=u.props)||void 0===o?void 0:o.slotTitle),id:t.id,name:u.name||(null===(i=u.props)||void 0===i?void 0:i.slotName),params:u.params||(null===(a=u.props)||void 0===a?void 0:a.slotParams),children:u.children}}else r={componentName:"Slot",title:t.title,id:t.id,name:t.name,params:t.params,children:t.value};if(this._slotNode)this._slotNode.import(r);else{var c=this.props.owner;this._slotNode=c.document.createNode(r),this._slotNode&&(c.addSlot(this._slotNode),this._slotNode.internalSetSlotFor(this))}}},{key:"unset",value:function e(){this._type="unset"}},{key:"isUnset",value:function e(){return"unset"===this._type}},{key:"isVirtual",value:function e(){return"string"==typeof this.key&&"!"===this.key.charAt(0)}},{key:"compare",value:function e(t){return!t||t.isUnset()?this.isUnset()?0:2:t.type!==this.type?2:"list"===this.type?this.size===t.size?1:2:"map"===this.type?1:this.code===t.code?0:2}},{key:"get",value:function t(n){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this._type;if("map"!==o&&"list"!==o&&"unset"!==o&&!r)return null;var i="map"===o?this.maps:null,a="list"===o?this.items:null,u=n,c="",s;if("number"!=typeof n){var l=n.indexOf(".");l>0&&(c=n.slice(l+1))&&(u=n.slice(0,l))}return"list"===o?Ae(u,this.size)&&(s=a[u]):"map"===o&&(s=null==i?void 0:i.get(u)),s?c?s.get(c,r):s:r?(s=new e(this,be,u),this.set(u,s,!0),c?s.get(c,!0):s):null}},{key:"remove",value:function e(){this.parent.delete(this)}},{key:"delete",value:function e(t){if(this._items){var n=this._items.indexOf(t);n>-1&&(this._items.splice(n,1),t.purge()),this._maps&&t.key&&this._maps.delete(String(t.key))}}},{key:"deleteKey",value:function e(t){if(this.maps){var n=this.maps.get(t);n&&this.delete(n)}}},{key:"add",value:function t(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this._type;if("list"!==o&&"unset"!==o&&!r)return null;("unset"===o||r&&"list"!==o)&&this.setValue([]);var i=new e(this,n);return this._items=this._items||[],this._items.push(i),i}},{key:"set",value:function t(n,r){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this._type;if("map"!==i&&"list"!==i&&"unset"!==i&&!o)return null;("unset"===i||o&&"map"!==i)&&(Ae(n)?"list"!==i&&this.setValue([]):this.setValue({}));var a=Re(r)?r:new e(this,r,n),u=this._items||[];if("list"===this.type){if(!Ae(n))return null;me(u)?ye(u,n,a):u[n]=a,this._items=u}else{if("map"!==this.type)return null;var c=this._maps||new Map,s=null==c?void 0:c.get(n);if(s){var l=u.indexOf(s);l>-1&&u.splice(l,1,a)[0].purge(),null==c||c.set(n,a)}else u.push(a),this._items=u,null==c||c.set(n,a);this._maps=c}return a}},{key:"has",value:function e(t){return"map"===this._type&&(this._maps?this._maps.has(t):Object(V.t)(this._value,t))}},{key:"purge",value:function e(){this.purged||(this.purged=!0,this._items&&this._items.forEach((function(e){return e.purge()})),this._items=null,this._maps=null,this._slotNode&&this._slotNode.slotFor===this&&(this._slotNode.remove(),this._slotNode=void 0))}},{key:G,value:function e(){var t=0,n=this.items,r=(null==n?void 0:n.length)||0;return{next:function e(){return t<r?{value:n[t++],done:!1}:{value:void 0,done:!0}}}}},{key:"forEach",value:function e(t){var n=this.items;if(n){var r="map"===this._type;n.forEach((function(e,n){return t(e,r?e.key:n)}))}}},{key:"map",value:function e(t){var n=this.items;if(!n)return null;var r="map"===this._type;return n.map((function(e,n){return t(e,r?e.key:n)}))}},{key:"getProps",value:function e(){return this.props}},{key:"getNode",value:function e(){return this.owner}}]),e}(),we,Oe,_e,je,Se,Ee,ke,Pe,xe,Ne,Ce,Te;function Re(e){return e&&e.isProp}function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=parseFloat(String(e));return n>=0&&Math.floor(n)===n&&isFinite(n)&&(t<0||n<t)}function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Be(r.key),r)}}function Ie(e,t,n){return t&&De(e.prototype,t),n&&De(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Be(e){var t=Ve(e,"string");return"symbol"===Le(t)?t:String(t)}function Ve(e,t){if("object"!==Le(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}f([a.obx,m("design:type",Object)],ge.prototype,"key",void 0),f([a.obx,m("design:type",Boolean)],ge.prototype,"spread",void 0),f([a.obx.ref,m("design:type",String)],ge.prototype,"_type",void 0),f([a.obx,m("design:type",Object)],ge.prototype,"_value",void 0),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],ge.prototype,"value",null),f([a.computed,m("design:type",String),m("design:paramtypes",[String])],ge.prototype,"code",null),f([a.obx.shallow,m("design:type",Object)],ge.prototype,"_items",void 0),f([a.obx.shallow,m("design:type",Object)],ge.prototype,"_maps",void 0),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],ge.prototype,"maps",null),f([a.action,m("design:type",Function),m("design:paramtypes",[]),m("design:returntype",void 0)],ge.prototype,"setupItems",null),f([a.action,m("design:type",Function),m("design:paramtypes",[Object]),m("design:returntype",Object)],ge.prototype,"getPropValue",null),f([a.action,m("design:type",Function),m("design:paramtypes",[Object,Object]),m("design:returntype",void 0)],ge.prototype,"setPropValue",null),f([a.action,m("design:type",Function),m("design:paramtypes",[Object]),m("design:returntype",void 0)],ge.prototype,"clearPropValue",null),f([a.action,m("design:type",Function),m("design:paramtypes",["function"==typeof($=void 0!==F.IPublicTypeCompositeValue&&F.IPublicTypeCompositeValue)?$:Object]),m("design:returntype",void 0)],ge.prototype,"setValue",null),f([a.action,m("design:type",Function),m("design:paramtypes",[]),m("design:returntype",void 0)],ge.prototype,"dispose",null),f([a.action,m("design:type",Function),m("design:paramtypes",["function"==typeof(K=void 0!==F.IPublicTypeJSSlot&&F.IPublicTypeJSSlot)?K:Object]),m("design:returntype",void 0)],ge.prototype,"setAsSlot",null),f([a.action,m("design:type",Function),m("design:paramtypes",[]),m("design:returntype",void 0)],ge.prototype,"unset",null),f([a.action,m("design:type",Function),m("design:paramtypes",[]),m("design:returntype",void 0)],ge.prototype,"isUnset",null),f([a.action,m("design:type",Function),m("design:paramtypes",[Object,Object]),m("design:returntype",Object)],ge.prototype,"get",null),f([a.action,m("design:type",Function),m("design:paramtypes",[]),m("design:returntype",void 0)],ge.prototype,"remove",null),f([a.action,m("design:type",Function),m("design:paramtypes",[ge]),m("design:returntype",void 0)],ge.prototype,"delete",null),f([a.action,m("design:type",Function),m("design:paramtypes",[String]),m("design:returntype",void 0)],ge.prototype,"deleteKey",null),f([a.action,m("design:type",Function),m("design:paramtypes",["function"==typeof(X=void 0!==F.IPublicTypeCompositeValue&&F.IPublicTypeCompositeValue)?X:Object,Object]),m("design:returntype",Object)],ge.prototype,"add",null),f([a.action,m("design:type",Function),m("design:paramtypes",[Object,Object,Object]),m("design:returntype",void 0)],ge.prototype,"set",null),f([a.action,m("design:type",Function),m("design:paramtypes",[]),m("design:returntype",void 0)],ge.prototype,"purge",null),f([a.action,m("design:type",Function),m("design:paramtypes",[Function]),m("design:returntype",void 0)],ge.prototype,"forEach",null),f([a.action,m("design:type",Function),m("design:paramtypes",[Function]),m("design:returntype",Object)],ge.prototype,"map",null);var Fe="___";function Ge(e){if(!e)return"";var t=e;return e.indexOf(".")>0&&(t=e.split(".")[0]),"___"+t+"___"+e.slice(t.length)}function He(e){return e.replace(new RegExp("".concat("___"),"g"),"")}we=Symbol.iterator;var Ue=function(){function e(t,n,r){var o=this;Me(this,e),this.id=Object(V.cb)("props"),this.items=[],this.path=[],this.owner=void 0,this.type="map",this.purged=!1,Object(a.makeObservable)(this),this.owner=t,Array.isArray(n)?(this.type="list",this.items=n.map((function(e,t){return new ge(o,e.value,e.name||t,e.spread)}))):null!=n&&(this.items=Object.keys(n).map((function(e){return new ge(o,n[e],e,!1)}))),r&&Object.keys(r).forEach((function(e){o.items.push(new ge(o,r[e],Ge(e)))}))}return Ie(e,[{key:"maps",get:function e(){var t=new Map;return this.items.length>0&&this.items.forEach((function(e){e.key&&t.set(e.key,e)})),t}},{key:"props",get:function e(){return this}},{key:"size",get:function e(){return this.items.length}},{key:"import",value:function e(t,n){var r=this,o=this.items;Array.isArray(t)?(this.type="list",this.items=t.map((function(e,t){return new ge(r,e.value,e.name||t,e.spread)}))):null!=t?(this.type="map",this.items=Object.keys(t).map((function(e){return new ge(r,t[e],e)}))):(this.type="map",this.items=[]),n&&Object.keys(n).forEach((function(e){r.items.push(new ge(r,n[e],Ge(e)))})),o.forEach((function(e){return e.purge()}))}},{key:"merge",value:function e(t,n){var r=this;Object.keys(t).forEach((function(e){r.query(e,!0).setValue(t[e]),r.query(e,!0).setupItems()})),n&&Object.keys(n).forEach((function(e){r.query(Ge(e),!0).setValue(n[e]),r.query(Ge(e),!0).setupItems()}))}},{key:"export",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.g.Save;if(t=Object(V.k)(t),this.items.length<1)return{};var n={},r={},o={};if("list"===this.type)r=[],this.items.forEach((function(e){var n=e.export(t),i=e.key;i&&"string"==typeof i&&i.startsWith("___")?(i=He(i),o[i]=n):r.push({spread:e.spread,name:i,value:n})}));else{this.items.forEach((function(e){var r=e.key;if(null!=r&&!e.isUnset()&&!e.isVirtual()){var o=e.export(t);null!=o&&(n[r]=o)}}));var i=this.transformToStatic(n);Object.keys(i).forEach((function(e){var t=i[e];"string"==typeof e&&e.startsWith("___")?(e=He(e),o[e]=t):r[e]=t}))}return{props:r,extras:o}}},{key:"transformToStatic",value:function e(t){var n,r,o,i=null===(n=this.owner.componentMeta)||void 0===n||null===(r=n.prototype)||void 0===r||null===(o=r.options)||void 0===o?void 0:o.transducers;return i?(Array.isArray(i)||(i=[i]),t=i.reduce((function(e,t){return t&&"function"==typeof t.toStatic?t.toStatic(e):e}),t)):t}},{key:"query",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.get(t,n)}},{key:"get",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t,o="",i=t.indexOf(".");i>0&&(o=t.slice(i+1))&&(r=t.slice(0,i));var a=this.maps.get(r);return!a&&n&&(a=new ge(this,be,r),this.items.push(a)),a?o?a.get(o,n):a:null}},{key:"delete",value:function e(t){var n=this.items.indexOf(t);n>-1&&(this.items.splice(n,1),t.purge())}},{key:"deleteKey",value:function e(t){var n=this;this.items=this.items.filter((function(e,r){return e.key!==t||(e.purge(),n.items.splice(r,1),!1)}))}},{key:"add",value:function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=new ge(this,t,n,r,o);return this.items.push(i),i}},{key:"has",value:function e(t){return this.maps.has(t)}},{key:we,value:function e(){var t=0,n=this.items,r=n.length||0;return{next:function e(){return t<r?{value:n[t++],done:!1}:{value:void 0,done:!0}}}}},{key:"forEach",value:function e(t){this.items.forEach((function(e){return t(e,e.key)}))}},{key:"map",value:function e(t){return this.items.map((function(e){return t(e,e.key)}))}},{key:"filter",value:function e(t){return this.items.filter((function(e){return t(e,e.key)}))}},{key:"purge",value:function e(){this.purged||(this.purged=!0,this.items.forEach((function(e){return e.purge()})))}},{key:"getProp",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.query(t,n)||null}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.getProp(t,!1))||void 0===n?void 0:n.value}},{key:"setPropValue",value:function e(t,n){this.getProp(t,!0).setValue(n)}},{key:"getNode",value:function e(){return this.owner}},{key:"toData",value:function e(){var t;return null===(t=this.export())||void 0===t?void 0:t.props}}]),e}(),ze,We;function $e(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e.length-1;o>=0;o--)t.call(r,n(e,o))}function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){Ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ye(e,t,n){return(t=et(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,et(r.key),r)}}function Qe(e,t,n){return t&&Ze(e.prototype,t),n&&Ze(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function et(e){var t=tt(e,"string");return"symbol"===Ke(t)?t:String(t)}function tt(e,t){if("object"!==Ke(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ke(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}f([a.obx.shallow,m("design:type",Array)],Ue.prototype,"items",void 0),f([a.computed,m("design:type","function"==typeof(Oe="undefined"!=typeof Map&&Map)?Oe:Object),m("design:paramtypes",[])],Ue.prototype,"maps",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],Ue.prototype,"size",null),f([a.obx,m("design:type",String)],Ue.prototype,"type",void 0),f([a.action,m("design:type",Function),m("design:paramtypes",[Object,Object]),m("design:returntype",void 0)],Ue.prototype,"import",null),f([a.action,m("design:type",Function),m("design:paramtypes",["function"==typeof(Se=void 0!==F.IPublicTypePropsMap&&F.IPublicTypePropsMap)?Se:Object,"function"==typeof(Ee=void 0!==F.IPublicTypePropsMap&&F.IPublicTypePropsMap)?Ee:Object]),m("design:returntype",void 0)],Ue.prototype,"merge",null),f([a.action,m("design:type",Function),m("design:paramtypes",[String,Object]),m("design:returntype",Object)],Ue.prototype,"query",null),f([a.action,m("design:type",Function),m("design:paramtypes",[String,Object]),m("design:returntype",Object)],Ue.prototype,"get",null),f([a.action,m("design:type",Function),m("design:paramtypes",["function"==typeof(xe=void 0!==ge&&ge)?xe:Object]),m("design:returntype",void 0)],Ue.prototype,"delete",null),f([a.action,m("design:type",Function),m("design:paramtypes",[String]),m("design:returntype",void 0)],Ue.prototype,"deleteKey",null),f([a.action,m("design:type",Function),m("design:paramtypes",[Object,Object,Object,Object]),m("design:returntype","function"==typeof(Ce=void 0!==ge&&ge)?Ce:Object)],Ue.prototype,"add",null),f([a.action,m("design:type",Function),m("design:paramtypes",[Function]),m("design:returntype",void 0)],Ue.prototype,"forEach",null),f([a.action,m("design:type",Function),m("design:paramtypes",[Function]),m("design:returntype",Object)],Ue.prototype,"map",null),f([a.action,m("design:type",Function),m("design:paramtypes",[Function]),m("design:returntype",void 0)],Ue.prototype,"filter",null),f([a.action,m("design:type",Function),m("design:paramtypes",[]),m("design:returntype",void 0)],Ue.prototype,"purge",null),f([a.action,m("design:type",Function),m("design:paramtypes",[String,Object]),m("design:returntype",Object)],Ue.prototype,"getProp",null),f([a.action,m("design:type",Function),m("design:paramtypes",[String]),m("design:returntype",Object)],Ue.prototype,"getPropValue",null),f([a.action,m("design:type",Function),m("design:paramtypes",[String,Object]),m("design:returntype",void 0)],Ue.prototype,"setPropValue",null),f([a.action,m("design:type",Function),m("design:paramtypes",[]),m("design:returntype",void 0)],Ue.prototype,"toData",null),ze=Symbol.toStringTag,We=Symbol.iterator;var nt=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Je(this,e),this.owner=void 0,this.children=void 0,this.emitter=Object(a.createModuleEventBus)("NodeChildren"),this.purged=!1,this.owner=t,Object(a.makeObservable)(this),this.children=(Array.isArray(n)?n:[n]).map((function(e){var t;return null===(t=r.owner.document)||void 0===t?void 0:t.createNode(e,o.checkId)}))}return Qe(e,[{key:"size",get:function e(){return this.children.length}},{key:"isEmptyNode",get:function e(){return this.size<1}},{key:"notEmptyNode",get:function e(){return this.size>0}},{key:"length",get:function e(){return this.children.length}},{key:ze,get:function e(){return"Array"}},{key:"internalInitParent",value:function e(){var t=this;this.children.forEach((function(e){return e.internalSetParent(t.owner)}))}},{key:"export",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.g.Save;return t=Object(V.k)(t),this.children.map((function(e){var n=e.export(t);return e.isLeafNode&&F.g.Save===t?n.children:n}))}},{key:"import",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=t?Array.isArray(t)?t:[t]:[];var r=this.children.slice();this.children.forEach((function(e){return e.internalSetParent(null)}));for(var o=new Array(t.length),i=0,a=t.length;i<a;i++){var u=r[i],c=t[i],s=void 0;Object(V.O)(c)&&!n&&u&&u.componentName===c.componentName?(s=u).import(c):s=this.owner.document.createNode(c,n),o[i]=s}this.children=o,this.internalInitParent(),Object(V.ab)(o,r)||this.emitter.emit("change")}},{key:"concat",value:function e(t){return this.children.concat(t)}},{key:"isEmpty",value:function e(){return this.isEmptyNode}},{key:"notEmpty",value:function e(){return this.notEmptyNode}},{key:"purge",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.purged||(this.purged=!0,this.children.forEach((function(e){e.purge(t)})))}},{key:"unlinkChild",value:function e(t){var n=this.children.map((function(e){return e.id})).indexOf(t.id);if(n<0)return!1;this.children.splice(n,1),this.emitter.emit("change",{type:"unlink",node:t})}},{key:"delete",value:function e(t){return this.internalDelete(t)}},{key:"internalDelete",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.internalPurgeStart(),t.isParentalNode&&($e(t.children,(function(e){e.remove(r,n,o)}),(function(e,t){return e.get(t)})),$e(t.slots,(function(e){e.remove(r,n)}),(function(e,t){return e[t]})));var i=this.children.map((function(e){return e.id})).indexOf(t.id);if(n){t.internalSetParent(null,r);try{t.purge()}catch(e){console.error(e)}}var u=t.document;if(a.globalContext.has("editor")){var c=a.globalContext.get("workspace"),s=c.isActive?c.window.editor:a.globalContext.get("editor");s.eventBus.emit("node.remove",{node:t,index:i})}return null==u||u.unlinkNode(t),null==u||u.selection.remove(t.id),null==u||u.destroyNode(t),this.emitter.emit("change",{type:"delete",node:t}),r&&this.reportModified(t,this.owner,{type:"remove",propagated:!1,isSubDeleting:this.owner.isPurging,removeIndex:i,removeNode:t}),i>-1&&!n&&this.children.splice(i,1),!1}},{key:"insert",value:function e(t,n){this.internalInsert(t,n,!0)}},{key:"internalInsert",value:function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this.children,i=null==n||-1===n?o.length:n,u=o.map((function(e){return e.id})).indexOf(t.id);if(t.parent&&a.globalContext.has("editor")){var c=a.globalContext.get("workspace"),s=c.isActive?c.window.editor:a.globalContext.get("editor");s.eventBus.emit("node.remove.topLevel",{node:t,index:t.index})}if(u<0)i<o.length?o.splice(i,0,t):o.push(t),t.internalSetParent(this.owner,r);else{if(i>u&&(i-=1),i===u)return;o.splice(u,1),o.splice(i,0,t)}if(this.emitter.emit("change",{type:"insert",node:t}),this.emitter.emit("insert",t),a.globalContext.has("editor")){var l=a.globalContext.get("workspace"),f=l.isActive?l.window.editor:a.globalContext.get("editor");f.eventBus.emit("node.add",{node:t})}if(r&&this.reportModified(t,this.owner,{type:"insert"}),t.conditionGroup&&(t.prevSibling&&t.prevSibling.conditionGroup===t.conditionGroup||t.nextSibling&&t.nextSibling.conditionGroup===t.conditionGroup||t.setConditionGroup(null)),t.prevSibling&&t.nextSibling){var p=t.prevSibling.conditionGroup;p&&p===t.nextSibling.conditionGroup&&t.setConditionGroup(p)}}},{key:"indexOf",value:function e(t){return this.children.map((function(e){return e.id})).indexOf(t.id)}},{key:"splice",value:function e(t,n,r){return r?this.children.splice(t,n,r):this.children.splice(t,n)}},{key:"get",value:function e(t){return this.children.length>t?this.children[t]:null}},{key:"has",value:function e(t){return this.indexOf(t)>-1}},{key:We,value:function e(){var t=0,n=this.children,r=n.length||0;return{next:function e(){return t<r?{value:n[t++],done:!1}:{value:void 0,done:!0}}}}},{key:"forEach",value:function e(t){this.children.forEach((function(e,n){return t(e,n)}))}},{key:"map",value:function e(t){return this.children.map((function(e,n){return t(e,n)}))}},{key:"every",value:function e(t){return this.children.every((function(e,n){return t(e,n)}))}},{key:"some",value:function e(t){return this.children.some((function(e,n){return t(e,n)}))}},{key:"filter",value:function e(t){return this.children.filter(t)}},{key:"find",value:function e(t){return this.children.find(t)}},{key:"reduce",value:function e(t,n){return this.children.reduce(t,n)}},{key:"mergeChildren",value:function e(t,n,r){var o=this,i=!1;if(t){var a=this.children.filter(t);a.length>0&&(a.forEach((function(e){var t=o.children.map((function(e){return e.id})).indexOf(e.id);t>-1&&(o.children.splice(t,1),e.remove(!1))})),i=!0)}if(n){var u=n(this.children);u&&u.length>0&&(u.forEach((function(e){var t,n=null===(t=o.owner.document)||void 0===t?void 0:t.createNode(e);o.children.push(n),n.internalSetParent(o.owner)})),i=!0)}r&&(this.children=this.children.sort(r),i=!0),i&&this.emitter.emit("change")}},{key:"onChange",value:function e(t){var n=this;return this.emitter.on("change",t),function(){n.emitter.removeListener("change",t)}}},{key:"onInsert",value:function e(t){var n=this;return this.emitter.on("insert",t),function(){n.emitter.removeListener("insert",t)}}},{key:"reportModified",value:function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t&&!t.isRootNode){var i=null===(r=n.componentMeta)||void 0===r?void 0:r.advanced.callbacks;if(null!=i&&i.onSubtreeModified)try{null==i||i.onSubtreeModified.call(t.internalToShellNode(),n.internalToShellNode(),o)}catch(e){console.error("error when execute advanced.callbacks.onSubtreeModified",e)}n.parent&&!n.parent.isRootNode&&this.reportModified(t,n.parent,qe(qe({},o),{},{propagated:!0}))}}}]),e}();f([a.obx.shallow,m("design:type",Array)],nt.prototype,"children",void 0),f([a.computed,m("design:type",Number),m("design:paramtypes",[])],nt.prototype,"size",null),f([a.computed,m("design:type",Number),m("design:paramtypes",[])],nt.prototype,"length",null);var rt=n(54),ot=n(55),it=Object(a.createIntl)({"en-US":rt,"zh-CN":ot}),at=it.intl,ut=it.intlNode,ct=it.getLocale,st=it.setLocale,lt,ft;function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yt(r.key),r)}}function vt(e,t,n){return t&&dt(e.prototype,t),n&&dt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yt(e){var t=mt(e,"string");return"symbol"===pt(t)?t:String(t)}function mt(e,t){if("object"!==pt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==pt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var bt=function(){function e(t,n){ht(this,e),this.name=void 0,this.isExclusiveGroup=!0,this.id=Object(V.cb)("exclusive"),this.children=[],this.visibleIndex=0,this.title=void 0,this.name=t,Object(a.makeObservable)(this),this.title=n||{type:"i18n",intl:at("Condition Group")}}return vt(e,[{key:"document",get:function e(){return this.visibleNode.document}},{key:"zLevel",get:function e(){return this.visibleNode.zLevel}},{key:"length",get:function e(){return this.children.length}},{key:"visibleNode",get:function e(){return this.children[this.visibleIndex]}},{key:"firstNode",get:function e(){return this.children[0]}},{key:"index",get:function e(){return this.firstNode.index}},{key:"add",value:function e(t){if(t.nextSibling&&t.nextSibling.conditionGroup===this){var n=this.children.indexOf(t.nextSibling);this.children.splice(n,0,t)}else this.children.push(t)}},{key:"remove",value:function e(t){var n=this.children.indexOf(t);n>-1&&(this.children.splice(n,1),this.visibleIndex>n?this.visibleIndex-=1:this.visibleIndex>=this.children.length&&(this.visibleIndex=this.children.length-1))}},{key:"setVisible",value:function e(t){var n=this.children.indexOf(t);n>-1&&(this.visibleIndex=n)}},{key:"isVisible",value:function e(t){var n;return this.children.indexOf(t)===this.visibleIndex}}]),e}();function gt(e){return e&&e.isExclusiveGroup}function wt(e,t){var n=e.slots,r;return(void 0===n?[]:n).some((function(e){var n;return t&&t===(null==e||null===(n=e.getExtraProp("name"))||void 0===n?void 0:n.getAsString())}))}function Ot(e,t){var n=e.slots,r=void 0===n?[]:n;return r.some((function(e,n){var o;return!(!t||t!==(null==e||null===(o=e.getExtraProp("name"))||void 0===o?void 0:o.getAsString()))&&(e.remove(),r.splice(n,1),!0)}))}f([a.obx.shallow,m("design:type",Array)],bt.prototype,"children",void 0),f([a.obx,m("design:type",Object)],bt.prototype,"visibleIndex",void 0),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],bt.prototype,"document",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],bt.prototype,"zLevel",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],bt.prototype,"length",null),f([a.computed,m("design:type","function"==typeof(lt=void 0!==Sm&&Sm)?lt:Object),m("design:paramtypes",[])],bt.prototype,"visibleNode",null),f([a.computed,m("design:type","function"==typeof(ft=void 0!==Sm&&Sm)?ft:Object),m("design:paramtypes",[])],bt.prototype,"firstNode",null);var _t=V.O,jt=V.F,St=V.l,Et=V.s,kt;!function(e){e.NODE_CHILDREN_CHANGE="node.children.change",e.NODE_VISIBLE_CHANGE="node.visible.change"}(kt||(kt={}));var Pt=Symbol("project"),xt=Symbol("designer"),Nt=Symbol("skeleton"),Ct=Symbol("document"),Tt=Symbol("editor"),Rt=Symbol("node"),At=Symbol("modalNodesManager"),Lt=Symbol("nodeChildren"),Mt=Symbol("prop"),Dt=Symbol("settingPropEntry"),It=Symbol("settingTopEntry"),Bt=Symbol("props"),Vt=Symbol("detecting"),Ft=Symbol("selection"),Gt=Symbol("history"),Ht=Symbol("canvas"),Ut=Symbol("dragon"),zt=Symbol("componentMeta"),Wt=Symbol("dropLocation"),$t=Symbol("simulatorHost"),Kt=Symbol("dragObject"),Xt=Symbol("locateEvent"),qt=Symbol("designerCabin"),Yt=Symbol("hotkey"),Jt=Symbol("plugins"),Zt=Symbol("workspace"),Qt=Symbol("window"),en=Symbol("plugin-instance"),tn=Symbol("resourceType"),nn=Symbol("resource"),rn=Symbol("clipboard");function on(e){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function an(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sn(r.key),r)}}function cn(e,t,n){return t&&un(e.prototype,t),n&&un(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sn(e){var t=ln(e,"string");return"symbol"===on(t)?t:String(t)}function ln(e,t){if("object"!==on(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==on(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var fn=function(){function e(t){an(this,e),this[zt]=void 0,this.isComponentMeta=!0,this[zt]=t}return cn(e,[{key:"componentName",get:function e(){return this[zt].componentName}},{key:"isContainer",get:function e(){return this[zt].isContainer}},{key:"isMinimalRenderUnit",get:function e(){return this[zt].isMinimalRenderUnit}},{key:"isModal",get:function e(){return this[zt].isModal}},{key:"configure",get:function e(){return this[zt].configure}},{key:"title",get:function e(){return this[zt].title}},{key:"icon",get:function e(){return this[zt].icon}},{key:"npm",get:function e(){return this[zt].npm}},{key:"prototype",get:function e(){return this[zt].prototype}},{key:"availableActions",get:function e(){return this[zt].availableActions}},{key:"advanced",get:function e(){return this[zt].advanced}},{key:"setNpm",value:function e(t){this[zt].setNpm(t)}},{key:"getMetadata",value:function e(){return this[zt].getMetadata()}},{key:"checkNestingUp",value:function e(t,n){var r=t.isNode?t[Rt]:t;return this[zt].checkNestingUp(r,n)}},{key:"checkNestingDown",value:function e(t,n){var r=null!=t&&t.isNode?t[Rt]:t;return this[zt].checkNestingDown(r,n[Rt]||n)}},{key:"refreshMetadata",value:function e(){this[zt].refreshMetadata()}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function pn(e){return(pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yn(r.key),r)}}function vn(e,t,n){return t&&dn(e.prototype,t),n&&dn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yn(e){var t=mn(e,"string");return"symbol"===pn(t)?t:String(t)}function mn(e,t){if("object"!==pn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==pn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var bn=function(){function e(t){hn(this,e),this[Mt]=void 0,this[Mt]=t}return vn(e,[{key:"id",get:function e(){return this[Mt].id}},{key:"key",get:function e(){return this[Mt].key}},{key:"path",get:function e(){return this[Mt].path}},{key:"node",get:function e(){return Hv.create(this[Mt].getNode())}},{key:"slotNode",get:function e(){return Hv.create(this[Mt].slotNode)}},{key:"isProp",get:function e(){return!0}},{key:"setValue",value:function e(t){this[Mt].setValue(t)}},{key:"getValue",value:function e(){return this[Mt].getValue()}},{key:"remove",value:function e(){this[Mt].remove()}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.g.Render;return this[Mt].export(t)}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function gn(e){return(gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function On(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jn(r.key),r)}}function _n(e,t,n){return t&&On(e.prototype,t),n&&On(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jn(e){var t=Sn(e,"string");return"symbol"===gn(t)?t:String(t)}function Sn(e,t){if("object"!==gn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==gn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var En=function(){function e(t){wn(this,e),this[Bt]=void 0,this[Bt]=t}return _n(e,[{key:"id",get:function e(){return this[Bt].id}},{key:"path",get:function e(){return this[Bt].path}},{key:"node",get:function e(){return Hv.create(this[Bt].getNode())}},{key:"getProp",value:function e(t){return bn.create(this[Bt].getProp(t))}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.getProp(t))||void 0===n?void 0:n.getValue()}},{key:"getExtraProp",value:function e(t){return bn.create(this[Bt].getProp(Ge(t)))}},{key:"getExtraPropValue",value:function e(t){var n;return null===(n=this.getExtraProp(t))||void 0===n?void 0:n.getValue()}},{key:"setPropValue",value:function e(t,n){var r;return null===(r=this.getProp(t))||void 0===r?void 0:r.setValue(n)}},{key:"setExtraPropValue",value:function e(t,n){var r;return null===(r=this.getExtraProp(t))||void 0===r?void 0:r.setValue(n)}},{key:"has",value:function e(t){return this[Bt].has(t)}},{key:"add",value:function e(t,n){return this[Bt].add(t,n)}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function kn(e){return(kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cn(r.key),r)}}function Nn(e,t,n){return t&&xn(e.prototype,t),n&&xn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cn(e){var t=Tn(e,"string");return"symbol"===kn(t)?t:String(t)}function Tn(e,t){if("object"!==kn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==kn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Rn=function(){function e(t){Pn(this,e),this[Ft]=void 0,this[Ft]=t.selection}return Nn(e,[{key:"selected",get:function e(){return this[Ft].selected}},{key:"node",get:function e(){var t=this.getNodes();return t&&t.length>0?t[0]:null}},{key:"select",value:function e(t){this[Ft].select(t)}},{key:"selectAll",value:function e(t){this[Ft].selectAll(t)}},{key:"remove",value:function e(t){this[Ft].remove(t)}},{key:"clear",value:function e(){this[Ft].clear()}},{key:"has",value:function e(t){return this[Ft].has(t)}},{key:"add",value:function e(t){this[Ft].add(t)}},{key:"getNodes",value:function e(){var t=this[Ft].getNodes(),n=[];return t.forEach((function(e){var t=Hv.create(e);t&&n.push(t)})),n}},{key:"getTopNodes",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this[Ft].getTopNodes(t),r=[];return n.forEach((function(e){var t=Hv.create(e);t&&r.push(t)})),r}},{key:"onSelectionChange",value:function e(t){return this[Ft].onSelectionChange(t)}}]),e}();function An(e){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ln(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,In(r.key),r)}}function Dn(e,t,n){return t&&Mn(e.prototype,t),n&&Mn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function In(e){var t=Bn(e,"string");return"symbol"===An(t)?t:String(t)}function Bn(e,t){if("object"!==An(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==An(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Vn=function(){function e(t){Ln(this,e),this[Ct]=void 0,this[Ct]=t}return Dn(e,[{key:Gt,get:function e(){return this[Ct].getHistory()}},{key:"go",value:function e(t){this[Gt].go(t)}},{key:"back",value:function e(){this[Gt].back()}},{key:"forward",value:function e(){this[Gt].forward()}},{key:"savePoint",value:function e(){this[Gt].savePoint()}},{key:"isSavePoint",value:function e(){return this[Gt].isSavePoint()}},{key:"getState",value:function e(){return this[Gt].getState()}},{key:"onChangeState",value:function e(t){return this[Gt].onChangeState(t)}},{key:"onChangeCursor",value:function e(t){return this[Gt].onChangeCursor(t)}}]),e}();function Fn(e){return(Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zn(r.key),r)}}function Un(e,t,n){return t&&Hn(e.prototype,t),n&&Hn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zn(e){var t=Wn(e,"string");return"symbol"===Fn(t)?t:String(t)}function Wn(e,t){if("object"!==Fn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Fn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var $n=function(){function e(t){Gn(this,e),this[Wt]=void 0,this[Wt]=t}return Un(e,[{key:"target",get:function e(){return Hv.create(this[Wt].target)}},{key:"detail",get:function e(){return this[Wt].detail}},{key:"event",get:function e(){return this[Wt].event}},{key:"clone",value:function t(n){return new e(this[Wt].clone(n))}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}(),Kn=n(3);function Xn(e){return(Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zn(r.key),r)}}function Jn(e,t,n){return t&&Yn(e.prototype,t),n&&Yn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zn(e){var t=Qn(e,"string");return"symbol"===Xn(t)?t:String(t)}function Qn(e,t){if("object"!==Xn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Xn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var er=new V.e({level:"warn",bizName:"skeleton:area"}),tr=function(){function e(t,n,r,o){var i=this,u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];qn(this,e),this.skeleton=void 0,this.name=void 0,this.exclusive=void 0,this._visible=!0,this.container=void 0,this.lastCurrent=null,this.skeleton=t,this.name=n,this.exclusive=o,Object(a.makeObservable)(this),this.container=t.createContainer(n,r,o,(function(){return i.visible}),u)}return Jn(e,[{key:"visible",get:function e(){return this.exclusive?null!=this.container.current:this._visible}},{key:"current",get:function e(){return this.exclusive?this.container.current:null}},{key:"isEmpty",value:function e(){return this.container.items.length<1}},{key:"add",value:function e(t){var n=this.container.get(t.name);return n?(er.warn("The ".concat(t.name," has already been added to skeleton.")),n):this.container.add(t)}},{key:"remove",value:function e(t){return this.container.remove(t)}},{key:"setVisible",value:function e(t){if(this.exclusive){var n=this.container.current;t&&!n?this.container.active(this.lastCurrent||this.container.getAt(0)):n&&(this.lastCurrent=n,this.container.unactive(n))}else this._visible=t}},{key:"hide",value:function e(){this.setVisible(!1)}},{key:"show",value:function e(){this.setVisible(!0)}},{key:"removeAction",value:function e(t){return this.remove(t)}}]),e}();Object(Kn.a)([a.obx,Object(Kn.b)("design:type",Object)],tr.prototype,"_visible",void 0),Object(Kn.a)([a.computed,Object(Kn.b)("design:type",Object),Object(Kn.b)("design:paramtypes",[])],tr.prototype,"visible",null);var nr=n(5),rr=n.n(nr);function or(e){return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ir(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cr(r.key),r)}}function ur(e,t,n){return t&&ar(e.prototype,t),n&&ar(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cr(e){var t=sr(e,"string");return"symbol"===or(t)?t:String(t)}function sr(e,t){if("object"!==or(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==or(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function lr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fr(e,t)}function fr(e,t){return(fr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function pr(e){var t=vr();return function n(){var r=yr(e),o;if(t){var i=yr(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return hr(this,o)}}function hr(e,t){if(t&&("object"===or(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dr(e)}function dr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function yr(e){return(yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var mr=function(e){lr(n,e);var t=pr(n);function n(){return ir(this,n),t.apply(this,arguments)}return ur(n,[{key:"render",value:function e(){var t=this.props,n=t.area,r=t.itemClassName;return n.isEmpty()?null:React.createElement("div",{className:rr()("lc-top-area engine-actionpane",{"lc-area-visible":n.visible})},React.createElement(gr,{area:n,itemClassName:r}))}}]),n}(r.Component),br=mr=Object(Kn.a)([a.observer],mr),gr=function(e){lr(n,e);var t=pr(n);function n(){return ir(this,n),t.apply(this,arguments)}return ur(n,[{key:"render",value:function e(){var t=this.props,n=t.area,o=t.itemClassName,i=[],a=[],u=[];return n.container.items.slice().sort((function(e,t){var n,r,o=(null===(n=e.config)||void 0===n?void 0:n.index)||0,i=(null===(r=t.config)||void 0===r?void 0:r.index)||0;return o===i?0:o>i?1:-1})).forEach((function(e){var t=React.createElement("div",{className:o||"",key:"top-area-".concat(e.name)},e.content);"center"===e.align?a.push(t):"left"===e.align?i.push(t):u.push(t)})),React.createElement(r.Fragment,null,React.createElement("div",{className:"lc-top-area-left"},i),React.createElement("div",{className:"lc-top-area-center"},a),React.createElement("div",{className:"lc-top-area-right"},u))}}]),n}(r.Component);function wr(e){return(wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Or(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sr(r.key),r)}}function jr(e,t,n){return t&&_r(e.prototype,t),n&&_r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sr(e){var t=Er(e,"string");return"symbol"===wr(t)?t:String(t)}function Er(e,t){if("object"!==wr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==wr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function kr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pr(e,t)}function Pr(e,t){return(Pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function xr(e){var t=Tr();return function n(){var r=Rr(e),o;if(t){var i=Rr(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Nr(this,o)}}function Nr(e,t){if(t&&("object"===wr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Cr(e)}function Cr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Rr(e){return(Rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}gr=Object(Kn.a)([a.observer],gr);var Ar=function(e){kr(n,e);var t=xr(n);function n(){return Or(this,n),t.apply(this,arguments)}return jr(n,[{key:"render",value:function e(){var t=this.props.area;return t.isEmpty()?null:React.createElement("div",{className:rr()("lc-left-area",{"lc-area-visible":t.visible})},React.createElement(Mr,{area:t}))}}]),n}(r.Component),Lr=Ar=Object(Kn.a)([a.observer],Ar),Mr=function(e){kr(n,e);var t=xr(n);function n(){return Or(this,n),t.apply(this,arguments)}return jr(n,[{key:"render",value:function e(){var t=this.props.area,n=[],o=[];return t.container.items.slice().sort((function(e,t){var n,r,o=(null===(n=e.config)||void 0===n?void 0:n.index)||0,i=(null===(r=t.config)||void 0===r?void 0:r.index)||0;return o===i?0:o>i?1:-1})).forEach((function(e){var t=React.createElement("div",{key:"left-area-".concat(e.name)},e.content);"bottom"===e.align?o.push(t):n.push(t)})),React.createElement(r.Fragment,null,React.createElement("div",{className:"lc-left-area-top"},n),React.createElement("div",{className:"lc-left-area-bottom"},o))}}]),n}(r.Component);function Dr(e){return(Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ir(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fr(r.key),r)}}function Vr(e,t,n){return t&&Br(e.prototype,t),n&&Br(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fr(e){var t=Gr(e,"string");return"symbol"===Dr(t)?t:String(t)}function Gr(e,t){if("object"!==Dr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Dr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Hr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ur(e,t)}function Ur(e,t){return(Ur=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function zr(e){var t=Kr();return function n(){var r=Xr(e),o;if(t){var i=Xr(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Wr(this,o)}}function Wr(e,t){if(t&&("object"===Dr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $r(e)}function $r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Xr(e){return(Xr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Mr=Object(Kn.a)([a.observer],Mr);var qr=function(e){Hr(n,e);var t=zr(n);function n(){return Ir(this,n),t.apply(this,arguments)}return Vr(n,[{key:"componentDidUpdate",value:function e(){var t;null===(t=this.props.area.skeleton.editor.get("designer"))||void 0===t||t.touchOffsetObserver()}},{key:"render",value:function e(){var t,n,r=this.props.area,o=null===(t=r.current)||void 0===t||null===(n=t.config.props)||void 0===n?void 0:n.width,i=o?{width:o}:void 0;return React.createElement("div",{className:rr()("lc-left-fixed-pane",{"lc-area-visible":r.visible}),style:i},React.createElement(Jr,{area:r}))}}]),n}(r.Component),Yr=qr=Object(Kn.a)([a.observer],qr),Jr=function(e){Hr(n,e);var t=zr(n);function n(){return Ir(this,n),t.apply(this,arguments)}return Vr(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(r.Fragment,null,t.container.items.map((function(e){return e.content})))}}]),n}(r.Component);function Zr(e){return(Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,no(r.key),r)}}function to(e,t,n){return t&&eo(e.prototype,t),n&&eo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function no(e){var t=ro(e,"string");return"symbol"===Zr(t)?t:String(t)}function ro(e,t){if("object"!==Zr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Zr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function oo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&io(e,t)}function io(e,t){return(io=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function ao(e){var t=so();return function n(){var r=lo(e),o;if(t){var i=lo(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return uo(this,o)}}function uo(e,t){if(t&&("object"===Zr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return co(e)}function co(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function so(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function lo(e){return(lo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Jr=Object(Kn.a)([a.observer],Jr);var fo=function(e){oo(n,e);var t=ao(n);function n(){var e;Qr(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).dispose=void 0,e.focusing=void 0,e.shell=null,e}return to(n,[{key:"componentDidMount",value:function e(){var t=this,n=this.props.area,r=function e(t){var r,o,i,a;n.visible&&(null!==(r=t.originalEvent)&&void 0!==r&&null!==(o=r.target)&&void 0!==o&&o.classList.contains("insertion")||(null===(i=t.originalEvent)||void 0===i?void 0:i.target.closest('div[data-keep-visible-while-dragging="true"]'))||n.setVisible(!1))};n.skeleton.editor.eventBus.on("designer.drag",r),this.dispose=function(){n.skeleton.editor.removeListener("designer.drag",r)},this.focusing=a.focusTracker.create({range:function e(r){var o,i,a,u,c,s,l,f=r.target;if(!f)return!1;if(null!==(o=t.shell)&&void 0!==o&&o.contains(f))return!0;if(null!==(i=document.querySelector(".lc-simulator-content-frame"))&&void 0!==i&&null!==(a=i.contentWindow)&&void 0!==a&&a.document.documentElement.contains(f))return!1;if(null!==(u=document.querySelector(".lc-right-area"))&&void 0!==u&&u.contains(f))return!1;if(null===(c=document.querySelector(".lc-workbench"))||void 0===c||!c.contains(f))return!0;if(null!==(s=document.querySelector(".lc-workbench-body"))&&void 0!==s&&s.contains(f))return!0;var p=null===(l=n.current)||void 0===l?void 0:l.getAssocDocks();return!(!p||null==p||!p.length)&&p.some((function(e){var t;return null===(t=e.getDOMNode())||void 0===t?void 0:t.contains(f)}))},onEsc:function e(){t.props.area.setVisible(!1)},onBlur:function e(){t.props.area.setVisible(!1)}}),this.onEffect()}},{key:"onEffect",value:function e(){var t=this.props.area;if(t.visible){var n,r,o;null===(n=this.focusing)||void 0===n||n.active();var i=null==t||null===(r=t.skeleton)||void 0===r||null===(o=r.leftFixedArea)||void 0===o?void 0:o.container,a=null==i?void 0:i.current;a&&i.unactive(a)}else{var u;null===(u=this.focusing)||void 0===u||u.suspense()}}},{key:"componentDidUpdate",value:function e(){this.onEffect()}},{key:"componentWillUnmount",value:function e(){var t,n;null===(t=this.focusing)||void 0===t||t.purge(),null===(n=this.dispose)||void 0===n||n.call(this)}},{key:"render",value:function e(){var t,n,r=this,o=this.props.area,i=null===(t=o.current)||void 0===t||null===(n=t.config.props)||void 0===n?void 0:n.width,a=i?{width:i}:void 0;return React.createElement("div",{ref:function e(t){r.shell=t},className:rr()("lc-left-float-pane",{"lc-area-visible":o.visible}),style:a},React.createElement(ho,{area:o}))}}]),n}(r.Component),po=fo=Object(Kn.a)([a.observer],fo),ho=function(e){oo(n,e);var t=ao(n);function n(){return Qr(this,n),t.apply(this,arguments)}return to(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(r.Fragment,null,t.container.items.map((function(e){return e.content})))}}]),n}(r.Component);function vo(e){return(vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,go(r.key),r)}}function bo(e,t,n){return t&&mo(e.prototype,t),n&&mo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function go(e){var t=wo(e,"string");return"symbol"===vo(t)?t:String(t)}function wo(e,t){if("object"!==vo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==vo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Oo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_o(e,t)}function _o(e,t){return(_o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function jo(e){var t=ko();return function n(){var r=Po(e),o;if(t){var i=Po(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return So(this,o)}}function So(e,t){if(t&&("object"===vo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Eo(e)}function Eo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ko(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Po(e){return(Po=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}ho=Object(Kn.a)([a.observer],ho);var xo=function(e){Oo(n,e);var t=jo(n);function n(){return yo(this,n),t.apply(this,arguments)}return bo(n,[{key:"render",value:function e(){var t=this.props.area;return t.isEmpty()?null:React.createElement("div",{className:rr()("lc-toolbar",{"lc-area-visible":t.visible})},React.createElement(Co,{area:t}))}}]),n}(r.Component),No=xo=Object(Kn.a)([a.observer],xo),Co=function(e){Oo(n,e);var t=jo(n);function n(){return yo(this,n),t.apply(this,arguments)}return bo(n,[{key:"render",value:function e(){var t=this.props.area,n=[],o=[],i=[];return t.container.items.forEach((function(e){"center"===e.align?o.push(e.content):"right"===e.align?i.push(e.content):n.push(e.content)})),React.createElement(r.Fragment,null,React.createElement("div",{className:"lc-toolbar-left"},n),React.createElement("div",{className:"lc-toolbar-center"},o),React.createElement("div",{className:"lc-toolbar-right"},i))}}]),n}(r.Component);function To(e){return(To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ro(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mo(r.key),r)}}function Lo(e,t,n){return t&&Ao(e.prototype,t),n&&Ao(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mo(e){var t=Do(e,"string");return"symbol"===To(t)?t:String(t)}function Do(e,t){if("object"!==To(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==To(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Io(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bo(e,t)}function Bo(e,t){return(Bo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Vo(e){var t=Ho();return function n(){var r=Uo(e),o;if(t){var i=Uo(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Fo(this,o)}}function Fo(e,t){if(t&&("object"===To(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Go(e)}function Go(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ho(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Uo(e){return(Uo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Co=Object(Kn.a)([a.observer],Co);var zo=function(e){Io(n,e);var t=Vo(n);function n(){return Ro(this,n),t.apply(this,arguments)}return Lo(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement("div",{className:rr()("lc-main-area engine-workspacepane")},t.container.items.map((function(e){return e.content})))}}]),n}(r.Component),Wo=zo=Object(Kn.a)([a.observer],zo);function $o(e){return($o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ko(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yo(r.key),r)}}function qo(e,t,n){return t&&Xo(e.prototype,t),n&&Xo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yo(e){var t=Jo(e,"string");return"symbol"===$o(t)?t:String(t)}function Jo(e,t){if("object"!==$o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==$o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Zo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qo(e,t)}function Qo(e,t){return(Qo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function ei(e){var t=ri();return function n(){var r=oi(e),o;if(t){var i=oi(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return ti(this,o)}}function ti(e,t){if(t&&("object"===$o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ni(e)}function ni(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ri(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function oi(e){return(oi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var ii=function(e){Zo(n,e);var t=ei(n);function n(){return Ko(this,n),t.apply(this,arguments)}return qo(n,[{key:"render",value:function e(){var t=this.props.area;return t.isEmpty()?null:React.createElement("div",{className:rr()("lc-bottom-area",{"lc-area-visible":t.visible})},React.createElement(ui,{area:t}))}}]),n}(r.Component),ai=ii=Object(Kn.a)([a.observer],ii),ui=function(e){Zo(n,e);var t=ei(n);function n(){return Ko(this,n),t.apply(this,arguments)}return qo(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(r.Fragment,null,t.container.items.map((function(e){return e.content})))}}]),n}(r.Component);function ci(e){return(ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function si(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function li(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pi(r.key),r)}}function fi(e,t,n){return t&&li(e.prototype,t),n&&li(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pi(e){var t=hi(e,"string");return"symbol"===ci(t)?t:String(t)}function hi(e,t){if("object"!==ci(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ci(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function di(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vi(e,t)}function vi(e,t){return(vi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function yi(e){var t=gi();return function n(){var r=wi(e),o;if(t){var i=wi(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return mi(this,o)}}function mi(e,t){if(t&&("object"===ci(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bi(e)}function bi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gi(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function wi(e){return(wi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}ui=Object(Kn.a)([a.observer],ui);var Oi=function(e){di(n,e);var t=yi(n);function n(){return si(this,n),t.apply(this,arguments)}return fi(n,[{key:"render",value:function e(){var t=this.props.area;return t.isEmpty()?null:React.createElement("div",{className:rr()("lc-right-area engine-tabpane",{"lc-area-visible":t.visible})},React.createElement(ji,{area:t}))}}]),n}(r.Component),_i=Oi=Object(Kn.a)([a.observer],Oi),ji=function(e){di(n,e);var t=yi(n);function n(){return si(this,n),t.apply(this,arguments)}return fi(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(r.Fragment,null,t.container.items.map((function(e){return e.content})))}}]),n}(r.Component);ji=Object(Kn.a)([a.observer],ji);var Si=n(89),Ei=Object(r.createContext)({});function ki(e){return(ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ci(r.key),r)}}function Ni(e,t,n){return t&&xi(e.prototype,t),n&&xi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ci(e){var t=Ti(e,"string");return"symbol"===ki(t)?t:String(t)}function Ti(e,t){if("object"!==ki(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ki(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ri(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ai(e,t)}function Ai(e,t){return(Ai=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Li(e){var t=Ii();return function n(){var r=Bi(e),o;if(t){var i=Bi(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Mi(this,o)}}function Mi(e,t){if(t&&("object"===ki(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Di(e)}function Di(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ii(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Bi(e){return(Bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Vi=function(e){Ri(n,e);var t=Li(n);function n(e){var r;Pi(this,n);var o=(r=t.call(this,e)).props,i=o.config,a=o.components,u;return o.skeleton.buildFromConfig(i,a),r}return Ni(n,[{key:"render",value:function e(){var t=this.props,n=t.skeleton,r=t.className,o=t.topAreaItemClassName;return React.createElement("div",{className:rr()("lc-workbench",r)},React.createElement(Ei.Provider,{value:this.props.skeleton},React.createElement(br,{area:n.topArea,itemClassName:o}),React.createElement("div",{className:"lc-workbench-body"},React.createElement(Lr,{area:n.leftArea}),React.createElement(po,{area:n.leftFloatArea}),React.createElement(Yr,{area:n.leftFixedArea}),React.createElement("div",{className:"lc-workbench-center"},React.createElement(No,{area:n.toolbar}),React.createElement(Wo,{area:n.mainArea}),React.createElement(ai,{area:n.bottomArea})),React.createElement(_i,{area:n.rightArea})),React.createElement(a.TipContainer,null)))}}]),n}(r.Component);function Fi(e){return e&&"Widget"===e.type}function Gi(e){return e&&"Divider"===e.type}function Hi(e){return e&&/Dock$/.test(e.type)}function Ui(e){return e&&"DialogDock"===e.type}function zi(e){return e&&"Panel"===e.type}function Wi(e){return e&&"PanelDock"===e.type}function $i(e){return($i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ki(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yi(r.key),r)}}function qi(e,t,n){return t&&Xi(e.prototype,t),n&&Xi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yi(e){var t=Ji(e,"string");return"symbol"===$i(t)?t:String(t)}function Ji(e,t){if("object"!==$i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==$i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Zi(e){return e&&e.setActive}Vi=Object(Kn.a)([a.observer,Object(Kn.b)("design:paramtypes",[Object])],Vi);var Qi=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Ki(this,e),this.name=void 0,this.handle=void 0,this.exclusive=void 0,this.checkVisible=void 0,this.defaultSetCurrent=void 0,this.items=[],this.maps={},this._current=null,this.name=t,this.handle=n,this.exclusive=r,this.checkVisible=o,this.defaultSetCurrent=i,Object(a.makeObservable)(this)}return qi(e,[{key:"current",get:function e(){return this._current}},{key:"visible",get:function e(){return this.checkVisible()}},{key:"active",value:function e(t){var n=t;if(t&&"string"==typeof t&&(n=this.get(t)),Zi(n)||(n=null),this.exclusive){if(this._current===n)return;this._current&&this._current.setActive(!1),this._current=n}n&&n.setActive(!0)}},{key:"unactive",value:function e(t){var n=t;t&&"string"==typeof t&&(n=this.get(t)),Zi(n)||(n=null),this._current===n&&(this._current=null),n&&n.setActive(!1)}},{key:"unactiveAll",value:function e(){var t=this;Object.keys(this.maps).forEach((function(e){return t.unactive(e)}))}},{key:"add",value:function e(t){t=this.handle(t);var n=this.get(t.name);if(n===t)return n;var r=n?this.items.indexOf(n):-1;if(r>-1?this.items[r]=t:this.items.push(t),this.maps[t.name]=t,Fu(t)&&t.setParent(this),this.defaultSetCurrent){var o,i,a=null===(o=t.config)||void 0===o||null===(i=o.props)||void 0===i?void 0:i.hiddenWhenInit;this._current||a||this.active(t)}return t}},{key:"get",value:function e(t){return this.maps[t]||null}},{key:"getAt",value:function e(t){return this.items[t]||null}},{key:"has",value:function e(t){return Object(V.t)(this.maps,t)}},{key:"indexOf",value:function e(t){return this.items.indexOf(t)}},{key:"remove",value:function e(t){var n="string"==typeof t?this.get(t):t;if(!n)return-1;var r=this.items.indexOf(n);return r>-1&&this.items.splice(r,1),delete this.maps[n.name],n===this.current&&(this._current=null),r}}]),e}();Object(Kn.a)([a.obx.shallow,Object(Kn.b)("design:type",Array)],Qi.prototype,"items",void 0),Object(Kn.a)([a.obx.ref,Object(Kn.b)("design:type",Object)],Qi.prototype,"_current",void 0),Object(Kn.a)([a.computed,Object(Kn.b)("design:type",Object),Object(Kn.b)("design:paramtypes",[])],Qi.prototype,"visible",null);var ea=n(7);function ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function na(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ta(Object(n),!0).forEach((function(t){ra(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ta(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ra(e,t,n){return(t=oa(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oa(e){var t=ia(e,"string");return"symbol"===aa(t)?t:String(t)}function ia(e,t){if("object"!==aa(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==aa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function aa(e){return(aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ua(e,t,n,o,i){return e||(e={},t&&!o||(e.label=n,n=void 0)),(t||n)&&("object"!==aa(e)||Object(r.isValidElement)(e)||Object(V.G)(e)?(Object(r.isValidElement)(e)&&("svg"===e.type||e.type.getIcon)&&(t||(t=e),o?(e=n,n=null):e=void 0),e={label:e,icon:t,tip:n}):e=na(na({},e),{},{icon:t,tip:n})),Object(V.X)(e)&&i&&(Object(r.isValidElement)(e)||(e.icon=void 0)),e}var ca=n(90);function sa(e){return(sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function la(e,t,n){return(t=da(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,da(r.key),r)}}function ha(e,t,n){return t&&pa(e.prototype,t),n&&pa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function da(e){var t=va(e,"string");return"symbol"===sa(t)?t:String(t)}function va(e,t){if("object"!==sa(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==sa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ya(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ma(e,t)}function ma(e,t){return(ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function ba(e){var t=Oa();return function n(){var r=_a(e),o;if(t){var i=_a(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return ga(this,o)}}function ga(e,t){if(t&&("object"===sa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wa(e)}function wa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oa(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _a(e){return(_a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var ja=function(e){ya(n,e);var t=ba(n);function n(e){var r;return fa(this,n),(r=t.call(this,e)).startDrag=void 0,r.canDrag=void 0,r.offset=void 0,r.currentOffset=void 0,r.offEvent=void 0,r.offDragEvent=void 0,r.startOffset=void 0,r.shell=null,r.startDrag=!1,r.canDrag=!1,r.offset=0,r.currentOffset=0,r}return ha(n,[{key:"componentDidMount",value:function e(){this.offEvent=this.initEvent()}},{key:"componentWillUnmount",value:function e(){this.offEvent&&this.offEvent()}},{key:"onSelectStart",value:function e(t){this.startDrag&&t.preventDefault()}},{key:"onStartMove",value:function e(t){var n=this.props.onDragStart;this.startDrag||n&&n(),this.startDrag=!0,this.canDrag=!0,this.currentOffset=0,this.offDragEvent=this.initDragEvent(),this.startOffset=this.getClientPosition(t)}},{key:"onEndMove",value:function e(){var t=this.props.onDragEnd;this.startDrag&&(this.offDragEvent&&this.offDragEvent(),this.startDrag=!1,this.offset=this.currentOffset),t&&t()}},{key:"onDrag",value:function e(t){var n=this.props,r=n.position,e=n.onDrag,o=n.maxIncrement,i=void 0===o?100:o,a=n.maxDecrement,u=void 0===a?0:a;this.startDrag&&(this.currentOffset="left"===r||"top"===r?this.offset+this.startOffset-this.getClientPosition(t):this.offset+this.getClientPosition(t)-this.startOffset,this.currentOffset<-u?this.currentOffset=-u:this.currentOffset>i&&(this.currentOffset=i),e(this.currentOffset,t))}},{key:"getClientPosition",value:function e(t){var n=this.props.position;return"left"===n||"right"===n?t.clientX:t.clientY}},{key:"initEvent",value:function e(){var t=this.onSelectStart.bind(this);return document.addEventListener("selectstart",t),function(){return document.removeEventListener("selectstart",t)}}},{key:"initDragEvent",value:function e(){var t=this.onDrag.bind(this),n=this.onEndMove.bind(this);return document.addEventListener("mousemove",t),document.addEventListener("mouseup",n),function(){document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n)}}},{key:"getParent",value:function e(){var t;return null===(t=this.shell)||void 0===t?void 0:t.parentElement}},{key:"render",value:function e(){var t=this,n=this.props,r=n.className,o=void 0===r?"":r,i=n.position;return React.createElement("div",{ref:function e(n){t.shell=n},className:rr()("left"===i||"right"===i?"lc-draggable-line-vertical":"lc-draggable-line-horizontal",la({},o,!!o)),onMouseDown:function e(n){return t.onStartMove(n)}})}}]),n}(r.Component);function Sa(){return(Sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ea(e){var t={width:13,height:13};return React.createElement(V.f,Sa({viewBox:"0 0 1024 1024"},e,t),React.createElement("path",{d:"M750.848 28.928l245.248 242.944a66.048 66.048 0 1 1-93.184 93.184l-25.6-19.456-249.6 353.792 78.336 78.336a66.048 66.048 0 0 1-93.184 92.672l-460.8-464.64a66.048 66.048 0 0 1 93.184-93.184l76.8 78.336 354.048-249.856-18.176-18.944a66.048 66.048 0 1 1 93.184-93.184zM380.672 732.416l-91.904-90.88c-74.24 89.6-191.488 219.904-212.736 247.04a419.84 419.84 0 0 0-70.656 128 419.84 419.84 0 0 0 128-70.144c27.136-21.248 157.44-138.496 246.528-214.016z"}))}function ka(){return(ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Pa(e){return React.createElement(V.f,ka({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M160.256 816.64C116.224 872.448 102.4 921.6 102.4 921.6s49.152-13.824 104.96-57.856c22.016-17.408 128-112.64 200.704-174.08l-73.728-73.728c-61.44 72.704-157.184 178.688-174.08 200.704zM648.704 209.408L442.368 355.328l226.304 226.304 145.92-206.336 15.872 15.872c20.992 20.992 54.784 20.992 75.776 0s20.992-54.784 0-75.776l-197.12-197.12c-20.992-20.992-54.784-20.992-75.776 0-20.992 20.992-20.992 54.784 0 75.776l15.36 15.36zM247.808 334.848c-9.728 2.048-18.944 6.656-26.624 14.336-20.992 20.992-20.992 54.784 0 75.776l377.856 377.856c20.992 20.992 54.784 20.992 75.776 0 7.68-7.68 12.288-16.896 14.336-26.624L247.808 334.848z"}),React.createElement("path",{d:"M840.704 879.104c-9.728 0-19.456-3.584-27.136-11.264L155.648 210.432c-14.848-14.848-14.848-39.424 0-54.272 14.848-14.848 39.424-14.848 54.272 0L867.84 814.08c14.848 14.848 14.848 39.424 0 54.272-7.168 7.168-16.896 10.752-27.136 10.752z"}))}function xa(e){return(xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Na(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ca(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ra(r.key),r)}}function Ta(e,t,n){return t&&Ca(e.prototype,t),n&&Ca(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ra(e){var t=Aa(e,"string");return"symbol"===xa(t)?t:String(t)}function Aa(e,t){if("object"!==xa(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function La(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ma(e,t)}function Ma(e,t){return(Ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Da(e){var t=Va();return function n(){var r=Fa(e),o;if(t){var i=Fa(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Ia(this,o)}}function Ia(e,t){if(t&&("object"===xa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ba(e)}function Ba(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Va(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Fa(e){return(Fa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}ja.displayName="DraggableLine",ja.defaultProps={onDrag:function e(){},position:"right",className:"",maxIncrement:100,maxDecrement:0},Ea.displayName="Fix",Pa.displayName="Float";var Ga=function(e){La(n,e);var t=Da(n);function n(e){var r;return Na(this,n),r=t.call(this,e),Object(a.makeObservable)(Ba(r)),r}return Ta(n,[{key:"setDisplay",value:function e(){var t=this.props.panel,n;t&&t.skeleton.toggleFloatStatus(t)}},{key:"render",value:function e(){var t,n,o,i,a=this.props.panel,u;if("rightArea"===(null===(t=this.props.panel.config)||void 0===t?void 0:t.area))return null;var c=!0;!1===(null==a||null===(n=a.config.props)||void 0===n?void 0:n.canSetFixed)&&(c=!1);var s=null==a||null===(o=a.config.props)||void 0===o?void 0:o.hideTitleBar,l=null==a||null===(i=a.parent)||void 0===i?void 0:i.name,f=a.skeleton[l];return React.createElement(r.Fragment,null,!s&&React.createElement(r.Fragment,null,c&&React.createElement(ea.Button,{text:!0,className:"lc-pane-icon-fix",onClick:this.setDisplay.bind(this)},"leftFloatArea"===l?React.createElement(Ea,null):React.createElement(Pa,null)),React.createElement(ea.Button,{text:!0,className:"lc-pane-icon-close",onClick:function e(){f&&f.setVisible(!1)}},React.createElement(ea.Icon,{type:"close"}))))}}]),n}(r.Component);Object(Kn.a)([a.action,Object(Kn.b)("design:type",Function),Object(Kn.b)("design:paramtypes",[]),Object(Kn.b)("design:returntype",void 0)],Ga.prototype,"setDisplay",null);var Ha=n(91),Ua=["dock","className","onClick"];function za(e){return(za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wa(Object(n),!0).forEach((function(t){iu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ka(e,t){if(null==e)return{};var n=Xa(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Xa(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function qa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ya(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,au(r.key),r)}}function Ja(e,t,n){return t&&Ya(e.prototype,t),n&&Ya(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Za(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qa(e,t)}function Qa(e,t){return(Qa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function eu(e){var t=ru();return function n(){var r=ou(e),o;if(t){var i=ou(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return tu(this,o)}}function tu(e,t){if(t&&("object"===za(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nu(e)}function nu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ru(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ou(e){return(ou=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function iu(e,t,n){return(t=au(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function au(e){var t=uu(e,"string");return"symbol"===za(t)?t:String(t)}function uu(e,t){if("object"!==za(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==za(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function cu(e){var t=e.title,n=e.icon,r=e.description,o=e.size,i=e.className,u=e.onClick;return React.createElement(a.Title,{title:ua(t,n,r),className:rr()("lc-dock",i,iu({},"lc-dock-".concat(o),o)),onClick:u})}function su(e){var t=e.tip;return t&&t.url?React.createElement("div",null,React.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},React.createElement(ea.Icon,{type:"help",size:"small",className:"lc-help-tip"})),React.createElement(a.Tip,null,t.content)):React.createElement("div",null,React.createElement(ea.Icon,{type:"help",size:"small",className:"lc-help-tip"}),React.createElement(a.Tip,null,t.content))}var lu=function(e){Za(n,e);var t=eu(n);function n(){var e;qa(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).lastActived=!1,e}return Ja(n,[{key:"componentDidMount",value:function e(){this.checkActived()}},{key:"componentDidUpdate",value:function e(){this.checkActived()}},{key:"checkActived",value:function e(){var t=this.props.dock;t.actived!==this.lastActived&&(this.lastActived=t.actived,this.lastActived?t.skeleton.postEvent(Bc.PANEL_DOCK_ACTIVE,t.name,t):t.skeleton.postEvent(Bc.PANEL_DOCK_UNACTIVE,t.name,t))}},{key:"render",value:function e(){var t=this.props,n=t.dock,r=t.className,o=t.onClick,i;return cu($a($a({},Ka(t,Ua)),{},{className:rr()(r,{actived:n.actived}),onClick:function e(){o&&o(),n.togglePanel()}}))}}]),n}(r.Component);lu=Object(Kn.a)([a.observer],lu);var fu=function(e){Za(n,e);var t=eu(n);function n(){return qa(this,n),t.apply(this,arguments)}return Ja(n)}(r.Component),pu=function(e){Za(n,e);var t=eu(n);function n(){var e;qa(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).shell=void 0,e.defaultWidth=void 0,e}return Ja(n,[{key:"getDefaultWidth",value:function e(){var t,n,r,o=null===(t=this.props.panel)||void 0===t||null===(n=t.config.props)||void 0===n?void 0:n.width;if(o)return o;if(this.defaultWidth)return this.defaultWidth;var i=null===(r=this.shell)||void 0===r?void 0:r.getParent();return i?(this.defaultWidth=i.offsetWidth,this.defaultWidth):300}},{key:"onDrag",value:function e(t){var n,r,o=this.getDefaultWidth()+t,i=null===(n=this.shell)||void 0===n?void 0:n.getParent();i&&(i.style.width="".concat(o,"px"));var u=a.globalContext.get("workspace"),c=u.isActive?u.window.editor:a.globalContext.get("editor");null==c||c.eventBus.emit("dockpane.drag",o)}},{key:"onDragChange",value:function e(t){var n=a.globalContext.get("workspace"),r=n.isActive?n.window.editor:a.globalContext.get("editor");null==r||r.eventBus.emit("dockpane.dragchange",t),null==r||r.eventBus.emit("designer.builtinSimulator.disabledEvents","start"===t)}},{key:"render",value:function e(){var t,n,r,o=this,i=null===(t=this.props.panel.config.props)||void 0===t?void 0:t.enableDrag,a;return"rightArea"===(null===(n=this.props.panel.config)||void 0===n?void 0:n.area)||!i||"leftFixedArea"===(null===(r=this.props.panel)||void 0===r?void 0:r.parent.name)?null:React.createElement(ja,{ref:function e(t){o.shell=t},position:"right",className:"lc-engine-slate-draggable-line-right",onDrag:function e(t){return o.onDrag(t)},onDragStart:function e(){return o.onDragChange("start")},onDragEnd:function e(){return o.onDragChange("end")},maxIncrement:500,maxDecrement:0})}}]),n}(r.Component),hu=function(e){Za(n,e);var t=eu(n);function n(){var e;qa(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).lastVisible=!1,e}return Ja(n,[{key:"componentDidMount",value:function e(){this.checkVisible()}},{key:"componentDidUpdate",value:function e(){this.checkVisible()}},{key:"checkVisible",value:function e(){var t=this.props.panel,n=t.inited&&t.visible;n!==this.lastVisible&&(this.lastVisible=n,this.lastVisible?t.skeleton.postEvent(Bc.PANEL_SHOW,t.name,t):t.skeleton.postEvent(Bc.PANEL_HIDE,t.name,t))}},{key:"render",value:function e(){var t,n=this.props,r=n.panel,o=n.area;if(!r.inited)return null;var i=a.globalContext.get("workspace"),u=i.isActive?i.window.editor:a.globalContext.get("editor"),c=o?"".concat(o,"-").concat(r.name):r.name;return null==u||u.eventBus.emit("skeleton.panel.toggle",{name:c||"",status:r.visible?"show":"hide"}),React.createElement("div",{className:rr()("lc-titled-panel",{hidden:!r.visible}),id:c,"data-keep-visible-while-dragging":null===(t=r.config.props)||void 0===t?void 0:t.keepVisibleWhileDragging},React.createElement(Ga,{panel:r}),React.createElement(yu,{panel:r}),React.createElement("div",{className:"lc-panel-body"},r.body),React.createElement(pu,{panel:r}))}}]),n}(r.Component);hu=Object(Kn.a)([a.observer],hu);var du=function(e){Za(n,e);var t=eu(n);function n(){var e;qa(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).lastVisible=!1,e}return Ja(n,[{key:"componentDidMount",value:function e(){this.checkVisible()}},{key:"componentDidUpdate",value:function e(){this.checkVisible()}},{key:"checkVisible",value:function e(){var t=this.props.panel,n=t.inited&&t.visible;n!==this.lastVisible&&(this.lastVisible=n,this.lastVisible?(t.skeleton.postEvent(Bc.PANEL_SHOW,t.name,t),t.skeleton.postEvent("leftPanel.show",t.name,t)):(t.skeleton.postEvent(Bc.PANEL_HIDE,t.name,t),t.skeleton.postEvent("leftPanel.hide",t.name,t)))}},{key:"render",value:function e(){var t,n=this.props,r=n.panel,o=n.area,i=n.hideOperationRow,u=n.hideDragLine;if(!r.inited)return null;var c=a.globalContext.get("workspace"),s=c.isActive?c.window.editor:a.globalContext.get("editor"),l=o?"".concat(o,"-").concat(r.name):r.name;return null==s||s.eventBus.emit("skeleton.panel.toggle",{name:l||"",status:r.visible?"show":"hide"}),React.createElement("div",{className:rr()("lc-panel",{hidden:!r.visible}),id:l,"data-keep-visible-while-dragging":null===(t=r.config.props)||void 0===t?void 0:t.keepVisibleWhileDragging},!i&&React.createElement(Ga,{panel:r}),r.body,!u&&React.createElement(pu,{panel:r}))}}]),n}(r.Component);du=Object(Kn.a)([a.observer],du);var vu=function(e){Za(n,e);var t=eu(n);function n(){return qa(this,n),t.apply(this,arguments)}return Ja(n,[{key:"render",value:function e(){var t=this.props.container,n=[],r=[];return t.items.forEach((function(e){n.push(React.createElement(yu,{key:e.id,panel:e,className:"lc-tab-title"})),r.push(React.createElement(du,{key:e.id,panel:e,hideOperationRow:!0,hideDragLine:!0}))})),React.createElement("div",{className:"lc-tabs"},React.createElement("div",{className:"lc-tabs-title",onClick:function e(n){for(var r=n.currentTarget,o=n.target,i=r.firstElementChild;i&&!i.contains(o);)i=i.nextElementSibling;i&&t.active(i.dataset.name)}},n),React.createElement("div",{className:"lc-tabs-content"},r))}}]),n}(r.Component);vu=Object(Kn.a)([a.observer],vu);var yu=function(e){Za(n,e);var t=eu(n);function n(){return qa(this,n),t.apply(this,arguments)}return Ja(n,[{key:"render",value:function e(){var t=this.props,n=t.panel,r=t.className;return React.createElement("div",{className:rr()("lc-panel-title",r,{actived:n.actived}),"data-name":n.name},React.createElement(a.Title,{title:n.title||n.name}),n.help?React.createElement(su,{tip:n.help}):null)}}]),n}(r.Component);yu=Object(Kn.a)([a.observer],yu);var mu=function(e){Za(n,e);var t=eu(n);function n(){var e;qa(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).lastVisible=!1,e.lastDisabled=!1,e}return Ja(n,[{key:"componentDidMount",value:function e(){this.checkVisible(),this.checkDisabled()}},{key:"componentDidUpdate",value:function e(){this.checkVisible(),this.checkDisabled()}},{key:"checkVisible",value:function e(){var t=this.props.widget,n=t.visible;n!==this.lastVisible&&(this.lastVisible=n,this.lastVisible,t.skeleton.postEvent(Bc.WIDGET_SHOW,t.name,t))}},{key:"checkDisabled",value:function e(){var t=this.props.widget,n=t.disabled;n!==this.lastDisabled&&(this.lastDisabled=n,this.lastDisabled?t.skeleton.postEvent(Bc.WIDGET_DISABLE,t.name,t):t.skeleton.postEvent(Bc.WIDGET_ENABLE,t.name,t))}},{key:"render",value:function e(){var t=this.props.widget;return t.visible?t.disabled?React.createElement("div",{className:"lc-widget-disabled"},t.body):t.body:null}}]),n}(r.Component);function bu(e){return(bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gu(Object(n),!0).forEach((function(t){Ou(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ou(e,t,n){return(t=Eu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ju(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Eu(r.key),r)}}function Su(e,t,n){return t&&ju(e.prototype,t),n&&ju(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Eu(e){var t=ku(e,"string");return"symbol"===bu(t)?t:String(t)}function ku(e,t){if("object"!==bu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==bu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}mu=Object(Kn.a)([a.observer],mu);var Pu=function(){function e(t,n){_u(this,e),this.skeleton=void 0,this.config=void 0,this.isWidget=!0,this.isPanelDock=!0,this.id=void 0,this.name=void 0,this.align=void 0,this.inited=!1,this._body=void 0,this._shell=null,this._visible=!0,this.panelName=void 0,this._panel=void 0,this._disabled=!1,this.skeleton=t,this.config=n,Object(a.makeObservable)(this);var r=n.content,o=n.contentProps,i=n.panelProps,u=n.name,c=n.props;if(this.name=u,this.id=Object(V.cb)("dock:".concat(u,"$")),this.panelName=n.panelName||u,this.align=null==c?void 0:c.align,r){var s=wu({},i);null==s.title&&c&&(s.title=ua(c.title,void 0,c.description,!0,!0)),this._panel=this.skeleton.add({type:"Panel",name:this.panelName,props:s,contentProps:o,content:r,area:null==i?void 0:i.area})}null!=c&&c.onInit&&c.onInit.call(this,this)}return Su(e,[{key:"body",get:function e(){if(this.inited)return this._body;this.inited=!0;var t=this.config.props;return this._body=Object(r.createElement)(lu,wu(wu({},t),{},{dock:this})),this._body}},{key:"content",get:function e(){var t=this;return Object(r.createElement)(mu,{widget:this,ref:function e(n){t._shell=n},key:this.id})}},{key:"getDOMNode",value:function e(){return this._shell?Object(i.findDOMNode)(this._shell):null}},{key:"visible",get:function e(){return this._visible}},{key:"actived",get:function e(){var t;return(null===(t=this.panel)||void 0===t?void 0:t.visible)||!1}},{key:"panel",get:function e(){return this._panel||this.skeleton.getPanel(this.panelName)}},{key:"setVisible",value:function e(t){t!==this._visible&&(t?this._visible=!0:this.inited&&(this._visible=!1))}},{key:"hide",value:function e(){this.setVisible(!1)}},{key:"show",value:function e(){this.setVisible(!0)}},{key:"toggle",value:function e(){this.setVisible(!this._visible)}},{key:"setDisabled",value:function e(t){this._disabled!==t&&(this._disabled=t)}},{key:"disable",value:function e(){this.setDisabled(!0)}},{key:"enable",value:function e(){this.setDisabled(!1)}},{key:"disabled",get:function e(){return this._disabled}},{key:"togglePanel",value:function e(){var t;null===(t=this.panel)||void 0===t||t.toggle()}},{key:"getName",value:function e(){return this.name}},{key:"getContent",value:function e(){return this.content}},{key:"hidePanel",value:function e(){var t;null===(t=this.panel)||void 0===t||t.setActive(!1)}},{key:"showPanel",value:function e(){var t;null===(t=this.panel)||void 0===t||t.setActive(!0)}},{key:"onActiveChange",value:function e(t){var n;return null===(n=this.panel)||void 0===n?void 0:n.onActiveChange(t)}}]),e}(),xu;function Nu(e){return e&&e.isPanelDock}function Cu(e){return(Cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ru(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tu(Object(n),!0).forEach((function(t){Au(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Au(e,t,n){return(t=Iu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Iu(r.key),r)}}function Du(e,t,n){return t&&Mu(e.prototype,t),n&&Mu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Iu(e){var t=Bu(e,"string");return"symbol"===Cu(t)?t:String(t)}function Bu(e,t){if("object"!==Cu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Cu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(Kn.a)([a.obx.ref,Object(Kn.b)("design:type",Object)],Pu.prototype,"_visible",void 0),Object(Kn.a)([a.computed,Object(Kn.b)("design:type",Boolean),Object(Kn.b)("design:paramtypes",[])],Pu.prototype,"actived",null),Object(Kn.a)([a.obx.ref,Object(Kn.b)("design:type",Object)],Pu.prototype,"_disabled",void 0),Object(Kn.a)([a.computed,Object(Kn.b)("design:type",Object),Object(Kn.b)("design:paramtypes",[])],Pu.prototype,"panel",null);var Vu=function(){function e(t,n){var r=this;Lu(this,e),this.skeleton=void 0,this.config=void 0,this.isWidget=!0,this.name=void 0,this.id=void 0,this.inited=!1,this._actived=!1,this.emitter=Object(a.createModuleEventBus)("Panel"),this.isPanel=!0,this.title=void 0,this.help=void 0,this.plain=!1,this.container=void 0,this.parent=void 0,this.skeleton=t,this.config=n,Object(a.makeObservable)(this);var o=n.name,i=n.content,u=n.props,c=void 0===u?{}:u,s=c.hideTitleBar,l=c.title,f=c.icon,p=c.description,h=c.help;this.name=o,this.id=Object(V.cb)("pane:".concat(o,"$")),this.title=ua(l||o,f,p),this.plain=s||!l,this.help=h,Array.isArray(i)&&(i.length,this.container=this.skeleton.createContainer(o,(function(e){return Fu(e)?e:r.skeleton.createPanel(e)}),!0,(function(){return r.visible}),!0),i.forEach((function(e){return r.add(e)}))),c.onInit&&c.onInit.call(this,this),i.onInit&&i.onInit.call(this,this)}return Du(e,[{key:"actived",get:function e(){return this._actived}},{key:"visible",get:function e(){if(!this.parent||this.parent.visible){var t=this.config.props;return null!=t&&t.condition?t.condition(this):this._actived}return!1}},{key:"body",get:function e(){if(this.container)return Object(r.createElement)(vu,{container:this.container});var t=this.config,n=t.content,o=t.contentProps;return Object(V.m)(n,Ru(Ru({},o),{},{editor:nh(this.skeleton.editor),config:this.config,panel:this,pane:this}))}},{key:"content",get:function e(){var t,n,o=(null===(t=this.config)||void 0===t?void 0:t.area)||(null===(n=this.parent)||void 0===n?void 0:n.name);return this.plain?Object(r.createElement)(du,{panel:this,key:this.id,area:o}):Object(r.createElement)(hu,{panel:this,key:this.id,area:o})}},{key:"setParent",value:function e(t){t!==this.parent&&(this.parent&&this.parent.remove(this),this.parent=t)}},{key:"add",value:function e(t){var n;return null===(n=this.container)||void 0===n?void 0:n.add(t)}},{key:"getPane",value:function e(t){var n;return(null===(n=this.container)||void 0===n?void 0:n.get(t))||null}},{key:"remove",value:function e(t){var n;return null===(n=this.container)||void 0===n?void 0:n.remove(t)}},{key:"active",value:function e(t){var n;t?null===(n=this.container)||void 0===n||n.active(t):this.setActive(!0)}},{key:"getName",value:function e(){return this.name}},{key:"getContent",value:function e(){return this.content}},{key:"isChildOfFloatArea",value:function e(){var t;return"leftFloatArea"===(null===(t=this.parent)||void 0===t?void 0:t.name)}},{key:"isChildOfFixedArea",value:function e(){var t;return"leftFixedArea"===(null===(t=this.parent)||void 0===t?void 0:t.name)}},{key:"setActive",value:function e(t){var n;if(t!==this._actived)if(t)this.isChildOfFloatArea()?this.skeleton.leftFixedArea.container.unactiveAll():this.isChildOfFixedArea()&&this.skeleton.leftFloatArea.container.unactiveAll(),this._actived=!0,null===(n=this.parent)||void 0===n||n.active(this),this.inited||(this.inited=!0),this.emitter.emit("activechange",!0);else if(this.inited){var r,o;null!==(r=this.parent)&&void 0!==r&&r.name&&this.name.startsWith(this.parent.name)&&(this.inited=!1),this._actived=!1,null===(o=this.parent)||void 0===o||o.unactive(this),this.emitter.emit("activechange",!1)}}},{key:"toggle",value:function e(){this.setActive(!this._actived)}},{key:"hide",value:function e(){this.setActive(!1)}},{key:"show",value:function e(){this.setActive(!0)}},{key:"getAssocDocks",value:function e(){var t=this;return this.skeleton.widgets.filter((function(e){return Nu(e)&&e.panelName===t.name}))}},{key:"getSupportedPositions",value:function e(){return["default"]}},{key:"getCurrentPosition",value:function e(){return"default"}},{key:"setPosition",value:function e(){}},{key:"onActiveChange",value:function e(t){var n=this;return this.emitter.on("activechange",t),function(){n.emitter.removeListener("activechange",t)}}}]),e}();function Fu(e){return e&&e.isPanel}function Gu(e){return(Gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hu(Object(n),!0).forEach((function(t){zu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zu(e,t,n){return(t=Xu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xu(r.key),r)}}function Ku(e,t,n){return t&&$u(e.prototype,t),n&&$u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xu(e){var t=qu(e,"string");return"symbol"===Gu(t)?t:String(t)}function qu(e,t){if("object"!==Gu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Gu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(Kn.a)([a.obx.ref,Object(Kn.b)("design:type",Object)],Vu.prototype,"inited",void 0),Object(Kn.a)([a.obx.ref,Object(Kn.b)("design:type",Object)],Vu.prototype,"_actived",void 0),Object(Kn.a)([a.computed,Object(Kn.b)("design:type",Boolean),Object(Kn.b)("design:paramtypes",[])],Vu.prototype,"actived",null),Object(Kn.a)([a.computed,Object(Kn.b)("design:type",Boolean),Object(Kn.b)("design:paramtypes",[])],Vu.prototype,"visible",null),Object(Kn.a)([a.obx.ref,Object(Kn.b)("design:type","function"==typeof(xu=void 0!==Qi&&Qi)?xu:Object)],Vu.prototype,"parent",void 0);var Yu=function(){function e(t,n){Wu(this,e),this.skeleton=void 0,this.config=void 0,this.isWidget=!0,this.id=Object(V.cb)("widget"),this.name=void 0,this.align=void 0,this._visible=!0,this.inited=!1,this._disabled=!1,this._body=void 0,this.title=void 0,this.skeleton=t,this.config=n,Object(a.makeObservable)(this);var r=n.props,o=void 0===r?{}:r,i=n.name;this.name=i,this.align=o.align,this.title=o.title||i,o.onInit&&o.onInit.call(this,this)}return Ku(e,[{key:"visible",get:function e(){return this._visible}},{key:"body",get:function e(){if(this.inited)return this._body;this.inited=!0;var t=this.config,n=t.content,r=t.contentProps;return this._body=Object(V.m)(n,Uu(Uu({},r),{},{config:this.config,editor:nh(this.skeleton.editor)})),this._body}},{key:"content",get:function e(){return Object(r.createElement)(mu,{widget:this,key:this.id})}},{key:"getId",value:function e(){return this.id}},{key:"getName",value:function e(){return this.name}},{key:"getContent",value:function e(){return this.content}},{key:"hide",value:function e(){this.setVisible(!1)}},{key:"show",value:function e(){this.setVisible(!0)}},{key:"setVisible",value:function e(t){t!==this._visible&&(t?this._visible=!0:this.inited&&(this._visible=!1))}},{key:"toggle",value:function e(){this.setVisible(!this._visible)}},{key:"setDisabled",value:function e(t){this._disabled!==t&&(this._disabled=t)}},{key:"disable",value:function e(){this.setDisabled(!0)}},{key:"enable",value:function e(){this.setDisabled(!1)}},{key:"disabled",get:function e(){return this._disabled}}]),e}();function Ju(e){return e&&e.isWidget}function Zu(e){return(Zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qu(Object(n),!0).forEach((function(t){tc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tc(e,t,n){return(t=ic(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ic(r.key),r)}}function oc(e,t,n){return t&&rc(e.prototype,t),n&&rc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ic(e){var t=ac(e,"string");return"symbol"===Zu(t)?t:String(t)}function ac(e,t){if("object"!==Zu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Zu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(Kn.a)([a.obx.ref,Object(Kn.b)("design:type",Object)],Yu.prototype,"_visible",void 0),Object(Kn.a)([a.obx.ref,Object(Kn.b)("design:type",Object)],Yu.prototype,"inited",void 0),Object(Kn.a)([a.obx.ref,Object(Kn.b)("design:type",Object)],Yu.prototype,"_disabled",void 0);var uc=function(){function e(t,n){nc(this,e),this.skeleton=void 0,this.config=void 0,this.isWidget=!0,this.id=Object(V.cb)("dock"),this.name=void 0,this.align=void 0,this._visible=!0,this._disabled=!1,this.inited=!1,this._body=void 0,this.skeleton=t,this.config=n,Object(a.makeObservable)(this);var r=n.props,o=void 0===r?{}:r,i=n.name;this.name=i,this.align=o.align,o.onInit&&o.onInit.call(this,this)}return oc(e,[{key:"visible",get:function e(){return this._visible}},{key:"content",get:function e(){return Object(r.createElement)(mu,{widget:this,key:this.id})}},{key:"body",get:function e(){if(this.inited)return this._body;var t=this.config,n=t.props,o=t.content,i=t.contentProps;return this._body=o?Object(V.m)(o,ec(ec({},i),{},{config:this.config,editor:nh(this.skeleton.editor)})):Object(r.createElement)(cu,n),this.inited=!0,this._body}},{key:"setVisible",value:function e(t){t!==this._visible&&(t?this._visible=!0:this.inited&&(this._visible=!1))}},{key:"setDisabled",value:function e(t){this._disabled!==t&&(this._disabled=t)}},{key:"disable",value:function e(){this.setDisabled(!0)}},{key:"enable",value:function e(){this.setDisabled(!1)}},{key:"disabled",get:function e(){return this._disabled}},{key:"getContent",value:function e(){return this.content}},{key:"getName",value:function e(){return this.name}},{key:"hide",value:function e(){this.setVisible(!1)}},{key:"show",value:function e(){this.setVisible(!0)}},{key:"toggle",value:function e(){this.setVisible(!this._visible)}}]),e}();function cc(e){return(cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pc(r.key),r)}}function fc(e,t,n){return t&&lc(e.prototype,t),n&&lc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pc(e){var t=hc(e,"string");return"symbol"===cc(t)?t:String(t)}function hc(e,t){if("object"!==cc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==cc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function dc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vc(e,t)}function vc(e,t){return(vc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function yc(e){var t=gc();return function n(){var r=wc(e),o;if(t){var i=wc(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return mc(this,o)}}function mc(e,t){if(t&&("object"===cc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bc(e)}function bc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gc(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function wc(e){return(wc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object(Kn.a)([a.obx.ref,Object(Kn.b)("design:type",Object)],uc.prototype,"_visible",void 0),Object(Kn.a)([a.obx.ref,Object(Kn.b)("design:type",Object)],uc.prototype,"_disabled",void 0);var Oc=function(e){dc(n,e);var t=yc(n);function n(e,r){var o;return sc(this,n),(o=t.call(this,e,r)).isRoot=void 0,o.previous=void 0,o.refer=void 0,o.isRoot=r.isRoot||!1,o}return fc(n,[{key:"setPrevious",value:function e(t){this.previous=t}},{key:"getPrevious",value:function e(){return this.previous}},{key:"hasBack",value:function e(){return!(!this.previous||this.isRoot)}},{key:"setRefer",value:function e(t,n){this.refer={stage:t,direction:n}}},{key:"setReferRight",value:function e(t){this.setRefer(t,"right")}},{key:"setReferLeft",value:function e(t){this.setRefer(t,"left")}},{key:"getRefer",value:function e(){var t=this.refer;return this.refer=void 0,t}}]),n}(Yu),_c=["dialogProps","balloonProps","panelProps","linkProps"],jc=["content"],Sc,Ec;function kc(e){return(kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pc(Object(n),!0).forEach((function(t){Nc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nc(e,t,n){return(t=Mc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cc(e,t){if(null==e)return{};var n=Tc(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Tc(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function Rc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ac(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mc(r.key),r)}}function Lc(e,t,n){return t&&Ac(e.prototype,t),n&&Ac(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mc(e){var t=Dc(e,"string");return"symbol"===kc(t)?t:String(t)}function Dc(e,t){if("object"!==kc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==kc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Ic=new V.e({level:"warn",bizName:"skeleton"}),Bc;!function(e){e.PANEL_DOCK_ACTIVE="skeleton.panel-dock.active",e.PANEL_DOCK_UNACTIVE="skeleton.panel-dock.unactive",e.PANEL_SHOW="skeleton.panel.show",e.PANEL_HIDE="skeleton.panel.hide",e.WIDGET_SHOW="skeleton.widget.show",e.WIDGET_HIDE="skeleton.widget.hide",e.WIDGET_DISABLE="skeleton.widget.disable",e.WIDGET_ENABLE="skeleton.widget.enable"}(Bc||(Bc={}));var Vc=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";Rc(this,e),this.editor=void 0,this.viewName=void 0,this.panels=new Map,this.containers=new Map,this.leftArea=void 0,this.topArea=void 0,this.subTopArea=void 0,this.toolbar=void 0,this.leftFixedArea=void 0,this.leftFloatArea=void 0,this.rightArea=void 0,this.mainArea=void 0,this.bottomArea=void 0,this.stages=void 0,this.widgets=[],this.editor=t,this.viewName=r,Object(a.makeObservable)(this),this.leftArea=new tr(this,"leftArea",(function(e){return Ju(e)?e:n.createWidget(e)}),!1),this.topArea=new tr(this,"topArea",(function(e){return Ju(e)?e:n.createWidget(e)}),!1),this.subTopArea=new tr(this,"subTopArea",(function(e){return Ju(e)?e:n.createWidget(e)}),!1),this.toolbar=new tr(this,"toolbar",(function(e){return Ju(e)?e:n.createWidget(e)}),!1),this.leftFixedArea=new tr(this,"leftFixedArea",(function(e){return Fu(e)?e:n.createPanel(e)}),!0),this.leftFloatArea=new tr(this,"leftFloatArea",(function(e){return Fu(e)?e:n.createPanel(e)}),!0),this.rightArea=new tr(this,"rightArea",(function(e){return Fu(e)?e:n.createPanel(e)}),!1,!0),this.mainArea=new tr(this,"mainArea",(function(e){return Ju(e)?e:n.createWidget(e)}),!0,!0),this.bottomArea=new tr(this,"bottomArea",(function(e){return Fu(e)?e:n.createPanel(e)}),!0),this.stages=new tr(this,"stages",(function(e){return Ju(e)?e:new Oc(n,e)})),this.setupPlugins(),this.setupEvents()}return Lc(e,[{key:"setupEvents",value:function e(){var t=this;this.editor.eventBus.on(Bc.PANEL_SHOW,(function(e,n){var r,o="".concat(e,"-pinned-status-isFloat"),i,u,c,s;(null===(r=a.engineConfig.getPreference())||void 0===r?void 0:r.contains(o,"skeleton"))&&((null===(u=a.engineConfig.getPreference())||void 0===u?void 0:u.get(o,"skeleton"))!==(null==n?void 0:n.isChildOfFloatArea())&&t.toggleFloatStatus(n))}))}},{key:"toggleFloatStatus",value:function e(t){var n,r="leftFloatArea"===(null==t||null===(n=t.parent)||void 0===n?void 0:n.name);r?(this.leftFloatArea.remove(t),this.leftFixedArea.add(t),this.leftFixedArea.container.active(t)):(this.leftFixedArea.remove(t),this.leftFloatArea.add(t),this.leftFloatArea.container.active(t)),a.engineConfig.getPreference().set("".concat(t.name,"-pinned-status-isFloat"),!r,"skeleton")}},{key:"buildFromConfig",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&this.editor.init(t,n),this.setupPlugins()}},{key:"setupPlugins",value:function e(){var t=this,n=this.editor,r=n.config,o=n.components,i=void 0===o?{}:o;if(r){var a=r.plugins;a&&Object.keys(a).forEach((function(e){a[e].forEach((function(n){var r=n.pluginKey,o=n.type,a=n.props,u=void 0===a?{}:a,c=n.pluginProps,s={area:e,type:"Widget",name:r,contentProps:c},l=u.dialogProps,f=u.balloonProps,p=u.panelProps,h=u.linkProps,d=Cc(u,_c);s.props=d,l&&(s.dialogProps=l),f&&(s.balloonProps=f),p&&(s.panelProps=p),h&&(s.linkProps=h),"TabPanel"===o?s.type="Panel":/Icon$/.test(o)&&(s.type=o.replace("Icon","Dock")),r in i&&(s.content=i[r]),t.add(s)}))}))}}},{key:"postEvent",value:function e(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this.editor.eventBus).emit.apply(n,[t].concat(o))}},{key:"createWidget",value:function e(t){return Ju(t)?t:(n=Hi(t=this.parseConfig(t))?Wi(t)?new Pu(this,t):new uc(this,t):Gi(t)?new Yu(this,xc(xc({},t),{},{type:"Widget",content:ea.Divider})):zi(t)?this.createPanel(t):new Yu(this,t),this.widgets.push(n),n);var n}},{key:"getWidget",value:function e(t){return this.widgets.find((function(e){return e.name===t}))}},{key:"createPanel",value:function e(t){var n=this.parseConfig(t),r=new Vu(this,n);return this.panels.set(r.name,r),Ic.debug("Panel created with name: ".concat(r.name," \nconfig:"),t,"\n current panels: ",this.panels),r}},{key:"getPanel",value:function e(t){return this.panels.get(t)}},{key:"getStage",value:function e(t){return this.stages.container.get(t)}},{key:"createStage",value:function e(t){var n,r=this.add(xc({name:Object(V.cb)("stage"),area:"stages"},t));return null==r||null===(n=r.getName)||void 0===n?void 0:n.call(r)}},{key:"createContainer",value:function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=new Qi(t,n,r,o,i);return this.containers.set(t,a),a}},{key:"parseConfig",value:function e(t){if(t.parsed)return t;var n=t.content,o=Cc(t,jc);return n&&(Object(V.P)(n)&&!Object(r.isValidElement)(n)?Object.keys(n).forEach((function(e){/props$/i.test(e)&&o[e]?o[e]=xc(xc({},o[e]),n[e]):o[e]=n[e]})):o.content=n),o.pluginKey=o.name,o.parsed=!0,o}},{key:"add",value:function e(t,n){var r=xc(xc({},this.parseConfig(t)),n),o=r.area;switch(o||(o="Panel"===r.type?"leftFloatArea":"Widget"===r.type?"mainArea":"leftArea"),o){case"leftArea":case"left":return this.leftArea.add(r);case"rightArea":case"right":return this.rightArea.add(r);case"topArea":case"top":return this.topArea.add(r);case"subTopArea":return this.subTopArea.add(r);case"toolbar":return this.toolbar.add(r);case"mainArea":case"main":case"center":case"centerArea":return this.mainArea.add(r);case"bottomArea":case"bottom":return this.bottomArea.add(r);case"leftFixedArea":return this.leftFixedArea.add(r);case"leftFloatArea":return this.leftFloatArea.add(r);case"stages":return this.stages.add(r)}}}]),e}();Object(Kn.a)([a.obx,Object(Kn.b)("design:type","function"==typeof(Sc=void 0!==tr&&tr)?Sc:Object)],Vc.prototype,"mainArea",void 0),Object(Kn.a)([a.action,Object(Kn.b)("design:type",Function),Object(Kn.b)("design:paramtypes",["function"==typeof(Ec=void 0!==Vu&&Vu)?Ec:Object]),Object(Kn.b)("design:returntype",void 0)],Vc.prototype,"toggleFloatStatus",null);var Fc=n(92),Gc;function Hc(e){return(Hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uc(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Uc=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(k([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==Hc(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=_(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function zc(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Wc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){zc(i,r,o,a,u,"next",e)}function u(e){zc(i,r,o,a,u,"throw",e)}a(void 0)}))}}function $c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qc(r.key),r)}}function Xc(e,t,n){return t&&Kc(e.prototype,t),n&&Kc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qc(e){var t=Yc(e,"string");return"symbol"===Hc(t)?t:String(t)}function Yc(e,t){if("object"!==Hc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Hc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Jc(e){return e.map((function(e){return e.id})).sort().join(",")}var Zc=function(){function e(t){$c(this,e),this.editor=void 0,this.emitter=Object(a.createModuleEventBus)("SettingsMain"),this._sessionId="",this._settings=void 0,this.disposeListener=void 0,this.designer=void 0,this.editor=t,Object(a.makeObservable)(this),this.init()}return Xc(e,[{key:"length",get:function e(){var t;return null===(t=this._settings)||void 0===t?void 0:t.nodes.length}},{key:"componentMeta",get:function e(){var t;return null===(t=this._settings)||void 0===t?void 0:t.componentMeta}},{key:"settings",get:function e(){return this._settings}},{key:"init",value:function(){var e=Wc(Uc().mark((function e(){var t=this,n,r;return Uc().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return n=function e(n){n?t.setup(n.getNodes()):t.setup([])},this.editor.eventBus.on("designer.selection.change",n),this.disposeListener=function(){t.editor.removeListener("designer.selection.change",n)},o.next=5,this.editor.onceGot("designer");case 5:r=o.sent,this.designer=r,n(r.currentSelection);case 8:case"end":return o.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setup",value:function e(t){var n=Jc(t);n!==this._sessionId&&(this._sessionId=n,t.length<1?this._settings=void 0:(this.designer||(this.designer=t[0].document.designer),1===t.length?this._settings=t[0].settingEntry:this._settings=this.designer.createSettingEntry(t)))}},{key:"purge",value:function e(){this.disposeListener(),this.emitter.removeAllListeners()}}]),e}();Object(Kn.a)([a.obx.ref,Object(Kn.b)("design:type","function"==typeof(Gc=void 0!==$k&&$k)?Gc:Object)],Zc.prototype,"_settings",void 0),Object(Kn.a)([a.computed,Object(Kn.b)("design:type",Object),Object(Kn.b)("design:paramtypes",[])],Zc.prototype,"length",null),Object(Kn.a)([a.computed,Object(Kn.b)("design:type",Object),Object(Kn.b)("design:paramtypes",[])],Zc.prototype,"componentMeta",null),Object(Kn.a)([a.computed,Object(Kn.b)("design:type",Object),Object(Kn.b)("design:paramtypes",[])],Zc.prototype,"settings",null),Object(Kn.a)([a.action,Object(Kn.b)("design:type",Function),Object(Kn.b)("design:paramtypes",[Array]),Object(Kn.b)("design:returntype",void 0)],Zc.prototype,"setup",null);var Qc=n(45),es=n(8),ts=n(93);function ns(e){return(ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&os(e,t)}function os(e,t){return(os=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function is(e){var t=cs();return function n(){var r=ss(e),o;if(t){var i=ss(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return as(this,o)}}function as(e,t){if(t&&("object"===ns(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return us(e)}function us(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cs(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ss(e){return(ss=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ls(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ls(Object(n),!0).forEach((function(t){ps(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ls(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ps(e,t,n){return(t=ys(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ys(r.key),r)}}function vs(e,t,n){return t&&ds(e.prototype,t),n&&ds(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ys(e){var t=ms(e,"string");return"symbol"===ns(t)?t:String(t)}function ms(e,t){if("object"!==ns(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ns(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var bs=Object(r.createContext)({}),gs=function(){function e(){hs(this,e),this.emitter=Object(a.createModuleEventBus)("PopupPipe"),this.currentId=void 0}return vs(e,[{key:"create",value:function e(t){var n=this,r=null,o=null,i=Object(V.cb)("popup");return{send:function e(a,u){r=a,o=u,n.currentId===i&&n.popup(fs(fs({},t),{},{content:a,title:u}))},show:function e(a,u){n.currentId=i,n.popup(fs(fs({},t),{},{actionKey:u,content:r,title:o}),a)}}}},{key:"popup",value:function e(t,n){var r=this;Promise.resolve().then((function(){r.emitter.emit("popupchange",t,n)}))}},{key:"onPopupChange",value:function e(t){var n=this;return this.emitter.on("popupchange",t),function(){n.emitter.removeListener("popupchange",t)}}},{key:"purge",value:function e(){this.emitter.removeAllListeners()}}]),e}(),ws=function(e){rs(n,e);var t=is(n);function n(){var e;hs(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).popupPipe=e.props.popupPipe||new gs,e}return vs(n,[{key:"componentWillUnmount",value:function e(){this.popupPipe.purge()}},{key:"render",value:function e(){var t=this.props,n=t.children,r=t.actionKey,o=t.safeId,i=t.popupContainer;return React.createElement(bs.Provider,{value:this.popupPipe},n,React.createElement(Os,{key:"pop".concat(r),safeId:o,popupContainer:i}))}}]),n}(r.Component),Os=function(e){rs(n,e);var t=is(n);function n(){var e;hs(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).popupContainerId=Object(V.cb)("popupContainer"),e.state={visible:!1,offsetX:-300},e.dispose=e.context.onPopupChange((function(t,n){var r=fs(fs({},t),{},{visible:!0});if(n){var o=n.getBoundingClientRect();r.pos={top:o.top,height:o.height}}e.setState(r)})),e.onClose=function(){e.setState({visible:!1})},e}return vs(n,[{key:"componentDidMount",value:function e(){var t;(document.documentElement.clientWidth||document.body.clientWidth)>=1860&&this.setState({offsetX:-400})}},{key:"componentWillUnmount",value:function e(){this.dispose()}},{key:"render",value:function e(){var t=this,n=this.state,r=n.content,o=n.visible,i=n.title,a=n.actionKey,u=n.pos,c=n.offsetX;if(!o)return null;var s=!0;setTimeout((function(){s=!1}),10);var l=Object(V.cb)("ball");return React.createElement(ea.Drawer,{width:360,visible:o,offset:[c,0],hasMask:!1,onVisibleChange:function e(n,r){s||n||"closeClick"!==r||t.setState({visible:!1})},trigger:React.createElement("div",{className:"lc-popup-placeholder",style:u}),triggerType:"click",canCloseByOutSideClick:!0,animation:!1,onClose:this.onClose,id:this.props.safeId,safeNode:l,closeable:!0,container:this.props.popupContainer},React.createElement("div",{className:"lc-ballon-title"},i),React.createElement("div",{className:"lc-ballon-content"},React.createElement(ws,{actionKey:a,safeId:l,popupContainer:this.popupContainerId},React.createElement(ea.ConfigProvider,{popupContainer:this.popupContainerId},r))),React.createElement("div",{id:this.popupContainerId}),React.createElement("div",{id:"engine-variable-setter-dialog"}),React.createElement("div",{id:"engine-popup-container"}))}}]),n}(r.PureComponent);function _s(e){return(_s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function js(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ss(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ks(r.key),r)}}function Es(e,t,n){return t&&Ss(e.prototype,t),n&&Ss(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ks(e){var t=Ps(e,"string");return"symbol"===_s(t)?t:String(t)}function Ps(e,t){if("object"!==_s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function xs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ns(e,t)}function Ns(e,t){return(Ns=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Cs(e){var t=As();return function n(){var r=Ls(e),o;if(t){var i=Ls(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Ts(this,o)}}function Ts(e,t){if(t&&("object"===_s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Rs(e)}function Rs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function As(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ls(e){return(Ls=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Os.contextType=bs;var Ms=function(e){xs(n,e);var t=Cs(n);function n(){return js(this,n),t.apply(this,arguments)}return Es(n,[{key:"render",value:function e(){var t=this.props,n=t.position,o=t.theme,i=t.children;return r.createElement("div",{style:{display:"none"},"data-role":"tip","data-position":n,"data-theme":o},i)}}]),n}(r.Component);Ms.displayName="InlineTip",Ms.defaultProps={position:"auto",theme:"black"};var Ds=n(56),Is=n(57),Bs=Object(a.createIntl)({"en-US":Ds,"zh-CN":Is}),Vs=Bs.intl,Fs=Bs.intlNode,Gs=Bs.getLocale,Hs=Bs.setLocale;function Us(e){return(Us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ws(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ks(r.key),r)}}function $s(e,t,n){return t&&Ws(e.prototype,t),n&&Ws(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ks(e){var t=Xs(e,"string");return"symbol"===Us(t)?t:String(t)}function Xs(e,t){if("object"!==Us(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Us(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function qs(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ys(e,t)}function Ys(e,t){return(Ys=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Js(e){var t=el();return function n(){var r=tl(e),o;if(t){var i=tl(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Zs(this,o)}}function Zs(e,t){if(t&&("object"===Us(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qs(e)}function Qs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function el(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function tl(e){return(tl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var nl=function(e){qs(n,e);var t=Js(n);function n(e){var r;return zs(this,n),(r=t.call(this,e)).state={collapsed:r.props.collapsed,display:r.props.defaultDisplay||"inline",hasError:!1},r.toggleExpand=function(){var e=r.props.onExpandChange,t=!r.state.collapsed;r.setState({collapsed:t}),e&&e(!t)},r.body=null,r.dispose=void 0,r.handleClear=r.handleClear.bind(Qs(r)),r.clickHandler=r.clickHandler.bind(Qs(r)),r}return $s(n,[{key:"deployBlockTesting",value:function e(){var t=this;this.dispose&&this.dispose();var n=this.body;if(n){var r=function e(){var r=n.firstElementChild;r&&r.classList.contains("lc-block-setter")?t.setState({display:"block"}):t.setState({display:"inline"})},o=new MutationObserver(r);r(),o.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]}),this.dispose=function(){return o.disconnect()}}}},{key:"handleClear",value:function e(t){t.stopPropagation(),this.props.onClear&&this.props.onClear()}},{key:"componentDidMount",value:function e(){var t=this.props.defaultDisplay;t&&"inline"!==t||this.deployBlockTesting()}},{key:"componentWillUnmount",value:function e(){this.dispose&&this.dispose()}},{key:"getTipContent",value:function e(t,n){var r=React.createElement("div",null,React.createElement("div",null,Vs("Attribute: "),t));return Object(es.isObject)(n)?r=React.createElement("div",null,React.createElement("div",null,Vs("Attribute: "),t),React.createElement("div",null,Vs("Description: "),n.content)):n&&(r=React.createElement("div",null,React.createElement("div",null,Vs("Attribute: "),t),React.createElement("div",null,Vs("Description: "),n))),r}},{key:"clickHandler",value:function e(t){var n=this.props,r=n.editor,o=n.name,i=n.title,a=n.meta;null==r||r.eventBus.emit("setting.setter.field.click",{name:o,title:i,meta:a,event:t})}},{key:"render",value:function e(){var t=this,n;if(this.state.hasError)return null;var r=this.props,o=r.className,i=r.children,u=r.meta,c=r.title,s=r.valueState,l=r.name,f=r.tip,p=this.state,h=p.display,d=p.collapsed,v="accordion"===h,y="";"object"===Us(u)?y="".concat((null==u?void 0:u.package)||"","-").concat(u.componentName||""):"string"==typeof u&&(y=u);var m="".concat(y,"-").concat(l||c["en-US"]||c["zh-CN"]),b=this.getTipContent(l,f);return React.createElement("div",{className:rr()("lc-field lc-".concat(h,"-field"),o,{"lc-field-is-collapsed":v&&d}),id:m},"plain"!==h&&React.createElement("div",{className:"lc-field-head",onClick:v?this.toggleExpand:void 0},React.createElement("div",{className:"lc-field-title"},(this.handleClear,null),React.createElement(a.Title,{title:c||"",onClick:this.clickHandler}),React.createElement(Ms,{position:"top"},b)),v&&React.createElement(ea.Icon,{className:"lc-field-icon",type:"arrow-up",size:"xs"})),React.createElement("div",{key:"body",ref:function e(n){t.body=n},className:"lc-field-body"},i))}}],[{key:"getDerivedStateFromError",value:function e(){return{hasError:!0}}}]),n}(r.Component);function rl(){return null}var ol=function(e){qs(n,e);var t=Js(n);function n(){var e;zs(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).pipe=void 0,e}return $s(n,[{key:"render",value:function e(){var t=this,n=this.props,r=n.className,o=n.children,i=n.title,u=n.width;this.pipe||(this.pipe=this.context.create({width:u}));var c=i&&React.createElement("div",{className:"lc-field-title"},React.createElement(a.Title,{title:i}));return this.pipe.send(React.createElement("div",{className:"lc-field-body"},o),c),React.createElement("div",{className:rr()("lc-field lc-popup-field",r)},i&&React.createElement("div",{className:"lc-field-head",onClick:function e(n){t.pipe.show(n.target)}},React.createElement("div",{className:"lc-field-title"},React.createElement(a.Title,{title:i})),React.createElement(ea.Icon,{className:"lc-field-icon",type:"arrow-left",size:"xs"})))}}]),n}(r.Component);ol.contextType=bs,ol.defaultProps={width:300};var il=function(e){qs(n,e);var t=Js(n);function n(){return zs(this,n),t.apply(this,arguments)}return $s(n,[{key:"render",value:function e(){var t=this.props,n=t.title,r=t.className,o=t.stageName,i=rr()("lc-field","lc-entry-field",r);return React.createElement("div",{className:i},React.createElement("div",{className:"lc-field-head","data-stage-target":o},React.createElement("div",{className:"lc-field-title"},React.createElement(a.Title,{title:n||""})),React.createElement(ea.Icon,{className:"lc-field-icon",type:"arrow-right",size:"xs"})))}}]),n}(r.Component),al=function(e){qs(n,e);var t=Js(n);function n(){return zs(this,n),t.apply(this,arguments)}return $s(n,[{key:"render",value:function e(){var t=this.props,n=t.className,r=t.children;return React.createElement("div",{className:rr()("lc-field lc-plain-field",n)},React.createElement("div",{className:"lc-field-body"},r))}}]),n}(r.Component),ul,cl,sl,ll;function fl(e){return(fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pl(Object(n),!0).forEach((function(t){dl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dl(e,t,n){return(t=vl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vl(e){var t=yl(e,"string");return"symbol"===fl(t)?t:String(t)}function yl(e,t){if("object"!==fl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==fl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ml(e,t,n){return"popup"===n?Object(r.createElement)(ol,e,t):"entry"===n?Object(r.createElement)(il,e,t):"plain"!==n&&e.title?Object(r.createElement)(nl,hl(hl({},e),{},{defaultDisplay:n}),t):Object(r.createElement)(al,e,t)}function bl(e){return(bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gl(Object(n),!0).forEach((function(t){Ol(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ol(e,t,n){return(t=El(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,El(r.key),r)}}function Sl(e,t,n){return t&&jl(e.prototype,t),n&&jl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function El(e){var t=kl(e,"string");return"symbol"===bl(t)?t:String(t)}function kl(e,t){if("object"!==bl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==bl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Pl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xl(e,t)}function xl(e,t){return(xl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Nl(e){var t=Rl();return function n(){var r=Al(e),o;if(t){var i=Al(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Cl(this,o)}}function Cl(e,t){if(t&&("object"===bl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Tl(e)}function Tl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rl(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Al(e){return(Al=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ll(e){return!!e&&null==e.prototype;var t}function Ml(e){return Object(V.J)(e)?!1!==e.visible&&Array.isArray(e.value)&&e.value.length>0:null!=e}var Dl=((ul=function(e){Pl(n,e);var t=Nl(n);function n(e){var o;_l(this,n),(o=t.call(this,e)).stageName=void 0,o.setters=void 0;var i=o.props.field,u,c=i.extraProps.display,s=a.globalContext.get("workspace"),l=s.isActive?s.window.editor:a.globalContext.get("editor"),f,p=l.get("skeleton").stages,h;return o.setters=l.get("setters"),"entry"===c&&Object(a.runInAction)((function(){h="".concat(i.getNode().id,"_").concat(i.name.toString()),p.container.remove(h);var e=p.add({type:"Widget",name:h,content:React.createElement(r.Fragment,null,i.items.map((function(e,t){return Bl(e,i,t)}))),props:{title:i.title}})})),o.stageName=h,o}return Sl(n,[{key:"field",get:function e(){return this.props.field}},{key:"visible",get:function e(){var t,n=this.field.extraProps.condition;try{return"function"!=typeof n||!1!==n(this.field.internalToShellPropEntry())}catch(e){console.error("exception when condition (hidden) is excuted",e)}return!0}},{key:"setterInfo",get:function e(){var t,n=this.field,r=n.extraProps,o=n.componentMeta,i=r.defaultValue,u=this.field.setter,c={},s,l=null;Array.isArray(u)?(s="MixedSetter",c={setters:u}):Object(V.U)(u)?(s=u.componentName,u.props&&"function"==typeof(c=u.props)&&(c=c(this.field.internalToShellPropEntry())),null!=u.initialValue&&(l=u.initialValue)):u&&(s=u),null==i||"defaultValue"in c||(c.defaultValue=i,null==l&&(l=i)),-1===this.field.valueState&&(c.multiValue=!0,"placeholder"in c||(c.placeholder=Vs("Multiple Value")));var f=null===(t=this.field.extraProps)||void 0===t?void 0:t.supportVariable,p=a.engineConfig.get("supportVariableGlobally",!1)&&Ll(o);return(f||p)&&("MixedSetter"===s?Array.isArray(c.setters)&&!c.setters.includes("VariableSetter")&&c.setters.push("VariableSetter"):(s="MixedSetter",c={setters:[u,"VariableSetter"]})),{setterProps:c,initialValue:l,setterType:s}}},{key:"value",get:function e(){return-1===this.field.valueState?null:this.field.getValue()}},{key:"initDefaultValue",value:function e(){var t,n=this.setterInfo.initialValue;if((null===(t=this.state)||void 0===t||!t.fromOnChange)&&Ml(n)&&void 0===this.value){var r="function"==typeof n?n(this.field.internalToShellPropEntry()):n;this.field.setValue(r)}}},{key:"componentDidMount",value:function e(){this.initDefaultValue()}},{key:"render",value:function e(){var t,n,r,o,i=this,u=this.field,c=u.extraProps,s;if(!this.visible)return null;var l=this.setterInfo,f=l.setterProps,p=void 0===f?{}:f,h=l.setterType,d=l.initialValue,v=void 0===d?null:d,y=this.value,m=null==c?void 0:c.onChange,b=this.stageName;return ml(wl({meta:(null==u||null===(t=u.componentMeta)||void 0===t?void 0:t.npm)||(null==u||null===(n=u.componentMeta)||void 0===n?void 0:n.componentName)||"",title:u.title,collapsed:!u.expanded,valueState:u.isRequired?10:u.valueState,onExpandChange:function e(t){return u.setExpanded(t)},onClear:function e(){return u.clearValue()},stageName:b},c),!b&&this.setters.createSetterContent(h,wl(wl({},Object(a.shallowIntl)(p)),{},{forceInline:c.forceInline,key:u.id,prop:u.internalToShellPropEntry(),selected:null===(r=u.top)||void 0===r||null===(o=r.getNode())||void 0===o?void 0:o.internalToShellNode(),field:u.internalToShellPropEntry(),value:y,initialValue:v,onChange:function e(t){i.setState({fromOnChange:!0,value:t}),u.setValue(t,!0),m&&m(t,u)},onInitial:function e(){if(null!=v){var t="function"==typeof v?v(u.internalToShellPropEntry()):v;i.setState({value:t}),u.setValue(t,!0)}},removeProp:function e(){u.parent.clearPropValue(u.name)}})),c.forceInline?"plain":c.display)}}]),n}(r.Component)).contextType=Ei,ul);Dl=Object(Kn.a)([a.observer,Object(Kn.b)("design:paramtypes",[Object])],Dl);var Il=((cl=function(e){Pl(n,e);var t=Nl(n);function n(e){var o;_l(this,n),(o=t.call(this,e)).stageName=void 0;var i=o.props.field,u,c=i.extraProps.display,s=a.globalContext.get("workspace"),l,f,p=(s.isActive?s.window.editor:a.globalContext.get("editor")).get("skeleton").stages,h;return"entry"===c&&Object(a.runInAction)((function(){h="".concat(i.getNode().id,"_").concat(i.name.toString()),p.container.remove(h),p.add({type:"Widget",name:h,content:React.createElement(r.Fragment,null,i.items.map((function(e,t){return Bl(e,i,t)}))),props:{title:i.title}})})),o.stageName=h,o}return Sl(n,[{key:"render",value:function e(){var t,n,r=this.props.field,o=r.extraProps,i=o.condition,a=o.display,u;return!r.isSingle||"function"!=typeof i||!1!==i(r.internalToShellPropEntry())?ml({meta:(null===(t=r.componentMeta)||void 0===t?void 0:t.npm)||(null===(n=r.componentMeta)||void 0===n?void 0:n.componentName)||"",title:r.title,collapsed:!r.expanded,onExpandChange:function e(t){return r.setExpanded(t)},stageName:this.stageName},r.items.map((function(e,t){return Bl(e,r,t)})),a):null}}]),n}(r.Component)).contextType=Ei,cl);function Bl(e,t,n){return Object(V.V)(e)?e.isGroup?React.createElement(Il,{field:e,key:e.id}):React.createElement(Dl,{field:e,key:e.id}):Object(V.m)(e,{key:n,field:t})}Il=Object(Kn.a)([a.observer,Object(Kn.b)("design:paramtypes",[Object])],Il);var Vl=((sl=function(e){Pl(n,e);var t=Nl(n);function n(){var e;_l(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).currentStage=void 0,e.popupPipe=new gs,e.pipe=e.popupPipe.create(),e.handleClick=function(t){var n=e.props.usePopup,r;if(void 0===n||n){var o=t.currentTarget,i=c(t.target);if(i){var a=e.context;if(a&&a.stages){var u=a.stages.container.get(i);u&&(e.currentStage&&u.setPrevious(e.currentStage),e.currentStage=u)}}}function c(e){if(!o.contains(e)||"A"===e.nodeName&&e.getAttribute("href"))return null;var t=e.dataset?e.dataset.stageTarget:null;return t||c(e.parentNode)}},e}return Sl(n,[{key:"popStage",value:function e(){var t;this.currentStage=null===(t=this.currentStage)||void 0===t?void 0:t.getPrevious()}},{key:"render",value:function e(){var t=this.props.target,n=t.items;return React.createElement("div",{className:"lc-settings-pane",onClick:this.handleClick},React.createElement(ws,{popupPipe:this.popupPipe},React.createElement("div",{className:"lc-settings-content"},n.map((function(e,n){return Bl(e,t,n)})))))}}]),n}(r.Component)).contextType=Ei,sl);function Fl(e){return(Fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zl(r.key),r)}}function Ul(e,t,n){return t&&Hl(e.prototype,t),n&&Hl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zl(e){var t=Wl(e,"string");return"symbol"===Fl(t)?t:String(t)}function Wl(e,t){if("object"!==Fl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Fl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(Kn.a)([a.obx,Object(Kn.b)("design:type","function"==typeof(ll="undefined"!=typeof Stage&&Stage)?ll:Object)],Vl.prototype,"currentStage",void 0),Vl=Object(Kn.a)([a.observer],Vl);var $l=function(){function e(t){Gl(this,e),this.emitter=void 0,this.stage=void 0,this.emitter=Object(a.createModuleEventBus)("StageChain"),this.stage=t}return Ul(e,[{key:"stagePush",value:function e(t){t&&(t.setPrevious(this.stage),t.setReferLeft(this.stage),this.stage=t,this.emitter.emit("stagechange"))}},{key:"stageBack",value:function e(){var t=this.stage.getPrevious();t&&(t.setReferRight(this.stage),this.stage=t,this.emitter.emit("stagechange"))}},{key:"stageBackToRoot",value:function e(){for(var t=this.stage.getPrevious();t&&!t.isRoot;)t=t.getPrevious();t&&(t.setReferRight(this.stage),this.stage=t,this.emitter.emit("stagechange"))}},{key:"getCurrentStage",value:function e(){return this.stage}},{key:"onStageChange",value:function e(t){var n=this;return this.emitter.on("stagechange",t),function(){n.emitter.removeListener("stagechange",t)}}}]),e}();function Kl(){return(Kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xl(e){return React.createElement(V.f,Kl({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512.002047 771.904425c-10.152221 0.518816-20.442588-2.800789-28.202319-10.598382L77.902254 315.937602c-14.548344-14.618952-14.548344-38.318724 0-52.933583 14.544251-14.614859 38.118156-14.614859 52.662407 0l381.437385 418.531212L893.432269 263.004019c14.544251-14.614859 38.125319-14.614859 52.662407 0 14.552437 14.614859 14.552437 38.314631 0 52.933583L540.205389 761.307066C532.451798 769.103636 522.158361 772.424264 512.002047 771.904425z"}))}function ql(){return(ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Yl(e){return React.createElement(V.f,ql({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M723.872 478.4l-81.12-81.152L688 352l135.776 135.776L846.4 510.4 688 668.8l-45.248-45.28 81.12-81.12H384v-64h339.872zM576 896H256.192A64.16 64.16 0 0 1 192 831.84V192.16c0-35.424 28.704-64.16 64.192-64.16H576v64H288.224A31.968 31.968 0 0 0 256 223.744v576.512C256 817.44 270.4 832 288.224 832H576v64z"}))}function Jl(e){return(Jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ql(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tf(r.key),r)}}function ef(e,t,n){return t&&Ql(e.prototype,t),n&&Ql(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tf(e){var t=nf(e,"string");return"symbol"===Jl(t)?t:String(t)}function nf(e,t){if("object"!==Jl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Jl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function rf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&of(e,t)}function of(e,t){return(of=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function af(e){var t=sf();return function n(){var r=lf(e),o;if(t){var i=lf(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return uf(this,o)}}function uf(e,t){if(t&&("object"===Jl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cf(e)}function cf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sf(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function lf(e){return(lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Xl.displayName="Arrow",Yl.displayName="Exit";var ff={current:!1},pf=function(e){rf(n,e);var t=af(n);function n(){var e;Zl(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).timer=void 0,e.additionClassName=void 0,e.shell=void 0,e}return ef(n,[{key:"componentDidMount",value:function e(){this.doSkate()}},{key:"componentDidUpdate",value:function e(){this.doSkate()}},{key:"componentWillUnmount",value:function e(){window.clearTimeout(this.timer)}},{key:"doSkate",value:function e(){var t=this;window.clearTimeout(this.timer),this.additionClassName&&(this.timer=window.setTimeout((function(){var e=t.shell;e&&(t.props.current?e.classList.remove(t.additionClassName):e.classList.add(t.additionClassName),t.additionClassName=null)}),15))}},{key:"render",value:function e(){var t=this,n=this.props,r=n.stage,i=n.current,a=n.direction,u=null==r?void 0:r.getContent(),c=r.title,s=Object(V.X)(c)?c.label:c;i?a&&(this.additionClassName="skeleton-stagebox-stagein-".concat(a)):a&&(this.additionClassName="skeleton-stagebox-stageout-".concat(a));var l=rr()("skeleton-stagebox-stage",{"skeleton-stagebox-refer":!i},this.additionClassName),f=null!=r&&r.hasBack()?o.a.createElement("div",{className:"skeleton-stagebox-stagebacker"},o.a.createElement(Xl,{className:"skeleton-stagebox-stage-arrow",size:"medium","data-stage-target":"stageback"}),o.a.createElement("span",{className:"skeleton-stagebox-stage-title"},s),o.a.createElement(Yl,{className:"skeleton-stagebox-stage-exit",size:"medium","data-stage-target":"stageexit"})):null;return o.a.createElement("div",{ref:function e(n){t.shell=n},className:l},f,o.a.createElement("div",{className:"skeleton-stagebox-stage-content"},u))}}]),n}(r.Component),hf;function df(e){return(df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bf(r.key),r)}}function mf(e,t,n){return t&&yf(e.prototype,t),n&&yf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bf(e){var t=gf(e,"string");return"symbol"===df(t)?t:String(t)}function gf(e,t){if("object"!==df(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==df(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function wf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Of(e,t)}function Of(e,t){return(Of=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function _f(e){var t=Ef();return function n(){var r=kf(e),o;if(t){var i=kf(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return jf(this,o)}}function jf(e,t){if(t&&("object"===df(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Sf(e)}function Sf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ef(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function kf(e){return(kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}pf.defaultProps=ff;var Pf={},xf=((hf=function(e){wf(n,e);var t=_f(n);function n(e){var r;vf(this,n),(r=t.call(this,e)).stageChain=void 0,r.willDetach=[],r.shell=void 0,r.popupPipe=new gs,r.pipe=r.popupPipe.create();var o=r.props,i=o.stageChain,a=o.children,u=o.skeleton;if(i)r.stageChain=i;else{var c=u.createStage({content:a,isRoot:!0});r.stageChain=new $l(u.getStage(c))}return r.willDetach.push(r.stageChain.onStageChange((function(){return r.forceUpdate()}))),r}return mf(n,[{key:"componentDidMount",value:function e(){var t=this,n=this.shell,r=function e(t){if(!t||null==n||!n.contains(t)||"A"===t.nodeName&&t.getAttribute("href"))return null;var r=t.dataset?t.dataset.stageTarget:null;return r||e(t.parentNode)},o=function e(n){var o=r(n.target);if(o)if("stageback"===o)t.stageChain.stageBack();else if("stageexit"===o)t.stageChain.stageBackToRoot();else{var i=t.props.skeleton;t.stageChain.stagePush(i.getStage(o))}};null==n||n.addEventListener("click",o,!1),this.willDetach.push((function(){return null==n?void 0:n.removeEventListener("click",o,!1)}))}},{key:"componentWillUnmount",value:function e(){this.willDetach&&this.willDetach.forEach((function(e){return e()}))}},{key:"render",value:function e(){var t=this,n=rr()("skeleton-stagebox",this.props.className),r=this.stageChain.getCurrentStage(),i=null==r?void 0:r.getRefer(),a=null,u=null,c;i?(a=o.a.createElement(pf,{key:r.getId(),stage:r,direction:i.direction,current:!0}),u=o.a.createElement(pf,{key:null==i||null===(c=i.stage)||void 0===c?void 0:c.getId(),stage:null==i?void 0:i.stage,direction:i.direction})):a=o.a.createElement(pf,{key:r.getId(),stage:r,current:!0});return o.a.createElement("div",{ref:function e(n){t.shell=n},className:n},o.a.createElement(ws,{popupPipe:this.popupPipe},u,a))}}]),n}(r.Component)).defaultProps=Pf,hf.displayName="StageBox",hf),Nf=xf=Object(Kn.a)([a.observer,Object(Kn.b)("design:paramtypes",[Object])],xf),Cf=n(94);function Tf(e){return(Tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rf(){return(Rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Af(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Af=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(k([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==Tf(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=_(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Lf(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Mf(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Lf(i,r,o,a,u,"next",e)}function u(e){Lf(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Df(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function If(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vf(r.key),r)}}function Bf(e,t,n){return t&&If(e.prototype,t),n&&If(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vf(e){var t=Ff(e,"string");return"symbol"===Tf(t)?t:String(t)}function Ff(e,t){if("object"!==Tf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Tf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Gf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hf(e,t)}function Hf(e,t){return(Hf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Uf(e){var t=$f();return function n(){var r=Kf(e),o;if(t){var i=Kf(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return zf(this,o)}}function zf(e,t){if(t&&("object"===Tf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wf(e)}function Wf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Kf(e){return(Kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Xf=function(e){Gf(n,e);var t=Uf(n);function n(e){var r;return Df(this,n),(r=t.call(this,e)).state={shouldIgnoreRoot:!1},r.main=new Zc(r.props.engineEditor),r._activeKey=void 0,Object(a.makeObservable)(Wf(r)),r}return Bf(n,[{key:"componentDidMount",value:function e(){var t=this,n;this.setShouldIgnoreRoot(),this.props.engineEditor.eventBus.on("designer.selection.change",(function(){a.engineConfig.get("stayOnTheSameSettingTab",!1)||(t._activeKey=null)}))}},{key:"setShouldIgnoreRoot",value:function(){var e=Mf(Af().mark((function e(){var t;return Af().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.globalContext.get("editor").get("designMode");case 2:t=n.sent,this.setState({shouldIgnoreRoot:"live"===t});case 4:case"end":return n.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"componentWillUnmount",value:function e(){this.main.purge()}},{key:"renderBreadcrumb",value:function e(){var t,n,r,i=this.main.settings,u=this.props.config,c=this.state.shouldIgnoreRoot,s;if(!i)return null;if(i.isMultiple)return o.a.createElement("div",{className:"lc-settings-navigator"},Object(V.n)(null===(s=i.componentMeta)||void 0===s?void 0:s.icon,{className:"lc-settings-navigator-icon",class:"lc-settings-navigator-icon"}),o.a.createElement(a.Title,{title:i.componentMeta.title}),o.a.createElement("span",null," x ",i.nodes.length));for(var l=a.globalContext.get("workspace"),f=this.props.engineEditor,p=f.get("designer"),h=null==p||null===(t=p.currentSelection)||void 0===t||null===(n=t.getNodes())||void 0===n?void 0:n[0],d=i.first,v=d.document.focusNode,y=[],m=3,b=function e(){var t=d;if(c&&d.isRoot())return"break";d.contains(v)&&(m=0);var n=2===m?{}:{onMouseOver:qf.bind(null,t,!0),onMouseOut:qf.bind(null,t,!1),onClick:function e(){if(t){Yf.call(null,t);var n=function e(t){var n,r,o=null==t||null===(n=t.componentMeta)||void 0===n?void 0:n.npm;return[null==o?void 0:o.package,null==o?void 0:o.componentName].filter((function(e){return!!e})).join("-")||(null==t||null===(r=t.componentMeta)||void 0===r?void 0:r.componentName)||""},r=n(h),o=n(t);null==f||f.eventBus.emit("skeleton.settingsPane.Breadcrumb",{selected:r,target:o})}}};y.unshift(o.a.createElement(ea.Breadcrumb.Item,Rf({},n,{key:d.id}),o.a.createElement(a.Title,{title:d.title}))),d=d.parent};m-- >0&&d;){var g;if("break"===b())break}return o.a.createElement("div",{className:"lc-settings-navigator"},Object(V.n)(null===(r=this.main.componentMeta)||void 0===r?void 0:r.icon,{className:"lc-settings-navigator-icon",class:"lc-settings-navigator-icon"}),o.a.createElement(ea.Breadcrumb,{className:"lc-settings-node-breadcrumb"},y))}},{key:"render",value:function e(){var t=this,n=this.main.settings,r=this.props.engineEditor;if(!n)return o.a.createElement("div",{className:"lc-settings-main"},o.a.createElement("div",{className:"lc-settings-notice"},o.a.createElement("p",null,Vs("Please select a node in canvas"))));if(n.isLocked&&!a.engineConfig.get("enableLockedNodeSetting",!1))return o.a.createElement("div",{className:"lc-settings-main"},o.a.createElement("div",{className:"lc-settings-notice"},o.a.createElement("p",null,Vs("Current node is locked"))));if(Array.isArray(n.items)&&0===n.items.length)return o.a.createElement("div",{className:"lc-settings-main"},o.a.createElement("div",{className:"lc-settings-notice"},o.a.createElement("p",null,Vs("No config found for this type of component"))));if(!n.isSameComponent)return o.a.createElement("div",{className:"lc-settings-main"},o.a.createElement("div",{className:"lc-settings-notice"},o.a.createElement("p",null,Vs("Please select same kind of components"))));var i=n.items;if(i.length>5||i.some((function(e){return!Object(V.V)(e)||!e.isGroup})))return o.a.createElement("div",{className:"lc-settings-main"},this.renderBreadcrumb(),o.a.createElement("div",{className:"lc-settings-body"},o.a.createElement(Ei.Consumer,null,(function(e){return e?o.a.createElement(Nf,{skeleton:e,target:n,key:n.id},o.a.createElement(Vl,{target:n,usePopup:!1})):null}))));var u=!1,c=i.map((function(e){return t._activeKey===e.name&&(u=!0),o.a.createElement(ea.Tab.Item,{className:"lc-settings-tab-item",title:o.a.createElement(a.Title,{title:e.title}),key:e.name,onClick:function t(){null==r||r.eventBus.emit("skeleton.settingsPane.change",{name:e.name,title:e.title})}},o.a.createElement(Ei.Consumer,null,(function(t){return t?o.a.createElement(Nf,{skeleton:t,target:e,key:e.id},o.a.createElement(Vl,{target:e,key:e.id,usePopup:!1})):null})))})),s=u?this._activeKey:i[0].name,l=rr()("lc-settings-main",{"lc-settings-hide-tabs":1===i.length&&a.engineConfig.get("hideSettingsTabsWhenOnlyOneItem",!1)});return o.a.createElement("div",{className:l},this.renderBreadcrumb(),o.a.createElement(ea.Tab,{activeKey:s,onChange:function e(n){t._activeKey=n},navClassName:"lc-settings-tabs",animation:!1,excessMode:"dropdown",contentClassName:"lc-settings-tabs-content"},c))}}]),n}(r.Component);function qf(e,t){e.hover(t)}function Yf(e){null==e||e.select()}Object(Kn.a)([a.obx.ref,Object(Kn.b)("design:type",Object)],Xf.prototype,"_activeKey",void 0),Xf=Object(Kn.a)([a.observer,Object(Kn.b)("design:paramtypes",[Object])],Xf);var Jf=/^function/,Zf=/^\w+\s*\(/,Qf=Object(V.r)({level:"warn",bizName:"skeleton:transducers"});function ep(e){if("string"!=typeof e)return e;var t;Zf.test(e)&&!Jf.test(e)&&(e="function ".concat(e));var n="\n    return function() {\n      const self = this;\n      try {\n        return (".concat(e,").apply(self, arguments);\n      } catch(e) {\n        logger.warn('call function which parsed by lowcode failed: ', e);\n        return e.message;\n      }\n    };\n  ");try{t=new Function(n)()}catch(t){Qf.error(e),Qf.error(t.message)}return t}function tp(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&Object.keys(e).forEach((function(n){var r=e[n];Object(V.I)(r)?e[n]=ep(r.value):Array.isArray(r)?r.forEach((function(e){return tp(e,t)})):Object(V.P)(r)&&tp(r,t)}))}var np=function(e){return tp(e,!1),e};function rp(e){return up(e)||ap(e)||ip(e)||op()}function op(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ip(e,t){if(e){if("string"==typeof e)return cp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cp(e,t):void 0}}function ap(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function up(e){if(Array.isArray(e))return cp(e)}function cp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sp(e){return(sp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lp(Object(n),!0).forEach((function(t){pp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pp(e,t,n){return(t=hp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hp(e){var t=dp(e,"string");return"symbol"===sp(t)?t:String(t)}function dp(e,t){if("object"!==sp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==sp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function vp(e){var t=e.name,n=e.description,r;return fp(fp({title:{label:{type:"i18n","en-US":t,"zh-CN":(null==n?void 0:n.slice(0,10))||t},tip:n?"".concat(t," | ").concat(n):void 0}},e),{},{setter:e.setter?e.setter:yp(e.propType)})}function yp(e){var t,n=!1;switch("string"==typeof e?t=e:"object"===sp(e)?(t=e.type,n=e.isRequired):t="string",t){case"string":return{componentName:"StringSetter",isRequired:n,initialValue:""};case"number":return{componentName:"NumberSetter",isRequired:n,initialValue:0};case"bool":return{componentName:"BoolSetter",isRequired:n,initialValue:!1};case"oneOf":var r=(e.value||[]).map((function(e,t){var n=sp(e);return{label:"string"===n||"number"===n||"boolean"===n?String(e):"value ".concat(t),value:e}})),o;return{componentName:r.length>=4?"SelectSetter":"RadioGroupSetter",props:{dataSource:r,options:r},isRequired:n,initialValue:r[0]?r[0].value:null};case"element":case"node":return{componentName:"SlotSetter",props:{mode:t},isRequired:n,initialValue:{type:"JSSlot",value:[]}};case"shape":case"exact":var i=(e.value||[]).map((function(e){return vp(e)}));return{componentName:"ObjectSetter",props:{config:{items:i,extraSetter:"shape"===t?yp("any"):null}},isRequired:n,initialValue:function e(t){var n={};return i.forEach((function(e){var r=e.defaultValue;null==r&&e.setter&&"object"===sp(e.setter)&&(r=e.setter.initialValue),n[e.name]=r?"function"==typeof r?r(t):r:null})),n}};case"object":case"objectOf":return{componentName:"ObjectSetter",props:{config:{extraSetter:yp("objectOf"===t?e.value:"any")}},isRequired:n,initialValue:{}};case"array":case"arrayOf":return{componentName:"ArraySetter",props:{itemSetter:yp("arrayOf"===t?e.value:"any")},isRequired:n,initialValue:[]};case"func":return{componentName:"FunctionSetter",isRequired:n};case"color":return{componentName:"ColorSetter",isRequired:n};case"oneOfType":return{componentName:"MixedSetter",props:{setters:e.value.map((function(e){return yp(e)}))},isRequired:n}}return{componentName:"MixedSetter",isRequired:n,props:{}}}var mp=/^on|after|before[A-Z][\w]*$/,bp=function(e){var t=e.configure,n=void 0===t?{}:t,r=null;if(n.props){if(Array.isArray(n.props))return e;var o=n.props,i=o.isExtends,a=o.override,u=void 0===a?[]:a;if(!i)return fp(fp({},e),{},{configure:fp(fp({},n),{},{props:rp(u)})});r={},u.forEach((function(e){r[e.name]=e}))}if(!e.props)return fp(fp({},e),{},{configure:fp(fp({},n),{},{props:[]})});var c=n.component,s=void 0===c?{}:c,l=n.supports,f=void 0===l?{}:l,p=f.events?null:[],h=[];return e.props.forEach((function(e){var t=e,n=t.name,o=t.propType,i=t.description;if("children"===n&&(s.isContainer||"node"===o||"element"===o||"any"===o)&&!1!==s.isContainer)return s.isContainer=!0,void h.push(vp(e));!mp.test(n)||"func"!==o&&"any"!==o?"className"!==n||"string"!==o&&"any"!==o?"style"!==n||"object"!==o&&"any"!==o?(r&&n in r&&(e=r[n]),h.push(vp(e))):null==f.style&&(f.style=!0):null==f.className&&(f.className=!0):p&&(p.push({name:n,description:i}),f.events=p)})),fp(fp({},e),{},{configure:fp(fp({},n),{},{props:h,supports:f,component:s})})};function gp(){return(gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wp(e){return React.createElement(V.f,gp({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M682.325333 135.509333V204.8H819.2v613.376h-614.741333V204.8h136.874666v-69.290667h-206.165333v752.298667h754.346667V135.509333z",c:"Q29weXJpZ2h0IChjKSAyMDIwLXByZXNlbnQgQWxpYmFiYSBJbmMu"}),React.createElement("path",{d:"M512 512m-170.325333 0a170.325333 170.325333 0 1 0 340.650666 0 170.325333 170.325333 0 1 0-340.650666 0Z"}))}function Op(e){return(Op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _p(e){return kp(e)||Ep(e)||Sp(e)||jp()}function jp(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Sp(e,t){if(e){if("string"==typeof e)return Pp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pp(e,t):void 0}}function Ep(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function kp(e){if(Array.isArray(e))return Pp(e)}function Pp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Np(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xp(Object(n),!0).forEach((function(t){Cp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cp(e,t,n){return(t=Tp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tp(e){var t=Rp(e,"string");return"symbol"===Op(t)?t:String(t)}function Rp(e,t){if("object"!==Op(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Op(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}wp.displayName="IconSlot";var Ap=function(e){var t=e.componentName,n=e.configure,r=void 0===n?{}:n;if(r.combined)return e;if("Leaf"===t)return Np(Np({},e),{},{configure:Np(Np({},r),{},{combined:[{name:"children",title:{type:"i18n","zh-CN":"\u5185\u5bb9\u8bbe\u7f6e","en-US":"Content"},setter:{componentName:"MixedSetter",props:{setters:[{componentName:"StringSetter",props:{multiline:!0},initialValue:""},{componentName:"ExpressionSetter",initialValue:{type:"JSExpression",value:""}}]}}}]})});var o=r.props,i=r.supports,a=void 0===i?{}:i,u="Page"===t||"Component"===t,c=[],s=a.lifecycles||null;s&&c.push({type:"lifeCycleEvent",title:"\u751f\u547d\u5468\u671f",list:s.map((function(e){return"string"==typeof e?{name:e}:e}))}),a.events&&c.push({type:"events",title:"\u4e8b\u4ef6",list:(a.events||[]).map((function(e){return"string"==typeof e?{name:e}:e}))});var l=o?_p(o):[],f={};"Slot"===t&&(r.component?"object"===Op(r.component)&&(r.component.isContainer=!0):r.component={isContainer:!0},f.icon=wp,l=[{name:Ge("title"),title:{type:"i18n","en-US":"Slot Title","zh-CN":"\u63d2\u69fd\u6807\u9898"},setter:"StringSetter",defaultValue:"\u63d2\u69fd\u5bb9\u5668"}]);var p=[],h=[];if(l)for(var d=l.length;d-- >0;){var v=l[d],y;if("__style__"===v.name||"style"===v.name||"containerStyle"===v.name||"pageStyle"===v.name)l.splice(d,1),p.push(v),null!==(y=v.extraProps)&&void 0!==y&&y.defaultCollapsed&&"containerStyle"!==v.name&&(v.extraProps.defaultCollapsed=!1)}var m=[{title:{type:"i18n","zh-CN":"\u5c5e\u6027","en-US":"Props"},name:"#props",items:l}];return a.className&&p.push({name:"className",title:{type:"i18n","zh-CN":"\u7c7b\u540d\u7ed1\u5b9a","en-US":"ClassName"},setter:"ClassNameSetter"}),a.style&&p.push({name:"style",title:{type:"i18n","zh-CN":"\u884c\u5185\u6837\u5f0f","en-US":"Style"},setter:"StyleSetter",extraProps:{display:"block"}}),p.length>0&&m.push({name:"#styles",title:{type:"i18n","zh-CN":"\u6837\u5f0f","en-US":"Styles"},items:p}),c.length>0&&m.push({name:"#events",title:{type:"i18n","zh-CN":"\u4e8b\u4ef6","en-US":"Events"},items:[{name:"__events",title:{type:"i18n","zh-CN":"\u4e8b\u4ef6\u8bbe\u7f6e","en-US":"Events"},setter:{componentName:"EventsSetter",props:{definition:c}},getValue:function e(t,n){return n},setValue:function e(t,n){var r=n.eventDataList,o=n.eventList;Array.isArray(o)&&o.map((function(e){return t.parent.clearPropValue(e.name),e})),Array.isArray(r)&&r.map((function(e){return t.parent.setPropValue(e.name,{type:"JSFunction",value:"function(){return this.".concat(e.relatedEventName,".apply(this,Array.prototype.slice.call(arguments).concat([").concat(e.paramStr?e.paramStr:"","])) }")}),e}))}}]}),u||(!1!==a.condition&&h.push({name:Ge("condition"),title:{type:"i18n","zh-CN":"\u662f\u5426\u6e32\u67d3","en-US":"Condition"},defaultValue:!0,setter:[{componentName:"BoolSetter"},{componentName:"VariableSetter"}],extraProps:{display:"block"}}),!1!==a.loop&&h.push({name:"#loop",title:{type:"i18n","zh-CN":"\u5faa\u73af","en-US":"Loop"},items:[{name:Ge("loop"),title:{type:"i18n","zh-CN":"\u5faa\u73af\u6570\u636e","en-US":"Loop Data"},setter:[{componentName:"JsonSetter",props:{label:{type:"i18n","zh-CN":"\u7f16\u8f91\u6570\u636e","en-US":"Edit Data"},defaultValue:"[]"}},{componentName:"VariableSetter"}]},{name:Ge("loopArgs.0"),title:{type:"i18n","zh-CN":"\u8fed\u4ee3\u53d8\u91cf\u540d","en-US":"Loop Item"},setter:{componentName:"StringSetter",props:{placeholder:{type:"i18n","zh-CN":"\u9ed8\u8ba4\u4e3a: item","en-US":"Defaults: item"}}}},{name:Ge("loopArgs.1"),title:{type:"i18n","zh-CN":"\u7d22\u5f15\u53d8\u91cf\u540d","en-US":"Loop Index"},setter:{componentName:"StringSetter",props:{placeholder:{type:"i18n","zh-CN":"\u9ed8\u8ba4\u4e3a: index","en-US":"Defaults: index"}}}},{name:"key",title:{type:"i18n","zh-CN":"\u5faa\u73af Key","en-US":"Loop Key"},setter:[{componentName:"StringSetter"},{componentName:"VariableSetter"}]}],extraProps:{display:"accordion"}}),!1===a.condition&&!1===a.loop||h.push({name:"key",title:{label:{type:"i18n","zh-CN":"\u6e32\u67d3\u552f\u4e00\u6807\u8bc6 (key)","en-US":"Render unique identifier (key)"},tip:{type:"i18n","zh-CN":"\u642d\u914d\u300c\u6761\u4ef6\u6e32\u67d3\u300d\u6216\u300c\u5faa\u73af\u6e32\u67d3\u300d\u65f6\u4f7f\u7528\uff0c\u548c react \u7ec4\u4ef6\u4e2d\u7684 key \u539f\u7406\u76f8\u540c\uff0c\u70b9\u51fb\u67e5\u770b\u5e2e\u52a9","en-US":"Used with \u300cConditional Rendering\u300dor\u300cCycle Rendering\u300d, the same principle as the key in the react component, click to view the help"},docUrl:"https://www.yuque.com/lce/doc/qm75w3"},setter:[{componentName:"StringSetter"},{componentName:"VariableSetter"}],extraProps:{display:"block"}})),h.length>0&&m.push({name:"#advanced",title:{type:"i18n","zh-CN":"\u9ad8\u7ea7","en-US":"Advanced"},items:h}),Np(Np(Np({},e),f),{},{configure:Np(Np({},r),{},{combined:m})})},Lp=function e(t){var n=t.material;return{init:function e(){n.registerMetadataTransducer(np,1,"parse-func"),n.registerMetadataTransducer(bp,5,"parse-props"),n.registerMetadataTransducer(Ap,10,"combine-props")}}};function Mp(){return(Mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Dp(e){return(Dp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ip(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fp(r.key),r)}}function Vp(e,t,n){return t&&Bp(e.prototype,t),n&&Bp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fp(e){var t=Gp(e,"string");return"symbol"===Dp(t)?t:String(t)}function Gp(e,t){if("object"!==Dp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Dp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Lp.pluginName="___register_defaults___";var Hp=function(){function e(t){Ip(this,e),this[Tt]=void 0,this[qt]=void 0,this[Tt]=t,this[qt]={isDragNodeObject:V.C,isDragAnyObject:V.A,isShaken:KS,contains:Cm,LocationDetailType:F.k,isLocationChildrenDetail:V.K,ScrollTarget:CS,isSettingField:V.V,TransformStage:F.g,SettingField:Ik,LiveEditing:Fw,DragObjectType:F.f,isDragNodeDataObject:V.B,isNode:V.N}}return Vp(e,[{key:xt,get:function e(){return this[Tt].get("designer")}},{key:"isSettingField",value:function e(t){return Object(V.V)(t)}},{key:"TransformStage",get:function e(){return F.g}},{key:"SettingField",get:function e(){return Ik}},{key:"LiveEditing",get:function e(){return Fw}},{key:"DragObjectType",get:function e(){return F.f}},{key:"isDragNodeDataObject",value:function e(t){return Object(V.B)(t)}},{key:"isNode",value:function e(t){return Object(V.N)(t)}},{key:"dragon",get:function e(){return wy.create(this[xt].dragon,!1)}}]),e}(),Up=function(){function e(t){Ip(this,e),this[Nt]=void 0,this[Nt]=t}return Vp(e,[{key:"Workbench",get:function e(){var t=this[Nt];return function(e){return React.createElement(Vi,Mp({},e,{skeleton:t}))}}},{key:"createSettingFieldView",value:function e(t,n){return Bl(t,n)}},{key:"PopupContext",get:function e(){return bs}},{key:"PopupPipe",get:function e(){return gs}}]),e}(),zp=function(){function e(){Ip(this,e)}return Vp(e,[{key:"isNodeSchema",value:function e(t){return Object(V.O)(t)}},{key:"isFormEvent",value:function e(t){return Object(V.F)(t)}},{key:"compatibleLegaoSchema",value:function e(t){return Object(V.l)(t)}},{key:"getNodeSchemaById",value:function e(t,n){return Object(V.s)(t,n)}},{key:"getConvertedExtraKey",value:function e(t){return Ge(t)}},{key:"getOriginalExtraKey",value:function e(t){return He(t)}},{key:"executeTransaction",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F.h.REPAINT;V.bb.executeTransaction(t,n)}},{key:"createIntl",value:function e(t){return Object(a.createIntl)(t)}}]),e}(),Wp=function(){function e(t){var n=this;Ip(this,e),this[Tt]=void 0,this.createSetterContent=function(e,t){var r;return n[Tt].get("setters").createSetterContent(e,t)},this[Tt]=t}return Vp(e,[{key:"Title",get:function e(){return a.Title}},{key:"Tip",get:function e(){return a.Tip}},{key:"shallowIntl",value:function e(t){return Object(a.shallowIntl)(t)}},{key:"createIntl",value:function e(t){return Object(a.createIntl)(t)}},{key:"intl",value:function e(t,n){return Object(a.intl)(t,n)}},{key:"globalLocale",get:function e(){return a.globalLocale}},{key:"obx",get:function e(){return a.obx}},{key:"observable",get:function e(){return a.observable}},{key:"makeObservable",value:function e(t,n,r){return Object(a.makeObservable)(t,n,r)}},{key:"untracked",value:function e(t){return Object(a.untracked)(t)}},{key:"computed",get:function e(){return a.computed}},{key:"observer",value:function e(t){return Object(a.observer)(t)}}]),e}(),$p=function(){function e(t,n){Ip(this,e),this.__designerCabin=void 0,this.__skeletonCabin=void 0,this.__editorCabin=void 0,this.__utils=void 0,this.__designerCabin=new Hp(t),this.__skeletonCabin=new Up(n),this.__editorCabin=new Wp(t),this.__utils=new zp}return Vp(e,[{key:"utils",get:function e(){return this.__utils}},{key:"editorCabin",get:function e(){return this.__editorCabin}},{key:"designerCabin",get:function e(){return this.__designerCabin}},{key:"skeletonCabin",get:function e(){return this.__skeletonCabin}},{key:"objects",get:function e(){return{TransformStage:F.g}}}]),e}();function Kp(e){return(Kp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jp(r.key),r)}}function Yp(e,t,n){return t&&qp(e.prototype,t),n&&qp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jp(e){var t=Zp(e,"string");return"symbol"===Kp(t)?t:String(t)}function Zp(e,t){if("object"!==Kp(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Kp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Qp=Object(V.r)({level:"warn",bizName:"shell-event"}),eh=Symbol("eventBus"),th=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Xp(this,e),this.workspaceMode=void 0,this[eh]=void 0,this.options=void 0,this.workspaceMode=r,this[eh]=t,this.options=n,this.options.prefix||Qp.warn("prefix is required while initializing Event")}return Yp(e,[{key:"on",value:function e(t,n){return Object(V.Q)(t)?this[eh].on(t,n):(Qp.warn("fail to monitor on event ".concat(t,", event should have a prefix like 'somePrefix:eventName'")),function(){})}},{key:"off",value:function e(t,n){this[eh].off(t,n)}},{key:"emit",value:function e(t){var n;if(this.options.prefix){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this[eh]).emit.apply(n,["".concat(this.options.prefix,":").concat(t)].concat(o))}else Qp.warn("Event#emit has been forbidden while prefix is not specified")}},{key:"__internalEmit__",value:function e(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this[eh]).emit.apply(n,[t].concat(o))}}]),e}();function nh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{prefix:"common"};return new th(e.eventBus,t)}function rh(e){return(rh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ih(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uh(r.key),r)}}function ah(e,t,n){return t&&ih(e.prototype,t),n&&ih(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function uh(e){var t=ch(e,"string");return"symbol"===rh(t)?t:String(t)}function ch(e,t){if("object"!==rh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==rh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var sh=Symbol("innerHotkey"),lh=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];oh(this,e),this.workspaceMode=void 0,this[sh]=void 0,this.workspaceMode=n,this[sh]=t}return ah(e,[{key:Yt,get:function e(){if(this.workspaceMode)return this[sh];var t=a.globalContext.get("workspace");return t.isActive?t.window.innerHotkey:this[sh]}},{key:"callbacks",get:function e(){return this[Yt].callBacks}},{key:"callBacks",get:function e(){return this.callbacks}},{key:"bind",value:function e(t,n,r){var o=this;return this[Yt].bind(t,n,r),function(){o[Yt].unbind(t,n,r)}}}]),e}();function fh(e){return(fh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ph(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vh(r.key),r)}}function dh(e,t,n){return t&&hh(e.prototype,t),n&&hh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vh(e){var t=yh(e,"string");return"symbol"===fh(t)?t:String(t)}function yh(e,t){if("object"!==fh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==fh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var mh=Symbol("logger"),bh=function(){function e(t){ph(this,e),this[mh]=void 0,this[mh]=Object(V.r)(t)}return dh(e,[{key:"debug",value:function e(){var t;(t=this[mh]).debug.apply(t,arguments)}},{key:"info",value:function e(){var t;(t=this[mh]).info.apply(t,arguments)}},{key:"warn",value:function e(){var t;(t=this[mh]).warn.apply(t,arguments)}},{key:"error",value:function e(){var t;(t=this[mh]).error.apply(t,arguments)}},{key:"log",value:function e(){var t;(t=this[mh]).log.apply(t,arguments)}}]),e}();function gh(e){return(gh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wh(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Oh(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function Oh(e,t){if(e){if("string"==typeof e)return _h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_h(e,t):void 0}}function _h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jh(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */jh=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(k([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==gh(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=_(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Sh(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Eh(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Sh(i,r,o,a,u,"next",e)}function u(e){Sh(i,r,o,a,u,"throw",e)}a(void 0)}))}}function kh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ph(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nh(r.key),r)}}function xh(e,t,n){return t&&Ph(e.prototype,t),n&&Ph(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nh(e){var t=Ch(e,"string");return"symbol"===gh(t)?t:String(t)}function Ch(e,t){if("object"!==gh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==gh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Th=Symbol("editor"),Rh=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];kh(this,e),this.workspaceMode=void 0,this[Th]=void 0,this.registerMetadataTransducer=function(e,t,r){n[xt].componentActions.registerMetadataTransducer(e,t,r)},this.workspaceMode=r,this[Th]=t}return xh(e,[{key:Tt,get:function e(){if(this.workspaceMode)return this[Th];var t=a.globalContext.get("workspace");return t.isActive?t.window.editor:this[Th]}},{key:xt,get:function e(){return this[Tt].get("designer")}},{key:"componentsMap",get:function e(){return this[xt].componentsMap}},{key:"setAssets",value:function(){var e=Eh(jh().mark((function e(t){return jh().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this[Tt].setAssets(t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAssets",value:function e(){return this[Tt].get("assets")}},{key:"loadIncrementalAssets",value:function e(t){return this[xt].loadIncrementalAssets(t)}},{key:"getRegisteredMetadataTransducers",value:function e(){return this[xt].componentActions.getRegisteredMetadataTransducers()}},{key:"getComponentMeta",value:function e(t){var n=this[xt].getComponentMeta(t);return fn.create(n)}},{key:"createComponentMeta",value:function e(t){return fn.create(this[xt].createComponentMeta(t))}},{key:"isComponentMeta",value:function e(t){return ig(t)}},{key:"getComponentMetasMap",value:function e(){var t=new Map,n,r=wh(this[xt].getComponentMetasMap().keys()),o;try{for(r.s();!(o=r.n()).done;){var i=o.value;t.set(i,this.getComponentMeta(i))}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"addBuiltinComponentAction",value:function e(t){this[xt].componentActions.addBuiltinComponentAction(t)}},{key:"removeBuiltinComponentAction",value:function e(t){this[xt].componentActions.removeBuiltinComponentAction(t)}},{key:"modifyBuiltinComponentAction",value:function e(t,n){this[xt].componentActions.modifyBuiltinComponentAction(t,n)}},{key:"onChangeAssets",value:function e(t){var n=[this[Tt].onGot("assets",t),this[Tt].eventBus.on("designer.incrementalAssetsReady",t)];return function(){n.forEach((function(e){return e&&e()}))}}}]),e}();function Ah(e){return(Ah="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lh(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Lh=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(k([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==Ah(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=_(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Mh(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Dh(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Mh(i,r,o,a,u,"next",e)}function u(e){Mh(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Ih(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fh(r.key),r)}}function Vh(e,t,n){return t&&Bh(e.prototype,t),n&&Bh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fh(e){var t=Gh(e,"string");return"symbol"===Ah(t)?t:String(t)}function Gh(e,t){if("object"!==Ah(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ah(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Hh=Symbol("plugin"),Uh=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Ih(this,e),this.workspaceMode=void 0,this[Hh]=void 0,this.workspaceMode=n,this[Hh]=t}return Vh(e,[{key:Jt,get:function e(){if(this.workspaceMode)return this[Hh];var t=a.globalContext.get("workspace");return t.isActive?t.window.innerPlugins:this[Hh]}},{key:"register",value:function(){var e=Dh(Lh().mark((function e(t,n,r){return Lh().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this[Jt].register(t,n,r);case 2:case"end":return o.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"init",value:function(){var e=Dh(Lh().mark((function e(t){return Lh().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this[Jt].init(t);case 2:case"end":return n.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getPluginPreference",value:function e(t){return this[Jt].getPluginPreference(t)}},{key:"get",value:function e(t){var n=this[Jt].get(t);return n?new Hy(n):null}},{key:"getAll",value:function e(){var t;return null===(t=this[Jt].getAll())||void 0===t?void 0:t.map((function(e){return new Hy(e)}))}},{key:"has",value:function e(t){return this[Jt].has(t)}},{key:"delete",value:function e(t){this[Jt].delete(t)}},{key:"toProxy",value:function e(){return new Proxy(this,{get:function e(t,n,r){var o=t[Jt];if(o.pluginsMap.has(n)){var i;if(o.pluginsMap.get(n).disabled)return;return null===(i=o.pluginsMap.get(n))||void 0===i?void 0:i.toProxy()}return Reflect.get(t,n,r)}})}}]),e}();function zh(e){return(zh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xh(r.key),r)}}function Kh(e,t,n){return t&&$h(e.prototype,t),n&&$h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xh(e){var t=qh(e,"string");return"symbol"===zh(t)?t:String(t)}function qh(e,t){if("object"!==zh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==zh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Yh=function(){function e(t){Wh(this,e),this[$t]=void 0,this[$t]=t}return Kh(e,[{key:"contentWindow",get:function e(){return this[$t].contentWindow}},{key:"contentDocument",get:function e(){return this[$t].contentDocument}},{key:"renderer",get:function e(){return this[$t].renderer}},{key:"set",value:function e(t,n){this[$t].set(t,n)}},{key:"get",value:function e(t){return this[$t].get(t)}},{key:"scrollToNode",value:function e(t){this[$t].scrollToNode(t[Rt])}},{key:"rerender",value:function e(){this[$t].rerender()}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function Jh(e){return(Jh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,td(r.key),r)}}function ed(e,t,n){return t&&Qh(e.prototype,t),n&&Qh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function td(e){var t=nd(e,"string");return"symbol"===Jh(t)?t:String(t)}function nd(e,t){if("object"!==Jh(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Jh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var rd=Symbol("innerProject"),od=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Zh(this,e),this.workspaceMode=void 0,this[rd]=void 0,this[$t]=void 0,this.workspaceMode=n,this[rd]=t}return ed(e,[{key:Pt,get:function e(){if(this.workspaceMode)return this[rd];var t=a.globalContext.get("workspace");return t.isActive?t.window.innerProject:this[rd]}},{key:Tt,get:function e(){var t;return null===(t=this[Pt])||void 0===t?void 0:t.designer.editor}},{key:"currentDocument",get:function e(){return this.getCurrentDocument()}},{key:"documents",get:function e(){return this[Pt].documents.map((function(e){return hv.create(e)}))}},{key:"simulatorHost",get:function e(){return Yh.create(this[Pt].simulator||this[$t])}},{key:"simulator",get:function e(){return this.simulatorHost}},{key:"openDocument",value:function e(t){var n=this[Pt].open(t);return n?hv.create(n):null}},{key:"createDocument",value:function e(t){var n=this[Pt].createDocument(t);return hv.create(n)}},{key:"removeDocument",value:function e(t){this[Pt].removeDocument(t[Ct])}},{key:"getDocumentByFileName",value:function e(t){var n=this[Pt].getDocumentByFileName(t);return hv.create(n)}},{key:"getDocumentById",value:function e(t){return hv.create(this[Pt].getDocument(t))}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.g.Render;return this[Pt].getSchema(t)}},{key:"importSchema",value:function e(t){this[Pt].load(t,!0)}},{key:"getCurrentDocument",value:function e(){return hv.create(this[Pt].currentDocument)}},{key:"addPropsTransducer",value:function e(t,n){this[Pt].designer.addPropsReducer(t,n)}},{key:"onRemoveDocument",value:function e(t){return this[Tt].eventBus.on("designer.document.remove",(function(e){return t(e)}))}},{key:"onChangeDocument",value:function e(t){var n=this[Pt].onCurrentDocumentChange((function(e){t(hv.create(e))}));return this[Pt].currentDocument&&t(hv.create(this[Pt].currentDocument)),n}},{key:"onSimulatorHostReady",value:function e(t){var n;return this[Pt].onSimulatorReady((function(e){t(Yh.create(e))}))}},{key:"onSimulatorRendererReady",value:function e(t){var n;return this[Pt].onRendererReady((function(){t()}))}},{key:"setI18n",value:function e(t){this[Pt].set("i18n",t)}}],[{key:"create",value:function t(n){return new e(n)}}]),e}();function id(e){return(id="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ad(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ud(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sd(r.key),r)}}function cd(e,t,n){return t&&ud(e.prototype,t),n&&ud(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sd(e){var t=ld(e,"string");return"symbol"===id(t)?t:String(t)}function ld(e,t){if("object"!==id(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==id(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var fd=Symbol("setters"),pd=Symbol("setters"),hd=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];ad(this,e),this.workspaceMode=void 0,this[fd]=void 0,this.getSetter=function(e){return n[pd].getSetter(e)},this.registerSetter=function(e,t){return n[pd].registerSetter(e,t)},this.createSetterContent=function(e,t){return n[pd].createSetterContent(e,t)},this.workspaceMode=r,this[fd]=t}return cd(e,[{key:pd,get:function e(){if(this.workspaceMode)return this[fd];var t=a.globalContext.get("workspace");return t.isActive?t.window.innerSetters:this[fd]}},{key:"getSettersMap",value:function e(){return this[pd].getSettersMap()}}]),e}(),dd=["skeleton"],vd=["skeleton"],yd=["skeleton"],md=["skeleton"];function bd(e){return(bd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gd(e,t){if(null==e)return{};var n=wd(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wd(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function Od(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Od(Object(n),!0).forEach((function(t){jd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Od(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jd(e,t,n){return(t=Pd(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ed(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pd(r.key),r)}}function kd(e,t,n){return t&&Ed(e.prototype,t),n&&Ed(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pd(e){var t=xd(e,"string");return"symbol"===bd(t)?t:String(t)}function xd(e,t){if("object"!==bd(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==bd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Nd=Symbol("skeleton"),Cd=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Sd(this,e),this.workspaceMode=void 0,this[Nd]=void 0,this.pluginName=void 0,this.workspaceMode=r,this[Nd]=t,this.pluginName=n}return kd(e,[{key:Nt,get:function e(){if(this.workspaceMode)return this[Nd];var t=a.globalContext.get("workspace");return t.isActive?t.window.innerSkeleton:this[Nd]}},{key:"add",value:function e(t,n){var r=_d(_d({},t),{},{pluginName:this.pluginName});return this[Nt].add(r,n)}},{key:"remove",value:function e(t){var n,r=t.area,o=t.name,i=this[Nt];Td(r)&&(null===(n=i[Td(r)].container)||void 0===n||n.remove(o))}},{key:"showPanel",value:function e(t){var n;null===(n=this[Nt].getPanel(t))||void 0===n||n.show()}},{key:"hidePanel",value:function e(t){var n;null===(n=this[Nt].getPanel(t))||void 0===n||n.hide()}},{key:"showWidget",value:function e(t){var n;null===(n=this[Nt].getWidget(t))||void 0===n||n.show()}},{key:"enableWidget",value:function e(t){var n,r;null===(n=this[Nt].getWidget(t))||void 0===n||null===(r=n.enable)||void 0===r||r.call(n)}},{key:"hideWidget",value:function e(t){var n;null===(n=this[Nt].getWidget(t))||void 0===n||n.hide()}},{key:"disableWidget",value:function e(t){var n,r;null===(n=this[Nt].getWidget(t))||void 0===n||null===(r=n.disable)||void 0===r||r.call(n)}},{key:"showArea",value:function e(t){var n;null===(n=this[Nt][t])||void 0===n||n.show()}},{key:"hideArea",value:function e(t){var n;null===(n=this[Nt][t])||void 0===n||n.hide()}},{key:"onShowPanel",value:function e(t){var n=this[Nt].editor;return n.eventBus.on(Bc.PANEL_SHOW,(function(e,n){var r=n.skeleton,o=gd(n,dd);t(e,o)})),function(){return n.eventBus.off(Bc.PANEL_SHOW,t)}}},{key:"onHidePanel",value:function e(t){var n=this[Nt].editor;return n.eventBus.on(Bc.PANEL_HIDE,(function(e,n){var r=n.skeleton,o=gd(n,vd);t(e,o)})),function(){return n.eventBus.off(Bc.PANEL_HIDE,t)}}},{key:"onShowWidget",value:function e(t){var n=this[Nt].editor;return n.eventBus.on(Bc.WIDGET_SHOW,(function(e,n){var r=n.skeleton,o=gd(n,yd);t(e,o)})),function(){return n.eventBus.off(Bc.WIDGET_SHOW,t)}}},{key:"onHideWidget",value:function e(t){var n=this[Nt].editor;return n.eventBus.on(Bc.WIDGET_HIDE,(function(e,n){var r=n.skeleton,o=gd(n,md);t(e,o)})),function(){return n.eventBus.off(Bc.WIDGET_HIDE,t)}}}]),e}();function Td(e){switch(e){case"leftArea":case"left":return"leftArea";case"rightArea":case"right":return"rightArea";case"topArea":case"top":return"topArea";case"toolbar":return"toolbar";case"mainArea":case"main":case"center":case"centerArea":return"mainArea";case"bottomArea":case"bottom":return"bottomArea";case"leftFixedArea":return"leftFixedArea";case"leftFloatArea":return"leftFloatArea";case"stages":return"stages";default:throw new Error("".concat(e," not supported"))}}function Rd(e){return(Rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ad(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ld(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ad(Object(n),!0).forEach((function(t){Md(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ad(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Md(e,t,n){return(t=Vd(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Id(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vd(r.key),r)}}function Bd(e,t,n){return t&&Id(e.prototype,t),n&&Id(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vd(e){var t=Fd(e,"string");return"symbol"===Rd(t)?t:String(t)}function Fd(e,t){if("object"!==Rd(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Rd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Gd=Symbol("clipboardInstace"),Hd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Dd(this,e),this.workspaceMode=void 0,this[Tt]=void 0,this[Gd]=void 0,this.workspaceMode=n,this[Tt]=t,this[Gd]=new im}return Bd(e,[{key:xt,get:function e(){return this[Tt].get("designer")}},{key:"dragon",get:function e(){return wy.create(this[xt].dragon,this.workspaceMode)}},{key:"activeTracker",get:function e(){var t;return new My(this[xt].activeTracker)}},{key:"isInLiveEditing",get:function e(){var t,n,r,o;return Boolean(null===(t=this[Tt].get("designer"))||void 0===t||null===(n=t.project)||void 0===n||null===(r=n.simulator)||void 0===r||null===(o=r.liveEditing)||void 0===o?void 0:o.editing)}},{key:"clipboard",get:function e(){return this[Gd]}},{key:"createScrollTarget",value:function e(t){return new CS(t)}},{key:"createScroller",value:function e(t){return this[xt].createScroller(t)}},{key:"createLocation",value:function e(t){return this[xt].createLocation(Ld(Ld({},t),{},{target:t.target[Rt]}))}},{key:"dropLocation",get:function e(){return $n.create(this[xt].dropLocation||null)}}]),e}();function Ud(e){return(Ud="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kd(r.key),r)}}function $d(e,t,n){return t&&Wd(e.prototype,t),n&&Wd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kd(e){var t=Xd(e,"string");return"symbol"===Ud(t)?t:String(t)}function Xd(e,t){if("object"!==Ud(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ud(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var qd=function(){function e(t){zd(this,e),this[Zt]=void 0,this[Zt]=t}return $d(e,[{key:"resourceList",get:function e(){return this[Zt].getResourceList().map((function(e){return new Py(e)}))}},{key:"setResourceList",value:function e(t){this[Zt].setResourceList(t)}},{key:"onResourceListChange",value:function e(t){return this[Zt].onResourceListChange(t)}},{key:"isActive",get:function e(){return this[Zt].isActive}},{key:"window",get:function e(){return new Zy(this[Zt].window)}},{key:"registerResourceType",value:function e(t){this[Zt].registerResourceType(t)}},{key:"openEditorWindow",value:function e(t,n,r,o){this[Zt].openEditorWindow(t,n,r,o)}},{key:"openEditorWindowById",value:function e(t){this[Zt].openEditorWindowById(t)}},{key:"removeEditorWindow",value:function e(t,n){this[Zt].removeEditorWindow(t,n)}},{key:"removeEditorWindowById",value:function e(t){this[Zt].removeEditorWindowById(t)}},{key:"plugins",get:function e(){return new Uh(this[Zt].plugins,!0)}},{key:"windows",get:function e(){return this[Zt].windows.map((function(e){return new Zy(e)}))}},{key:"onChangeWindows",value:function e(t){return this[Zt].onChangeWindows(t)}},{key:"onChangeActiveWindow",value:function e(t){return this[Zt].onChangeActiveWindow(t)}}]),e}();function Yd(e){return(Yd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ev(r.key),r)}}function Qd(e,t,n){return t&&Zd(e.prototype,t),n&&Zd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ev(e){var t=tv(e,"string");return"symbol"===Yd(t)?t:String(t)}function tv(e,t){if("object"!==Yd(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Yd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var nv=function(){function e(t){Jd(this,e),this[At]=void 0,this[At]=t}return Qd(e,[{key:"setNodes",value:function e(){this[At].setNodes()}},{key:"getModalNodes",value:function e(){var t=this[At].getModalNodes(),n=[];return null==t||t.forEach((function(e){var t=Hv.create(e);t&&n.push(t)})),n}},{key:"getVisibleModalNode",value:function e(){return Hv.create(this[At].getVisibleModalNode())}},{key:"hideModalNodes",value:function e(){this[At].hideModalNodes()}},{key:"setVisible",value:function e(t){this[At].setVisible(t[Rt])}},{key:"setInvisible",value:function e(t){this[At].setInvisible(t[Rt])}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function rv(e){return(rv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ov(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=iv(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function iv(e,t){if(e){if("string"==typeof e)return av(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?av(e,t):void 0}}function av(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lv(r.key),r)}}function sv(e,t,n){return t&&cv(e.prototype,t),n&&cv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lv(e){var t=fv(e,"string");return"symbol"===rv(t)?t:String(t)}function fv(e,t){if("object"!==rv(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==rv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var pv=Symbol("shellDocSymbol"),hv=function(){function e(t){var n;uv(this,e),this[Ct]=void 0,this[Tt]=void 0,this._focusNode=void 0,this.selection=void 0,this.detecting=void 0,this.history=void 0,this.canvas=void 0,this[Ct]=t,this[Tt]=null===(n=t.designer)||void 0===n?void 0:n.editor,this.selection=new Rn(t),this.detecting=new qv(t),this.history=new Vn(t),this.canvas=new Hd(this[Tt]),this._focusNode=Hv.create(this[Ct].focusNode)}return sv(e,[{key:"id",get:function e(){return this[Ct].id},set:function e(t){this[Ct].id=t}},{key:"project",get:function e(){return od.create(this[Ct].project)}},{key:"root",get:function e(){return Hv.create(this[Ct].rootNode)}},{key:"focusNode",get:function e(){return this._focusNode||this.root},set:function e(t){this._focusNode=t,this[Tt].eventBus.emit("shell.document.focusNodeChanged",{document:this,focusNode:t})}},{key:"nodesMap",get:function e(){var t=new Map,n=ov(this[Ct].nodesMap.keys()),r;try{for(n.s();!(r=n.n()).done;){var o=r.value;t.set(o,this.getNodeById(o))}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"modalNodesManager",get:function e(){return nv.create(this[Ct].modalNodesManager)}},{key:"dropLocation",get:function e(){return $n.create(this[Ct].dropLocation)},set:function e(t){this[Ct].dropLocation=t}},{key:"getNodeById",value:function e(t){return Hv.create(this[Ct].getNode(t))}},{key:"importSchema",value:function e(t){this[Ct].import(t),this[Tt].eventBus.emit("shell.document.importSchema",t)}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.g.Render;return this[Ct].export(t)}},{key:"insertNode",value:function e(t,n,r,o){var i=this[Ct].insertNode(t[Rt]?t[Rt]:t,null!=n&&n[Rt]?n[Rt]:n,r,o);return Hv.create(i)}},{key:"createNode",value:function e(t){return Hv.create(this[Ct].createNode(t))}},{key:"removeNode",value:function e(t){this[Ct].removeNode(t)}},{key:"getComponentsMap",value:function e(t){return this[Ct].getComponentsMap(t)}},{key:"checkNesting",value:function e(t,n){var r=n,o;Object(V.C)(n)&&(r.nodes=null===(o=r.nodes)||void 0===o?void 0:o.map((function(e){return e[Rt]||e})));return this[Ct].checkNesting(t[Rt]||t,r)}},{key:"onAddNode",value:function e(t){return this[Ct].onNodeCreate((function(e){t(Hv.create(e))}))}},{key:"onMountNode",value:function e(t){var n=this;return this[Tt].eventBus.on("node.add",t),function(){n[Tt].eventBus.off("node.add",t)}}},{key:"onRemoveNode",value:function e(t){return this[Ct].onNodeDestroy((function(e){t(Hv.create(e))}))}},{key:"onChangeDetecting",value:function e(t){return this[Ct].designer.detecting.onDetectingChange((function(e){t(Hv.create(e))}))}},{key:"onChangeSelection",value:function e(t){return this[Ct].selection.onSelectionChange((function(e){t(e)}))}},{key:"onChangeNodeVisible",value:function e(t){return this[Ct].onChangeNodeVisible((function(e,n){t(Hv.create(e),n)}))}},{key:"onChangeNodeChildren",value:function e(t){return this[Ct].onChangeNodeChildren((function(e){e&&t({type:e.type,node:Hv.create(e.node)})}))}},{key:"onChangeNodeProp",value:function e(t){var n=this,r=function e(n){t({key:n.key,oldValue:n.oldValue,newValue:n.newValue,prop:bn.create(n.prop),node:Hv.create(n.node)})};return this[Tt].on(F.e.Node.Prop.InnerChange,r),function(){n[Tt].off(F.e.Node.Prop.InnerChange,r)}}},{key:"onImportSchema",value:function e(t){return this[Tt].eventBus.on("shell.document.importSchema",t)}},{key:"isDetectingNode",value:function e(t){return this.detecting.current===t}},{key:"onFocusNodeChanged",value:function e(t){return t?this[Tt].eventBus.on("shell.document.focusNodeChanged",(function(e){var n=e.document,r=e.focusNode;t(n,r)})):function(){}}},{key:"onDropLocationChanged",value:function e(t){return t?this[Tt].eventBus.on("document.dropLocation.changed",(function(e){var n=e.document;t(n)})):function(){}}}],[{key:"create",value:function t(n){if(!n)return null;if(n[pv])return n[pv];var r=new e(n);return n[pv]=r,r}}]),e}();function dv(e){return(dv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bv(r.key),r)}}function mv(e,t,n){return t&&yv(e.prototype,t),n&&yv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bv(e){var t=gv(e,"string");return"symbol"===dv(t)?t:String(t)}function gv(e,t){if("object"!==dv(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==dv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var wv=function(){function e(t){vv(this,e),this[Lt]=void 0,this[Lt]=t}return mv(e,[{key:"owner",get:function e(){return Hv.create(this[Lt].owner)}},{key:"size",get:function e(){return this[Lt].size}},{key:"isEmpty",get:function e(){return this[Lt].isEmptyNode}},{key:"isEmptyNode",get:function e(){return this[Lt].isEmptyNode}},{key:"notEmpty",get:function e(){return this[Lt].notEmptyNode}},{key:"notEmptyNode",get:function e(){return this[Lt].notEmptyNode}},{key:"delete",value:function e(t){return this[Lt].delete(null==t?void 0:t[Rt])}},{key:"insert",value:function e(t,n){return this[Lt].insert(null==t?void 0:t[Rt],n)}},{key:"indexOf",value:function e(t){return this[Lt].indexOf(null==t?void 0:t[Rt])}},{key:"splice",value:function e(t,n,r){this[Lt].splice(t,n,null==r?void 0:r[Rt])}},{key:"get",value:function e(t){return Hv.create(this[Lt].get(t))}},{key:"has",value:function e(t){return this[Lt].has(null==t?void 0:t[Rt])}},{key:"forEach",value:function e(t){this[Lt].forEach((function(e,n){t(Hv.create(e),n)}))}},{key:"map",value:function e(t){return this[Lt].map((function(e,n){return t(Hv.create(e),n)}))}},{key:"every",value:function e(t){return this[Lt].every((function(e,n){return t(Hv.create(e),n)}))}},{key:"some",value:function e(t){return this[Lt].some((function(e,n){return t(Hv.create(e),n)}))}},{key:"filter",value:function e(t){return this[Lt].filter((function(e,n){return t(Hv.create(e),n)})).map((function(e){return Hv.create(e)}))}},{key:"find",value:function e(t){return Hv.create(this[Lt].find((function(e,n){return t(Hv.create(e),n)})))}},{key:"reduce",value:function e(t,n){return this[Lt].reduce((function(e,n){return t(e,Hv.create(n))}),n)}},{key:"importSchema",value:function e(t){this[Lt].import(t)}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.g.Render;return this[Lt].export(t)}},{key:"mergeChildren",value:function e(t,n,r){var o=r;o||(o=function e(){return 0}),this[Lt].mergeChildren((function(e,n){return t(Hv.create(e),n)}),(function(e){return n(e.map((function(e){return Hv.create(e)})))}),(function(e,t){return o(Hv.create(e),Hv.create(t))}))}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function Ov(e){return(Ov="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ev(r.key),r)}}function Sv(e,t,n){return t&&jv(e.prototype,t),n&&jv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ev(e){var t=kv(e,"string");return"symbol"===Ov(t)?t:String(t)}function kv(e,t){if("object"!==Ov(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ov(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Pv=function(){function e(t){_v(this,e),this[Dt]=void 0,this[Dt]=t}return Sv(e,[{key:"isGroup",get:function e(){return this[Dt].isGroup}},{key:"id",get:function e(){return this[Dt].id}},{key:"name",get:function e(){return this[Dt].name}},{key:"key",get:function e(){return this[Dt].getKey()}},{key:"path",get:function e(){return this[Dt].path}},{key:"title",get:function e(){return this[Dt].title}},{key:"setter",get:function e(){return this[Dt].setter}},{key:"expanded",get:function e(){return this[Dt].expanded}},{key:"extraProps",get:function e(){return this[Dt].extraProps}},{key:"props",get:function e(){return Lv.create(this[Dt].props)}},{key:"node",get:function e(){return Hv.create(this[Dt].getNode())}},{key:"parent",get:function t(){return e.create(this[Dt].parent)}},{key:"top",get:function e(){return Lv.create(this[Dt].top)}},{key:"isSettingField",get:function e(){return this[Dt].isSettingField}},{key:"componentMeta",get:function e(){return fn.create(this[Dt].componentMeta)}},{key:"items",get:function e(){var t;return null===(t=this[Dt].items)||void 0===t?void 0:t.map((function(e){return Object(V.y)(e)?e:e.internalToShellPropEntry()}))}},{key:"setKey",value:function e(t){this[Dt].setKey(t)}},{key:"getNode",value:function e(){return this.node}},{key:"getParent",value:function e(){return this.parent}},{key:"setValue",value:function e(t,n){this[Dt].setValue(t,!1,!1,n)}},{key:"setPropValue",value:function e(t,n){this[Dt].setPropValue(t,n)}},{key:"clearPropValue",value:function e(t){this[Dt].clearPropValue(t)}},{key:"getDefaultValue",value:function e(){return this[Dt].getDefaultValue()}},{key:"getValue",value:function e(){return this[Dt].getValue()}},{key:"getPropValue",value:function e(t){return this[Dt].getPropValue(t)}},{key:"getExtraPropValue",value:function e(t){return this[Dt].getExtraPropValue(t)}},{key:"setExtraPropValue",value:function e(t,n){this[Dt].setExtraPropValue(t,n)}},{key:"getProps",value:function e(){return Lv.create(this[Dt].getProps())}},{key:"isUseVariable",value:function e(){return this[Dt].isUseVariable()}},{key:"setUseVariable",value:function e(t){this[Dt].setUseVariable(t)}},{key:"createField",value:function t(n){return e.create(this[Dt].createField(n))}},{key:"getMockOrValue",value:function e(){return this[Dt].getMockOrValue()}},{key:"purge",value:function e(){this[Dt].purge()}},{key:"remove",value:function e(){this[Dt].remove()}},{key:"onEffect",value:function e(t){return this[Dt].onEffect(t)}},{key:"internalToShellPropEntry",value:function e(){return this}}],[{key:"create",value:function t(n){return new e(n)}}]),e}();function xv(e){return(xv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rv(r.key),r)}}function Tv(e,t,n){return t&&Cv(e.prototype,t),n&&Cv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rv(e){var t=Av(e,"string");return"symbol"===xv(t)?t:String(t)}function Av(e,t){if("object"!==xv(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Lv=function(){function e(t){Nv(this,e),this[It]=void 0,this[It]=t}return Tv(e,[{key:"node",get:function e(){return Hv.create(this[It].getNode())}},{key:"get",value:function e(t){return Pv.create(this[It].get(t))}},{key:"getNode",value:function e(){return this.node}},{key:"getPropValue",value:function e(t){return this[It].getPropValue(t)}},{key:"setPropValue",value:function e(t,n){this[It].setPropValue(t,n)}}],[{key:"create",value:function t(n){return new e(n)}}]),e}();function Mv(e){return(Mv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vv(r.key),r)}}function Bv(e,t,n){return t&&Iv(e.prototype,t),n&&Iv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vv(e){var t=Fv(e,"string");return"symbol"===Mv(t)?t:String(t)}function Fv(e,t){if("object"!==Mv(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Mv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Gv=Symbol("shellNodeSymbol"),Hv=function(){function e(t){Dv(this,e),this[Ct]=void 0,this[Rt]=void 0,this._id=void 0,this.isNode=!0,this[Rt]=t,this[Ct]=t.document,this._id=this[Rt].id}return Bv(e,[{key:"id",get:function e(){return this._id},set:function e(t){this._id=t}},{key:"title",get:function e(){return this[Rt].title}},{key:"isContainer",get:function e(){return this[Rt].isContainerNode}},{key:"isContainerNode",get:function e(){return this[Rt].isContainerNode}},{key:"isRoot",get:function e(){return this[Rt].isRootNode}},{key:"isRootNode",get:function e(){return this[Rt].isRootNode}},{key:"isEmpty",get:function e(){return this[Rt].isEmptyNode}},{key:"isEmptyNode",get:function e(){return this[Rt].isEmptyNode}},{key:"isPage",get:function e(){return this[Rt].isPageNode}},{key:"isPageNode",get:function e(){return this[Rt].isPageNode}},{key:"isComponent",get:function e(){return this[Rt].isComponentNode}},{key:"isComponentNode",get:function e(){return this[Rt].isComponentNode}},{key:"isModal",get:function e(){return this[Rt].isModalNode}},{key:"isModalNode",get:function e(){return this[Rt].isModalNode}},{key:"isSlot",get:function e(){return this[Rt].isSlotNode}},{key:"isSlotNode",get:function e(){return this[Rt].isSlotNode}},{key:"isParental",get:function e(){return this[Rt].isParentalNode}},{key:"isParentalNode",get:function e(){return this[Rt].isParentalNode}},{key:"isLeaf",get:function e(){return this[Rt].isLeafNode}},{key:"isLeafNode",get:function e(){return this[Rt].isLeafNode}},{key:"isLocked",get:function e(){return this[Rt].isLocked}},{key:"index",get:function e(){return this[Rt].index}},{key:"icon",get:function e(){return this[Rt].icon}},{key:"zLevel",get:function e(){return this[Rt].zLevel}},{key:"componentName",get:function e(){return this[Rt].componentName}},{key:"componentMeta",get:function e(){return fn.create(this[Rt].componentMeta)}},{key:"document",get:function e(){return hv.create(this[Ct])}},{key:"prevSibling",get:function t(){return e.create(this[Rt].prevSibling)}},{key:"nextSibling",get:function t(){return e.create(this[Rt].nextSibling)}},{key:"parent",get:function t(){return e.create(this[Rt].parent)}},{key:"children",get:function e(){return wv.create(this[Rt].children)}},{key:"slots",get:function t(){return this[Rt].slots.map((function(t){return e.create(t)}))}},{key:"slotFor",get:function e(){return bn.create(this[Rt].slotFor)}},{key:"props",get:function e(){return En.create(this[Rt].props)}},{key:"propsData",get:function e(){return this[Rt].propsData}},{key:"schema",get:function e(){return this[Rt].schema}},{key:"settingEntry",get:function e(){return Lv.create(this[Rt].settingEntry)}},{key:"getChildren",value:function e(){return this.children}},{key:"getDOMNode",value:function e(){return this[Rt].getDOMNode()}},{key:"mergeChildren",value:function e(t,n,r){var o;return null===(o=this.children)||void 0===o?void 0:o.mergeChildren(t,n,r)}},{key:"getRect",value:function e(){return this[Rt].getRect()}},{key:"hasSlots",value:function e(){return this[Rt].hasSlots()}},{key:"hasCondition",value:function e(){return this[Rt].hasCondition()}},{key:"hasLoop",value:function e(){return this[Rt].hasLoop()}},{key:"visible",get:function e(){return this[Rt].getVisible()},set:function e(t){this[Rt].setVisible(t)}},{key:"getVisible",value:function e(){return this[Rt].getVisible()}},{key:"setVisible",value:function e(t){this[Rt].setVisible(t)}},{key:"isConditionalVisible",value:function e(){return this[Rt].isConditionalVisible()}},{key:"lock",value:function e(t){this[Rt].lock(t)}},{key:"getProps",value:function e(){return this.props}},{key:"contains",value:function e(t){return this[Rt].contains(t[Rt])}},{key:"getProp",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return bn.create(this[Rt].getProp(t,n))}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.getProp(t,!1))||void 0===n?void 0:n.getValue()}},{key:"getExtraProp",value:function e(t,n){return bn.create(this[Rt].getExtraProp(t,n))}},{key:"getExtraPropValue",value:function e(t){var n;return null===(n=this.getExtraProp(t))||void 0===n?void 0:n.getValue()}},{key:"setPropValue",value:function e(t,n){var r;return null===(r=this.getProp(t))||void 0===r?void 0:r.setValue(n)}},{key:"setExtraPropValue",value:function e(t,n){var r;return null===(r=this.getExtraProp(t))||void 0===r?void 0:r.setValue(n)}},{key:"importSchema",value:function e(t){this[Rt].import(t)}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.g.Render,n=arguments.length>1?arguments[1]:void 0;return this[Rt].export(t,n)}},{key:"insertBefore",value:function e(t,n,r){this[Rt].insertBefore(t[Rt]||t,null==n?void 0:n[Rt],r)}},{key:"insertAfter",value:function e(t,n,r){this[Rt].insertAfter(t[Rt]||t,null==n?void 0:n[Rt],r)}},{key:"replaceChild",value:function t(n,r){return e.create(this[Rt].replaceChild(n[Rt],r))}},{key:"replaceWith",value:function e(t){this[Rt].replaceWith(t)}},{key:"select",value:function e(){this[Rt].select()}},{key:"hover",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this[Rt].hover(t)}},{key:"remove",value:function e(){this[Rt].remove()}},{key:"isRGLContainer",get:function e(){return this[Rt].isRGLContainerNode},set:function e(t){this[Rt].isRGLContainerNode=t}},{key:"isRGLContainerNode",get:function e(){return this[Rt].isRGLContainerNode},set:function e(t){this[Rt].isRGLContainerNode=t}},{key:"internalToShellNode",value:function e(){return this}},{key:"canPerformAction",value:function e(t){return this[Rt].canPerformAction(t)}},{key:"conditionGroup",get:function e(){return this[Rt].conditionGroup}},{key:"setConditionalVisible",value:function e(){this[Rt].setConditionalVisible()}}],[{key:"create",value:function t(n){if(!n)return null;if(n[Gv])return n[Gv];var r=new e(n);return n[Gv]=r,r}}]),e}();function Uv(e){return(Uv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kv(r.key),r)}}function $v(e,t,n){return t&&Wv(e.prototype,t),n&&Wv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kv(e){var t=Xv(e,"string");return"symbol"===Uv(t)?t:String(t)}function Xv(e,t){if("object"!==Uv(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Uv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var qv=function(){function e(t){var n;zv(this,e),this[Ct]=void 0,this[Vt]=void 0,this[Ct]=t,this[Vt]=null===(n=t.designer)||void 0===n?void 0:n.detecting}return $v(e,[{key:"enable",get:function e(){return this[Vt].enable}},{key:"current",get:function e(){return Hv.create(this[Vt].current)}},{key:"capture",value:function e(t){this[Vt].capture(this[Ct].getNode(t))}},{key:"release",value:function e(t){this[Vt].release(this[Ct].getNode(t))}},{key:"leave",value:function e(){this[Vt].leave(this[Ct])}},{key:"onDetectingChange",value:function e(t){var n=function e(n){var r=Hv.create(n);t(r)};return this[Vt].onDetectingChange(n)}}]),e}();function Yv(e){return(Yv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ey(r.key),r)}}function Qv(e,t,n){return t&&Zv(e.prototype,t),n&&Zv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ey(e){var t=ty(e,"string");return"symbol"===Yv(t)?t:String(t)}function ty(e,t){if("object"!==Yv(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Yv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var ny=function(){function e(t){Jv(this,e),this[Kt]=void 0,this[Kt]=t}return Qv(e,[{key:"type",get:function e(){return this[Kt].type}},{key:"nodes",get:function e(){var t=this[Kt].nodes;return t?t.map(Hv.create):null}},{key:"data",get:function e(){return this[Kt].data}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function ry(e){return(ry="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uy(r.key),r)}}function ay(e,t,n){return t&&iy(e.prototype,t),n&&iy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function uy(e){var t=cy(e,"string");return"symbol"===ry(t)?t:String(t)}function cy(e,t){if("object"!==ry(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ry(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var sy=function(){function e(t){oy(this,e),this[Xt]=void 0,this[Xt]=t}return ay(e,[{key:"type",get:function e(){return this[Xt].type}},{key:"globalX",get:function e(){return this[Xt].globalX}},{key:"globalY",get:function e(){return this[Xt].globalY}},{key:"originalEvent",get:function e(){return this[Xt].originalEvent}},{key:"target",get:function e(){return this[Xt].target}},{key:"canvasX",get:function e(){return this[Xt].canvasX}},{key:"canvasY",get:function e(){return this[Xt].canvasY}},{key:"dragObject",get:function e(){return ny.create(this[Xt].dragObject)}}],[{key:"create",value:function t(n){return n?new e(n):null}}]),e}();function ly(e){return(ly="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function py(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fy(Object(n),!0).forEach((function(t){hy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hy(e,t,n){return(t=my(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,my(r.key),r)}}function yy(e,t,n){return t&&vy(e.prototype,t),n&&vy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function my(e){var t=by(e,"string");return"symbol"===ly(t)?t:String(t)}function by(e,t){if("object"!==ly(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ly(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var gy=Symbol("innerDragonSymbol"),wy=function(){function e(t,n){dy(this,e),this.workspaceMode=void 0,this[gy]=void 0,this.workspaceMode=n,this[gy]=t}return yy(e,[{key:Ut,get:function e(){if(this.workspaceMode)return this[gy];var t=a.globalContext.get("workspace"),n=a.globalContext.get("editor"),r;return t.isActive&&(n=t.window.editor),n.get("designer").dragon}},{key:"dragging",get:function e(){return this[Ut].dragging}},{key:"onDragstart",value:function e(t){return this[Ut].onDragstart((function(e){return t(sy.create(e))}))}},{key:"onDrag",value:function e(t){return this[Ut].onDrag((function(e){return t(sy.create(e))}))}},{key:"onDragend",value:function e(t){return this[Ut].onDragend((function(e){var n=ny.create(e.dragObject),r=e.copy;return t({dragObject:n,copy:r})}))}},{key:"from",value:function e(t,n){return this[Ut].from(t,n)}},{key:"boost",value:function e(t,n,r){return this[Ut].boost(py(py({},t),{},{nodes:t.nodes.map((function(e){return e[Rt]}))}),n,r)}},{key:"addSensor",value:function e(t){return this[Ut].addSensor(t)}},{key:"removeSensor",value:function e(t){return this[Ut].removeSensor(t)}}],[{key:"create",value:function t(n,r){return n?new e(n,r):null}}]),e}();function Oy(e){return(Oy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ey(r.key),r)}}function Sy(e,t,n){return t&&jy(e.prototype,t),n&&jy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ey(e){var t=ky(e,"string");return"symbol"===Oy(t)?t:String(t)}function ky(e,t){if("object"!==Oy(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Oy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Py=function(){function e(t){_y(this,e),this[nn]=void 0,this[nn]=t}return Sy(e,[{key:"title",get:function e(){return this[nn].title}},{key:"icon",get:function e(){return this[nn].icon}},{key:"options",get:function e(){return this[nn].options}},{key:"name",get:function e(){return this[nn].resourceType.name}},{key:"type",get:function e(){return this[nn].resourceType.type}},{key:"category",get:function e(){return this[nn].category}},{key:"children",get:function t(){return this[nn].children.map((function(t){return new e(t)}))}},{key:"viewType",get:function e(){return this[nn].viewType}}]),e}();function xy(e){return(xy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ny(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ry(r.key),r)}}function Ty(e,t,n){return t&&Cy(e.prototype,t),n&&Cy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ry(e){var t=Ay(e,"string");return"symbol"===xy(t)?t:String(t)}function Ay(e,t){if("object"!==xy(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Ly=Symbol("activeTracker"),My=function(){function e(t){Ny(this,e),this[Ly]=void 0,this[Ly]=t}return Ty(e,[{key:"onChange",value:function e(t){return t?this[Ly].onChange((function(e){var n=e.node,r=e.detail,o=e.instance,i=Hv.create(n),a;t({node:i,detail:r,instance:o})})):function(){}}},{key:"track",value:function e(t){this[Ly].track(t[Rt])}}]),e}();function Dy(e){return(Dy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Iy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function By(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fy(r.key),r)}}function Vy(e,t,n){return t&&By(e.prototype,t),n&&By(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fy(e){var t=Gy(e,"string");return"symbol"===Dy(t)?t:String(t)}function Gy(e,t){if("object"!==Dy(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Dy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Hy=function(){function e(t){Iy(this,e),this[en]=void 0,this[en]=t}return Vy(e,[{key:"pluginName",get:function e(){return this[en].name}},{key:"dep",get:function e(){return this[en].dep}},{key:"disabled",get:function e(){return this[en].disabled},set:function e(t){this[en].setDisabled(t)}},{key:"meta",get:function e(){return this[en].meta}}]),e}();function Uy(e){return(Uy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zy(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */zy=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(k([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==Uy(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=_(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Wy(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function $y(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Wy(i,r,o,a,u,"next",e)}function u(e){Wy(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Ky(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yy(r.key),r)}}function qy(e,t,n){return t&&Xy(e.prototype,t),n&&Xy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yy(e){var t=Jy(e,"string");return"symbol"===Uy(t)?t:String(t)}function Jy(e,t){if("object"!==Uy(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Uy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Zy=function(){function e(t){Ky(this,e),this[Qt]=void 0,this[Qt]=t}return qy(e,[{key:"id",get:function e(){var t;return null===(t=this[Qt])||void 0===t?void 0:t.id}},{key:"title",get:function e(){return this[Qt].title}},{key:"icon",get:function e(){return this[Qt].icon}},{key:"resource",get:function e(){return new Py(this[Qt].resource)}},{key:"importSchema",value:function e(t){this[Qt].importSchema(t)}},{key:"changeViewType",value:function e(t){this[Qt].changeViewType(t,!1)}},{key:"onChangeViewType",value:function e(t){return this[Qt].onChangeViewType(t)}},{key:"save",value:function(){var e=$y(zy().mark((function e(){return zy().wrap((function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this[Qt].save();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function Qy(e){return(Qy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function em(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rm(r.key),r)}}function nm(e,t,n){return t&&tm(e.prototype,t),n&&tm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rm(e){var t=om(e,"string");return"symbol"===Qy(t)?t:String(t)}function om(e,t){if("object"!==Qy(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Qy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var im=function(){function e(){em(this,e),this[rn]=void 0,this[rn]=jw}return nm(e,[{key:"setData",value:function e(t){this[rn].setData(t)}},{key:"waitPasteData",value:function e(t,n){this[rn].waitPasteData(t,n)}}]),e}(),am=["componentName","id","children","props"],um=["componentName","id","children","props"],cm,sm,lm,fm,pm;function hm(e){return(hm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dm(Object(n),!0).forEach((function(t){ym(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ym(e,t,n){return(t=_m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mm(e,t){if(null==e)return{};var n=bm(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bm(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function gm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_m(r.key),r)}}function Om(e,t,n){return t&&wm(e.prototype,t),n&&wm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _m(e){var t=jm(e,"string");return"symbol"===hm(t)?t:String(t)}function jm(e,t){if("object"!==hm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==hm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Sm=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};gm(this,e),this.document=void 0,this.emitter=void 0,this.isNode=!0,this.id=void 0,this.componentName=void 0,this.props=void 0,this._children=void 0,this._addons={},this._parent=null,this.isInited=!1,this._settingEntry=void 0,this.autoruns=void 0,this._isRGLContainer=!1,this._slotFor=null,this._slots=[],this._conditionGroup=null,this.purged=!1,this.purging=!1,this.status={inPlaceEditing:!1,locking:!1,pseudo:!1},this.document=t,Object(a.makeObservable)(this);var i=n.componentName,u=n.id,c=n.children,s=n.props,l=mm(n,am);this.id=t.nextId(u),this.componentName=i,"Leaf"===this.componentName?this.props=new Ue(this,{children:Object(V.z)(c)||Object(V.H)(c)?c:""}):(this.props=new Ue(this,s,l),this._children=new nt(this,this.initialChildren(c)),this._children.internalInitParent(),this.props.merge(this.upgradeProps(this.initProps(s||{})),this.upgradeProps(l)),this.setupAutoruns()),this.initBuiltinProps(),this.isInited=!0,this.emitter=Object(a.createModuleEventBus)("Node");var f=this.document.designer.editor;this.onVisibleChange((function(e){null==f||f.eventBus.emit(kt.NODE_VISIBLE_CHANGE,r,e)})),this.onChildrenChange((function(e){null==f||f.eventBus.emit(kt.NODE_VISIBLE_CHANGE,e)}))}return Om(e,[{key:"parent",get:function e(){return this._parent}},{key:"children",get:function e(){return this._children||null}},{key:"zLevel",get:function e(){return this._parent?this._parent.zLevel+1:0}},{key:"title",get:function e(){var t=this.getExtraProp("title");if(t){var n=t.getAsString();if(n)return n}return this.componentMeta.title}},{key:"icon",get:function e(){return this.componentMeta.icon}},{key:"settingEntry",get:function e(){return this._settingEntry||(this._settingEntry=this.document.designer.createSettingEntry([this])),this._settingEntry}},{key:"isRGLContainer",get:function e(){return!!this._isRGLContainer},set:function e(t){this._isRGLContainer=t}},{key:"isRGLContainerNode",get:function e(){return!!this._isRGLContainer},set:function e(t){this._isRGLContainer=t}},{key:"slots",get:function e(){return this._slots}},{key:"conditionGroup",get:function e(){return this._conditionGroup}},{key:"isPurged",get:function e(){return this.purged}},{key:"isPurging",get:function e(){return this.purging}},{key:"initBuiltinProps",value:function e(){this.props.has(Ge("hidden"))||this.props.add(!1,Ge("hidden")),this.props.has(Ge("title"))||this.props.add("",Ge("title")),this.props.has(Ge("isLocked"))||this.props.add(!1,Ge("isLocked")),this.props.has(Ge("condition"))||this.props.add(!0,Ge("condition")),this.props.has(Ge("conditionGroup"))||this.props.add("",Ge("conditionGroup")),this.props.has(Ge("loop"))||this.props.add(void 0,Ge("loop"))}},{key:"initProps",value:function e(t){return this.document.designer.transformProps(t,this,F.g.Init)}},{key:"upgradeProps",value:function e(t){return this.document.designer.transformProps(t,this,F.g.Upgrade)}},{key:"setupAutoruns",value:function e(){var t=this,n=this.componentMeta.advanced.autoruns;!n||n.length<1||(this.autoruns=n.map((function(e){return Object(a.autorun)((function(){e.autorun(bn.create(t.props.get(e.name,!0)))}))})))}},{key:"initialChildren",value:function e(t){if(null==t){var e=this.componentMeta.advanced.initialChildren;if(e)return"function"==typeof e?e(this)||[]:e}return t||[]}},{key:"isContainer",value:function e(){return this.isContainerNode}},{key:"isContainerNode",get:function e(){return this.isParentalNode&&this.componentMeta.isContainer}},{key:"isModal",value:function e(){return this.isModalNode}},{key:"isModalNode",get:function e(){return this.componentMeta.isModal}},{key:"isRoot",value:function e(){return this.isRootNode}},{key:"isRootNode",get:function e(){return this.document.rootNode===this}},{key:"isPage",value:function e(){return this.isPageNode}},{key:"isPageNode",get:function e(){return this.isRootNode&&"Page"===this.componentName}},{key:"isComponent",value:function e(){return this.isComponentNode}},{key:"isComponentNode",get:function e(){return this.isRootNode&&"Component"===this.componentName}},{key:"isSlot",value:function e(){return this.isSlotNode}},{key:"isSlotNode",get:function e(){return null!=this._slotFor&&"Slot"===this.componentName}},{key:"isParental",value:function e(){return this.isParentalNode}},{key:"isParentalNode",get:function e(){return!this.isLeafNode}},{key:"isLeaf",value:function e(){return this.isLeafNode}},{key:"isLeafNode",get:function e(){return"Leaf"===this.componentName}},{key:"internalSetWillPurge",value:function e(){this.internalSetParent(null),this.document.addWillPurge(this)}},{key:"didDropIn",value:function e(t){var n=this.componentMeta.advanced.callbacks;if(null!=n&&n.onNodeAdd){var r=this.internalToShellNode();null==n||n.onNodeAdd.call(r,t.internalToShellNode(),r)}this._parent&&this._parent.didDropIn(t)}},{key:"didDropOut",value:function e(t){var n=this.componentMeta.advanced.callbacks;if(null!=n&&n.onNodeRemove){var r=this.internalToShellNode();null==n||n.onNodeRemove.call(r,t.internalToShellNode(),r)}this._parent&&this._parent.didDropOut(t)}},{key:"internalSetParent",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._parent!==t){var r,o;if(this._parent)if(this.isSlot())this._parent.unlinkSlot(this);else null===(r=this._parent.children)||void 0===r||r.unlinkChild(this);if(n)null===(o=this._parent)||void 0===o||o.didDropOut(this);if(t){if(this._parent=t,this.document.removeWillPurge(this),!this.conditionGroup){var i,a=null===(i=this.getExtraProp("conditionGroup",!1))||void 0===i?void 0:i.getAsString();a&&this.setConditionGroup(a)}n&&t.didDropIn(this)}}}},{key:"internalSetSlotFor",value:function e(t){this._slotFor=t}},{key:"internalToShellNode",value:function e(){return this.document.designer.shellModelFactory.createNode(this)}},{key:"slotFor",get:function e(){return this._slotFor}},{key:"remove",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{suppressRemoveEvent:!1};if(this.parent){var o,i,a;if(!r.suppressRemoveEvent)null===(o=this.document.designer.editor)||void 0===o||o.eventBus.emit("node.remove.topLevel",{node:this,index:null===(i=this.parent)||void 0===i||null===(a=i.children)||void 0===a?void 0:a.indexOf(this)});this.isSlot()?(this.parent.removeSlot(this,n),this.parent.children.internalDelete(this,n,t,{suppressRemoveEvent:!0})):this.parent.children.internalDelete(this,n,t,{suppressRemoveEvent:!0})}}},{key:"lock",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setExtraProp("isLocked",t)}},{key:"isLocked",get:function e(){var t;return!(null===(t=this.getExtraProp("isLocked"))||void 0===t||!t.getValue())}},{key:"select",value:function e(){this.document.selection.select(this.id)}},{key:"hover",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?this.document.designer.detecting.capture(this):this.document.designer.detecting.release(this)}},{key:"componentMeta",get:function e(){return this.document.getComponentMeta(this.componentName)}},{key:"propsData",get:function e(){return this.isParental()&&"Fragment"!==this.componentName&&this.props.export(F.g.Serilize).props||null}},{key:"hasSlots",value:function e(){return this._slots.length>0}},{key:"setConditionGroup",value:function e(t){var n,r,o,i,a,u;if(!t)return null===(n=this.getExtraProp("conditionGroup",!1))||void 0===n||n.remove(),void(this._conditionGroup&&(this._conditionGroup.remove(this),this._conditionGroup=null));gt(t)||(t=(null===(r=this.prevSibling)||void 0===r||null===(o=r.conditionGroup)||void 0===o?void 0:o.name)===t?this.prevSibling.conditionGroup:(null===(i=this.nextSibling)||void 0===i||null===(a=i.conditionGroup)||void 0===a?void 0:a.name)===t?this.nextSibling.conditionGroup:new bt(t));this._conditionGroup!==t&&(null===(u=this.getExtraProp("conditionGroup",!0))||void 0===u||u.setValue(t.name),this._conditionGroup&&this._conditionGroup.remove(this),this._conditionGroup=t,t.add(this))}},{key:"isConditionalVisible",value:function e(){var t;return null===(t=this._conditionGroup)||void 0===t?void 0:t.isVisible(this)}},{key:"setConditionalVisible",value:function e(){var t;null===(t=this._conditionGroup)||void 0===t||t.setVisible(this)}},{key:"hasCondition",value:function e(){var t,n=null===(t=this.getExtraProp("condition",!1))||void 0===t?void 0:t.getValue();return null!=n&&""!==n&&!0!==n}},{key:"hasLoop",value:function e(){var t,n=null===(t=this.getExtraProp("loop",!1))||void 0===t?void 0:t.getValue();return null!=n&&(!!Array.isArray(n)||!!Object(V.H)(n))}},{key:"wrapWith",value:function e(t){var n;return this.replaceWith(vm(vm({},t),{},{children:[this.export()]})).children.get(0)}},{key:"replaceWith",value:function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=Object.assign({},r?this.export():{},t),null===(n=this.parent)||void 0===n?void 0:n.replaceChild(this,t)}},{key:"replaceChild",value:function e(t,n){var r;if(null!==(r=this.children)&&void 0!==r&&r.has(t)){var o=this.document.selection.has(t.id);delete n.id;var i=this.document.createNode(n);return this.insertBefore(i,t,!1),t.remove(!1),o&&this.document.selection.select(i.id),i}return t}},{key:"setVisible",value:function e(t){var n;null===(n=this.getExtraProp("hidden"))||void 0===n||n.setValue(!t),this.emitter.emit("visibleChange",t)}},{key:"getVisible",value:function e(){var t;return!(null!==(t=this.getExtraProp("hidden"))&&void 0!==t&&t.getValue())}},{key:"onVisibleChange",value:function e(t){var n=this,r=Object(a.wrapWithEventSwitch)(t);return this.emitter.on("visibleChange",r),function(){n.emitter.removeListener("visibleChange",r)}}},{key:"getProp",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.props.query(t,n)||null}},{key:"getExtraProp",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.props.get(Ge(t),n)||null}},{key:"setExtraProp",value:function e(t,n){var r;null===(r=this.getProp(Ge(t),!0))||void 0===r||r.setValue(n)}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.getProp(t,!1))||void 0===n?void 0:n.value}},{key:"setPropValue",value:function e(t,n){this.getProp(t,!0).setValue(n)}},{key:"clearPropValue",value:function e(t){var n;null===(n=this.getProp(t,!1))||void 0===n||n.unset()}},{key:"mergeProps",value:function e(t){this.props.merge(t)}},{key:"setProps",value:function e(t){t instanceof Ue?this.props=t:this.props.import(t)}},{key:"index",get:function e(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"nextSibling",get:function e(){if(!this.parent)return null;var t=this.index;return t<0?null:this.parent.children.get(t+1)}},{key:"prevSibling",get:function e(){if(!this.parent)return null;var t=this.index;return t<1?null:this.parent.children.get(t-1)}},{key:"schema",get:function e(){return this.export(F.g.Save)},set:function e(t){var n=this;Object(a.runInAction)((function(){return n.import(t)}))}},{key:"import",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.componentName,o=t.id,i=t.children,a=t.props,u=mm(t,um);this.isSlot()&&$e(this.children,(function(e){e.remove(!0,!0)}),(function(e,t){return e.get(t)})),this.isParental()?(this.props.import(a,u),this._children.import(i,n)):this.props.get("children",!0).setValue(Object(V.z)(i)||Object(V.H)(i)?i:"")}},{key:"toData",value:function e(){return this.export()}},{key:"export",value:function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.g.Save,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n=Object(V.k)(n);var o={componentName:this.componentName};if(n!==F.g.Clone&&(o.id=this.id),n===F.g.Render&&(o.docId=this.document.id),this.isLeaf()){var i;if(!r.bypassChildren)o.children=null===(i=this.props.get("children"))||void 0===i?void 0:i.export(n);return o}var a=this.props.export(n)||{},u=a.props,c=void 0===u?{}:u,s=a.extras,l=vm({},s);Object.keys(this._addons).forEach((function(e){var n=t._addons[e];n&&(n.isProp?c[Ge(e)]=n.exportData():l[e]=n.exportData())}));var f=vm(vm({},o),{},{props:this.document.designer.transformProps(c,this,n)},this.document.designer.transformProps(l,this,n));return this.isParental()&&this.children.size>0&&!r.bypassChildren&&(f.children=this.children.export(n)),f}},{key:"contains",value:function e(t){return Cm(this,t)}},{key:"getZLevelTop",value:function e(t){return Nm(this,t)}},{key:"comparePosition",value:function e(t){return Tm(this,t)}},{key:"unlinkSlot",value:function e(t){var n=this._slots.indexOf(t);if(n<0)return!1;this._slots.splice(n,1)}},{key:"removeSlot",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this._slots.indexOf(t);return r<0||this._slots.splice(r,1),!1}},{key:"addSlot",value:function e(t){var n,r=null==t||null===(n=t.getExtraProp("name"))||void 0===n?void 0:n.getAsString();wt(this,r)&&Ot(this,r),t.internalSetParent(this,!0),this._slots.push(t)}},{key:"isValidComponent",value:function e(){var t,n,r=null===(t=this.document)||void 0===t||null===(n=t.designer)||void 0===n?void 0:n.componentsMap;return!(!r||!r[this.componentName])}},{key:"removeChild",value:function e(t){var n;null===(n=this.children)||void 0===n||n.delete(t)}},{key:"purge",value:function e(){var t,n;this.purged||(this.purged=!0,null===(t=this.autoruns)||void 0===t||t.forEach((function(e){return e()})),this.props.purge(),null===(n=this.settingEntry)||void 0===n||n.purge())}},{key:"internalPurgeStart",value:function e(){this.purging=!0}},{key:"canPerformAction",value:function e(t){var n,r,o=this,i;return((null===(n=this.componentMeta)||void 0===n||null===(r=n.availableActions)||void 0===r?void 0:r.filter((function(e){var t=e.condition;return"function"==typeof t?!1!==t(o):!1!==t})).map((function(e){return e.name})))||[]).indexOf(t)>=0}},{key:"isEmpty",value:function e(){return!this.children||this.children.isEmpty()}},{key:"getChildren",value:function e(){return this.children}},{key:"getComponentName",value:function e(){return this.componentName}},{key:"insert",value:function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.insertAfter(t,n,r)}},{key:"insertBefore",value:function e(t,n){var r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=km(t,this.document);null===(r=this.children)||void 0===r||r.internalInsert(i,n?n.index:null,o)}},{key:"insertAfter",value:function e(t,n){var r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=km(t,this.document);null===(r=this.children)||void 0===r||r.internalInsert(i,n?n.index+1:null,o)}},{key:"getParent",value:function e(){return this.parent}},{key:"getId",value:function e(){return this.id}},{key:"getIndex",value:function e(){return this.index}},{key:"getNode",value:function e(){return this}},{key:"getRoot",value:function e(){return this.document.rootNode}},{key:"getProps",value:function e(){return this.props}},{key:"onChildrenChange",value:function e(t){var n,r=Object(a.wrapWithEventSwitch)(t);return null===(n=this.children)||void 0===n?void 0:n.onChange(r)}},{key:"mergeChildren",value:function e(t,n,r){var o;null===(o=this.children)||void 0===o||o.mergeChildren(t,n,r)}},{key:"getStatus",value:function e(t){return t&&null!=this.status[t]?this.status[t]:this.status}},{key:"setStatus",value:function e(t,n){this.status.hasOwnProperty(t)&&n!==this.status[t]&&(this.status[t]=n)}},{key:"getDOMNode",value:function e(){var t,n,r,o,i=null===(t=this.document.simulator)||void 0===t||null===(n=t.getComponentInstances(this))||void 0===n?void 0:n[0];if(i)return null===(r=this.document.simulator)||void 0===r||null===(o=r.findDOMNodes(i))||void 0===o?void 0:o[0]}},{key:"getPage",value:function e(){return console.warn("getPage is deprecated, use document instead"),this.document}},{key:"getRGL",value:function e(){var t,n=this.isContainer(),r=this.isEmpty(),o=this.isRGLContainer,i=null===(t=this.getParent())||void 0===t?void 0:t.isRGLContainer,a=o||i&&(!n||!r),u;return{isContainerNode:n,isEmptyNode:r,isRGLContainerNode:o,isRGLNode:i,isRGL:a,rglNode:o?this:a?null==this?void 0:this.getParent():{}}}},{key:"getSuitablePlace",value:function e(t,n){var r,o,i,a,u,c=null===(r=this.document)||void 0===r?void 0:r.focusNode;if(null!=t&&null!==(o=t.componentMeta)&&void 0!==o&&o.isModal)return{container:c,ref:n};if(!n&&c&&this.contains(c)){var s,l,f,p=null===(s=c.componentMeta)||void 0===s||null===(l=s.prototype)||void 0===l||null===(f=l.options)||void 0===f?void 0:f.canDropIn;return void 0===p||!0===p||"function"==typeof p&&p(t)?{container:c}:null}if(this.isRoot()&&this.children){var h,d,v,y=this.children.filter((function(e){var n,r,o;if(!e.isContainerNode)return!1;var i=null===(n=e.componentMeta)||void 0===n||null===(r=n.prototype)||void 0===r||null===(o=r.options)||void 0===o?void 0:o.canDropIn;return!!(void 0===i||!0===i||"function"==typeof i&&i(t))}))[0];if(y)return{container:y,ref:n};var m=null===(h=this.componentMeta)||void 0===h||null===(d=h.prototype)||void 0===d||null===(v=d.options)||void 0===v?void 0:v.canDropIn;return void 0===m||!0===m||"function"==typeof m&&m(t)?{container:this,ref:n}:null}var b=null===(i=this.componentMeta)||void 0===i||null===(a=i.prototype)||void 0===a||null===(u=a.options)||void 0===u?void 0:u.canDropIn;return this.isContainer()&&(void 0===b||"boolean"==typeof b&&b||"function"==typeof b&&b(t))?{container:this,ref:n}:this.parent?this.parent.getSuitablePlace(t,{index:this.index}):null}},{key:"getAddonData",value:function e(t){var n,r=this._addons[t];return r?r.exportData():null===(n=this.getExtraProp(t))||void 0===n?void 0:n.getValue()}},{key:"registerAddon",value:function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._addons[t]={exportData:n,isProp:r}}},{key:"getRect",value:function e(){var t,n;return this.isRoot()?(null===(n=this.document.simulator)||void 0===n?void 0:n.viewport.contentBounds)||null:(null===(t=this.document.simulator)||void 0===t?void 0:t.computeRect(this))||null}},{key:"getPrototype",value:function e(){return this.componentMeta.prototype}},{key:"setPrototype",value:function e(t){this.componentMeta.prototype=t}},{key:"getIcon",value:function e(){return this.icon}},{key:"toString",value:function e(){return this.id}},{key:"emitPropChange",value:function e(t){var n;null===(n=this.emitter)||void 0===n||n.emit("propChange",t)}},{key:"onPropChange",value:function e(t){var n=this,r=Object(a.wrapWithEventSwitch)(t);return this.emitter.on("propChange",r),function(){n.emitter.removeListener("propChange",r)}}}]),e}(),Em;function km(e,t){var n=e;return Object(V.N)(e)||(n=e.getComponentName?t.createNode({componentName:e.getComponentName()}):t.createNode(e)),n}function Pm(e){return e&&e.isRootNode}function xm(e){var t;return"lowCode"===(null===(t=e.componentMeta)||void 0===t?void 0:t.getMetadata().devMode)}function Nm(e,t){var n=e.zLevel;if(n<t||t<0)return null;if(n===t)return e;for(var r=e;r&&n-- >t;)r=r.parent;return r}function Cm(e,t){if(e===t)return!0;if(!e.isParentalNode||!t.parent)return!1;var n=Nm(t,e.zLevel);return!!n&&e===n}function Tm(e,t){if(e===t)return Em.TheSame;var n=e.zLevel,r=t.zLevel,o;return n===r?Em.BeforeOrAfter:n<r?(o=Nm(t,n))&&o===e?Em.Contains:Em.BeforeOrAfter:(o=Nm(e,r))&&o===t?Em.ContainedBy:Em.BeforeOrAfter}function Rm(e,t,n,r){var o;return Object(V.N)(t)&&(r||t.isSlot())&&(t=t.export(F.g.Clone)),o=Object(V.N)(t)?t:e.document.createNode(t),e.children.insert(o,n),o}function Am(e,t,n,r){for(var o=n,i,a=[];i=t.pop();)i=Rm(e,i,o,r),a.push(i),o=i.index;return a}function Lm(e){return(Lm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mm(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Dm(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function Dm(e,t){if(e){if("string"==typeof e)return Im(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Im(e,t):void 0}}function Im(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gm(r.key),r)}}function Fm(e,t,n){return t&&Vm(e.prototype,t),n&&Vm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gm(e){var t=Hm(e,"string");return"symbol"===Lm(t)?t:String(t)}function Hm(e,t){if("object"!==Lm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Lm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}f([a.obx.ref,m("design:type",Object)],Sm.prototype,"_parent",void 0),f([a.computed,m("design:type",Number),m("design:paramtypes",[])],Sm.prototype,"zLevel",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],Sm.prototype,"title",null),f([a.obx.shallow,m("design:type",Array)],Sm.prototype,"_slots",void 0),f([a.obx.ref,m("design:type",Object)],Sm.prototype,"_conditionGroup",void 0),f([a.obx.shallow,m("design:type",Object)],Sm.prototype,"status",void 0),f([a.action,m("design:type",Function),m("design:paramtypes",[]),m("design:returntype",void 0)],Sm.prototype,"initBuiltinProps",null),f([a.action,m("design:type",Function),m("design:paramtypes",[Object]),m("design:returntype",Object)],Sm.prototype,"initProps",null),f([a.action,m("design:type",Function),m("design:paramtypes",[Object]),m("design:returntype",Object)],Sm.prototype,"upgradeProps",null),f([a.computed,m("design:type","function"==typeof(lm=void 0!==og&&og)?lm:Object),m("design:paramtypes",[])],Sm.prototype,"componentMeta",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],Sm.prototype,"propsData",null),f([a.computed,m("design:type",Number),m("design:paramtypes",[])],Sm.prototype,"index",null),function(e){e[e.Contains=16]="Contains",e[e.ContainedBy=8]="ContainedBy",e[e.BeforeOrAfter=2]="BeforeOrAfter",e[e.TheSame=0]="TheSame"}(Em||(Em={}));var Um=function(){function e(t){Bm(this,e),this.doc=void 0,this.emitter=Object(a.createModuleEventBus)("Selection"),this._selected=[],this.doc=t,Object(a.makeObservable)(this)}return Fm(e,[{key:"selected",get:function e(){return this._selected}},{key:"select",value:function e(t){1===this._selected.length&&this._selected.indexOf(t)>-1||(this._selected=[t],this.emitter.emit("selectionchange",this._selected))}},{key:"selectAll",value:function e(t){this._selected=t,this.emitter.emit("selectionchange",this._selected)}},{key:"clear",value:function e(){this._selected.length<1||(this._selected=[],this.emitter.emit("selectionchange",this._selected))}},{key:"dispose",value:function e(){for(var t=this._selected.length,n=t;n-- >0;){var r=this._selected[n];this.doc.hasNode(r)||this._selected.splice(n,1)}this._selected.length!==t&&this.emitter.emit("selectionchange",this._selected)}},{key:"add",value:function e(t){this._selected.indexOf(t)>-1||(this._selected.push(t),this.emitter.emit("selectionchange",this._selected))}},{key:"has",value:function e(t){return this._selected.indexOf(t)>-1}},{key:"remove",value:function e(t){var n=this._selected.indexOf(t);n>-1&&(this._selected.splice(n,1),this.emitter.emit("selectionchange",this._selected))}},{key:"containsNode",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Mm(this._selected),o;try{for(r.s();!(o=r.n()).done;){var i=o.value,a=this.doc.getNode(i);if((!n||null==a||!a.contains(this.doc.focusNode))&&(null!=a&&a.contains(t)))return!0}}catch(e){r.e(e)}finally{r.f()}return!1}},{key:"getNodes",value:function e(){var t=[],n=Mm(this._selected),r;try{for(n.s();!(r=n.n()).done;){var o=r.value,i=this.doc.getNode(o);i&&t.push(i)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"getTopNodes",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=[],r=Mm(this._selected),o;try{for(r.s();!(o=r.n()).done;){var i=o.value,a=this.doc.getNode(i);if(a&&(t||!a.contains(this.doc.focusNode))){for(var u=n.length,c=!0;u-- >0;){var s=Tm(n[u],a);if(s===Em.Contains||s===Em.TheSame){c=!1;break}s===Em.ContainedBy&&n.splice(u,1)}c&&n.push(a)}}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"onSelectionChange",value:function e(t){var n=this;return this.emitter.on("selectionchange",t),function(){n.emitter.removeListener("selectionchange",t)}}}]),e}();function zm(e){return(zm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xm(r.key),r)}}function Km(e,t,n){return t&&$m(e.prototype,t),n&&$m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xm(e){var t=qm(e,"string");return"symbol"===zm(t)?t:String(t)}function qm(e,t){if("object"!==zm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==zm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}f([a.obx.shallow,m("design:type",Array)],Um.prototype,"_selected",void 0);var Ym=new V.e({level:"warn",bizName:"history"}),Jm=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;Wm(this,e),this.redoer=void 0,this.timeGap=void 0,this.session=void 0,this.records=void 0,this.point=0,this.emitter=Object(a.createModuleEventBus)("History"),this.asleep=!1,this.currentSerialization={serialize:function e(t){return JSON.stringify(t)},unserialize:function e(t){return JSON.parse(t)}},this.redoer=n,this.timeGap=o,this.session=new Zm(0,null,this.timeGap),this.records=[this.session],Object(a.reaction)((function(){return t()}),(function(e){r.asleep||Object(a.untracked)((function(){var t=r.currentSerialization.serialize(e);if(r.session.data!==t)if(r.session.isActive())r.session.log(t);else{r.session.end();var n=r.getState(),o=r.session.cursor+1,i=new Zm(o,t,r.timeGap);r.session=i,r.records.splice(o,r.records.length-o,i);var a=r.getState();a!==n&&r.emitter.emit("statechange",a)}}))}),{fireImmediately:!0})}return Km(e,[{key:"hotData",get:function e(){return this.session.data}},{key:"setSerialization",value:function e(t){this.currentSerialization=t}},{key:"isSavePoint",value:function e(){return this.point!==this.session.cursor}},{key:"sleep",value:function e(){this.asleep=!0}},{key:"wakeup",value:function e(){this.asleep=!1}},{key:"go",value:function e(t){this.session.end();var n=t,r;if((n=+n)<0?n=0:n>=this.records.length&&(n=this.records.length-1),n!==this.session.cursor){var o=this.records[n],i=o.data;this.sleep();try{this.redoer(this.currentSerialization.unserialize(i)),this.emitter.emit("cursor",i)}catch(e){Ym.error(e)}this.wakeup(),this.session=o,this.emitter.emit("statechange",this.getState())}}},{key:"back",value:function e(){if(this.session){var t=this.session.cursor-1;this.go(t);var n=a.globalContext.get("workspace"),r=n.isActive?n.window.editor:a.globalContext.get("editor");r&&r.eventBus.emit("history.back",t)}}},{key:"forward",value:function e(){if(this.session){var t=this.session.cursor+1;this.go(t);var n=a.globalContext.get("workspace"),r=n.isActive?n.window.editor:a.globalContext.get("editor");r&&r.eventBus.emit("history.forward",t)}}},{key:"savePoint",value:function e(){this.session&&(this.session.end(),this.point=this.session.cursor,this.emitter.emit("statechange",this.getState()))}},{key:"getState",value:function e(){var t=this.session.cursor,n=7;return t<=0&&(n-=1),t>=this.records.length-1&&(n-=2),this.point===t&&(n-=4),n}},{key:"onChangeState",value:function e(t){return this.onStateChange(t)}},{key:"onStateChange",value:function e(t){var n=this;return this.emitter.on("statechange",t),function(){n.emitter.removeListener("statechange",t)}}},{key:"onChangeCursor",value:function e(t){return this.onCursor(t)}},{key:"onCursor",value:function e(t){var n=this;return this.emitter.on("cursor",t),function(){n.emitter.removeListener("cursor",t)}}},{key:"destroy",value:function e(){this.emitter.removeAllListeners(),this.records=[]}},{key:"isModified",value:function e(){return this.isSavePoint()}}]),e}(),Zm=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;Wm(this,e),this.cursor=void 0,this.timeGap=void 0,this._data=void 0,this.activeTimer=void 0,this.cursor=t,this.timeGap=r,this.setTimer(),this.log(n)}return Km(e,[{key:"data",get:function e(){return this._data}},{key:"log",value:function e(t){this.isActive()&&(this._data=t,this.setTimer())}},{key:"isActive",value:function e(){return null!=this.activeTimer}},{key:"end",value:function e(){this.isActive()&&this.clearTimer()}},{key:"setTimer",value:function e(){var t=this;this.clearTimer(),this.activeTimer=setTimeout((function(){return t.end()}),this.timeGap)}},{key:"clearTimer",value:function e(){this.activeTimer&&clearTimeout(this.activeTimer),this.activeTimer=null}}]),e}();function Qm(e){return(Qm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rb(r.key),r)}}function nb(e,t,n){return t&&tb(e.prototype,t),n&&tb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rb(e){var t=ob(e,"string");return"symbol"===Qm(t)?t:String(t)}function ob(e,t){if("object"!==Qm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Qm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ib(e){if(!e)return[];var t=[];e.componentMeta.isModal&&t.push(e);var n=e.children;return n&&n.forEach((function(e){t=t.concat(ib(e))})),t}var ab=function(){function e(t){var n=this;eb(this,e),this.willDestroy=void 0,this.page=void 0,this.modalNodes=void 0,this.nodeRemoveEvents=void 0,this.emitter=void 0,this.page=t,this.emitter=Object(a.createModuleEventBus)("ModalNodesManager"),this.nodeRemoveEvents={},this.setNodes(),this.hideModalNodes(),this.willDestroy=[t.onNodeCreate((function(e){return n.addNode(e)})),t.onNodeDestroy((function(e){return n.removeNode(e)}))]}return nb(e,[{key:"getModalNodes",value:function e(){return this.modalNodes}},{key:"getVisibleModalNode",value:function e(){var t;return this.getModalNodes().find((function(e){return e.getVisible()}))||null}},{key:"hideModalNodes",value:function e(){this.modalNodes.forEach((function(e){e.setVisible(!1)}))}},{key:"setVisible",value:function e(t){this.hideModalNodes(),t.setVisible(!0)}},{key:"setInvisible",value:function e(t){t.setVisible(!1)}},{key:"onVisibleChange",value:function e(t){var n=this;return this.emitter.on("visibleChange",t),function(){n.emitter.removeListener("visibleChange",t)}}},{key:"onModalNodesChange",value:function e(t){var n=this;return this.emitter.on("modalNodesChange",t),function(){n.emitter.removeListener("modalNodesChange",t)}}},{key:"addNode",value:function e(t){t.componentMeta.isModal&&(this.hideModalNodes(),this.modalNodes.push(t),this.addNodeEvent(t),this.emitter.emit("modalNodesChange"),this.emitter.emit("visibleChange"))}},{key:"removeNode",value:function e(t){if(t.componentMeta.isModal){var n=this.modalNodes.indexOf(t);n>=0&&this.modalNodes.splice(n,1),this.removeNodeEvent(t),this.emitter.emit("modalNodesChange"),t.getVisible()&&this.emitter.emit("visibleChange")}}},{key:"addNodeEvent",value:function e(t){var n=this;this.nodeRemoveEvents[t.id]=t.onVisibleChange((function(){n.emitter.emit("visibleChange")}))}},{key:"removeNodeEvent",value:function e(t){this.nodeRemoveEvents[t.id]&&(this.nodeRemoveEvents[t.id](),delete this.nodeRemoveEvents[t.id])}},{key:"setNodes",value:function e(){var t=this,n=ib(this.page.rootNode);this.modalNodes=n,this.modalNodes.forEach((function(e){t.addNodeEvent(e)})),this.emitter.emit("modalNodesChange")}}]),e}(),ub,cb,sb,lb;function fb(e){return(fb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pb(Object(n),!0).forEach((function(t){db(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function db(e,t,n){return(t=Ob(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vb(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=yb(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function yb(e,t){if(e){if("string"==typeof e)return mb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mb(e,t):void 0}}function mb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ob(r.key),r)}}function wb(e,t,n){return t&&gb(e.prototype,t),n&&gb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ob(e){var t=_b(e,"string");return"symbol"===fb(t)?t:String(t)}function _b(e,t){if("object"!==fb(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==fb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var jb=function(){function e(t,n){var r,o,i=this;bb(this,e),this.rootNode=void 0,this.id=Object(V.cb)("doc"),this.selection=new Um(this),this.history=void 0,this.modalNodesManager=void 0,this._nodesMap=new Map,this.project=void 0,this.designer=void 0,this.nodes=new Set,this.seqId=0,this.emitter=void 0,this.rootNodeVisitorMap={},this._addons=[],this._drillDownNode=null,this._modalNode=void 0,this._blank=void 0,this.inited=!1,this.willPurgeSpace=[],this.activeNodes=void 0,this._dropLocation=null,this._opened=!1,this._suspensed=!1,Object(a.makeObservable)(this),this.project=t,this.designer=null===(r=this.project)||void 0===r?void 0:r.designer,this.emitter=Object(a.createModuleEventBus)("DocumentModel"),n||(this._blank=!0),this.id=(null===(o=t.getSchema())||void 0===o?void 0:o.id)||this.id,this.rootNode=this.createNode(n||{componentName:"Page",id:"root",fileName:""}),this.history=new Jm((function(){return i.export(F.g.Serilize)}),(function(e){var t;i.import(e,!0),null===(t=i.simulator)||void 0===t||t.rerender()})),this.setupListenActiveNodes(),this.modalNodesManager=new ab(this),this.inited=!0}return wb(e,[{key:"simulator",get:function e(){return this.project.simulator}},{key:"nodesMap",get:function e(){return this._nodesMap}},{key:"fileName",get:function e(){var t,n;return(null===(t=this.rootNode)||void 0===t||null===(n=t.getExtraProp("fileName",!1))||void 0===n?void 0:n.getAsString())||this.id},set:function e(t){var n,r;null===(n=this.rootNode)||void 0===n||null===(r=n.getExtraProp("fileName",!0))||void 0===r||r.setValue(t)}},{key:"focusNode",get:function e(){if(this._drillDownNode)return this._drillDownNode;var t=a.engineConfig.get("focusNodeSelector");return t&&"function"==typeof t?t(this.rootNode):this.rootNode}},{key:"modalNode",get:function e(){return this._modalNode}},{key:"currentRoot",get:function e(){return this.modalNode||this.focusNode}},{key:"dropLocation",get:function e(){return this._dropLocation},set:function e(t){this._dropLocation=t,this.designer.editor.eventBus.emit("document.dropLocation.changed",{document:this,location:t})}},{key:"schema",get:function e(){var t;return null===(t=this.rootNode)||void 0===t?void 0:t.schema}},{key:"suspensed",get:function e(){return this._suspensed||!this._opened}},{key:"active",get:function e(){return!this._suspensed}},{key:"actived",get:function e(){return this.active}},{key:"opened",get:function e(){return this._opened}},{key:"root",get:function e(){return this.rootNode}},{key:"drillDown",value:function e(t){this._drillDownNode=t}},{key:"onChangeNodeVisible",value:function e(t){var n,r=this;return null===(n=this.designer.editor)||void 0===n||n.eventBus.on(kt.NODE_CHILDREN_CHANGE,t),function(){var e;null===(e=r.designer.editor)||void 0===e||e.eventBus.off(kt.NODE_CHILDREN_CHANGE,t)}}},{key:"onChangeNodeChildren",value:function e(t){var n,r=this;return null===(n=this.designer.editor)||void 0===n||n.eventBus.on(kt.NODE_VISIBLE_CHANGE,t),function(){var e;null===(e=r.designer.editor)||void 0===e||e.eventBus.off(kt.NODE_VISIBLE_CHANGE,t)}}},{key:"addWillPurge",value:function e(t){this.willPurgeSpace.push(t)}},{key:"removeWillPurge",value:function e(t){var n=this.willPurgeSpace.indexOf(t);n>-1&&this.willPurgeSpace.splice(n,1)}},{key:"isBlank",value:function e(){return this._blank&&!this.isModified()}},{key:"nextId",value:function e(t){for(var n=t;!n||this.nodesMap.get(n);)n="node_".concat((String(this.id).slice(-10)+(++this.seqId).toString(36)).toLocaleLowerCase());return n}},{key:"getNode",value:function e(t){return this._nodesMap.get(t)||null}},{key:"getNodeCount",value:function e(){var t;return null===(t=this._nodesMap)||void 0===t?void 0:t.size}},{key:"hasNode",value:function e(t){var n=this.getNode(t);return!!n&&!n.isPurged}},{key:"createNode",value:function e(t){var n,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o;o=Object(V.z)(t)||Object(V.H)(t)?{componentName:"Leaf",children:t}:t;var i=null;return this.hasNode(null===(n=o)||void 0===n?void 0:n.id)&&(o.id=null),o.id&&((i=this.getNode(o.id))&&i.componentName===o.componentName?(i.parent&&i.internalSetParent(null,!1),i.import(o,!0)):i&&(i=null)),i||(i=new Sm(this,o,{checkId:r})),this._nodesMap.set(i.id,i),this.nodes.add(i),this.emitter.emit("nodecreate",i),i}},{key:"destroyNode",value:function e(t){this.emitter.emit("nodedestroy",t)}},{key:"insertNode",value:function e(t,n,r,o){return Rm(t,n,r,o)}},{key:"insertNodes",value:function e(t,n,r,o){return Am(t,n,r,o)}},{key:"removeNode",value:function e(t){var n,r;"string"==typeof t?(n=t,r=this.getNode(n)):t.id&&(n=t.id,r=this.getNode(n)),r&&this.internalRemoveAndPurgeNode(r,!0)}},{key:"internalRemoveAndPurgeNode",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.nodes.has(t)&&t.remove(n)}},{key:"unlinkNode",value:function e(t){this.nodes.delete(t),this._nodesMap.delete(t.id)}},{key:"wrapWith",value:function e(t){var n=this.selection.getTopNodes();if(n.length<1)return null;var r=this.createNode(t);if(r.isParental()){var o=n[0];return Rm(o.parent,r,o.index),Am(r,n),this.selection.select(r.id),r}return this.removeNode(r),null}},{key:"import",value:function e(t){var n,r=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=null===(n=this._drillDownNode)||void 0===n?void 0:n.id;Object(a.runWithGlobalEventOff)((function(){var e;r.nodes.forEach((function(e){e.isRoot()||r.internalRemoveAndPurgeNode(e,!0)})),null===(e=r.rootNode)||void 0===e||e.import(t,o),r.modalNodesManager=new ab(r),i&&r.drillDown(r.getNode(i))}))}},{key:"export",value:function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.g.Serilize;n=Object(V.k)(n);var r=null===(t=this.rootNode)||void 0===t?void 0:t.export(n);if(Array.isArray(null==r?void 0:r.children)&&(null==r?void 0:r.children.length)>0){var o=r.children.filter((function(e){return Object(V.P)(e)})).findIndex((function(e){var t;return null===(t=e.props)||void 0===t?void 0:t.__isTopFixed__}));if(o>0){var i=r.children.splice(o,1);r.children.unshift(i[0])}}return r}},{key:"getNodeSchema",value:function e(t){var n=this.getNode(t);return n?n.schema:null}},{key:"isModified",value:function e(){return this.history.isSavePoint()}},{key:"getComponent",value:function e(t){return this.simulator.getComponent(t)}},{key:"getComponentMeta",value:function e(t){var n=this;return this.designer.getComponentMeta(t,(function(){var e;return(null===(e=n.simulator)||void 0===e?void 0:e.generateComponentMetadata(t))||null}))}},{key:"setSuspense",value:function e(t){var n;(this._opened||t)&&(this._suspensed=t,null===(n=this.simulator)||void 0===n||n.setSuspense(t),t||this.project.checkExclusive(this))}},{key:"suspense",value:function e(){this.setSuspense(!0)}},{key:"activate",value:function e(){this.setSuspense(!1)}},{key:"open",value:function e(){var t=this._opened;return this._opened=!0,!1===t&&this.designer.postEvent("document-open",this),this._suspensed?this.setSuspense(!1):this.project.checkExclusive(this),this}},{key:"close",value:function e(){this.setSuspense(!0),this._opened=!1}},{key:"remove",value:function e(){this.designer.postEvent("document.remove",{id:this.id}),this.purge(),this.project.removeDocument(this)}},{key:"purge",value:function e(){var t;null===(t=this.rootNode)||void 0===t||t.purge(),this.nodes.clear(),this._nodesMap.clear(),this.rootNode=null}},{key:"checkNesting",value:function e(t,n){var r=this,o;if(Object(V.B)(n))o=Array.isArray(n.data)?n.data:[n.data];else if(Object(V.C)(n))o=n.nodes;else{if(!Object(V.N)(n)&&!Object(V.O)(n))return console.warn("the dragObject is not in the correct type, dragObject:",n),!0;o=[n]}return o.every((function(e){return r.checkNestingDown(t,e)&&r.checkNestingUp(t,e)}))}},{key:"checkDropTarget",value:function e(t,n){var r=this,o;return(o=Object(V.B)(n)?Array.isArray(n.data)?n.data:[n.data]:n.nodes).every((function(e){return r.checkNestingUp(t,e)}))}},{key:"checkNestingUp",value:function e(t,n){if(Object(V.N)(n)||Object(V.O)(n)){var r=Object(V.N)(n)?n.componentMeta:this.getComponentMeta(n.componentName);if(r)return r.checkNestingUp(n,t)}return!0}},{key:"checkNestingDown",value:function e(t,n){var r;return t.componentMeta.checkNestingDown(t,n)}},{key:"getRoot",value:function e(){return this.rootNode}},{key:"toData",value:function e(t){var n=this.export(F.g.Save),r;return{componentsMap:this.getComponentsMap(t),utils:this.getUtilsMap(),componentsTree:[n]}}},{key:"getHistory",value:function e(){return this.history}},{key:"getAddonData",value:function e(t){var n=this._addons.find((function(e){return e.name===t}));if(n)return n.exportData()}},{key:"exportAddonData",value:function e(){var t={};return this._addons.forEach((function(e){var n=e.exportData();null===n?delete t[e.name]:t[e.name]=n})),t}},{key:"registerAddon",value:function e(t,n){if(["id","params","layout"].indexOf(t)>-1)throw new Error("addon name cannot be id, params, layout");var r=this._addons.findIndex((function(e){return e.name===t}));r>-1&&this._addons.splice(r,1),this._addons.push({exportData:n,name:t})}},{key:"acceptRootNodeVisitor",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",n=arguments.length>1?arguments[1]:void 0,r={};t||console.warn("Invalid or empty RootNodeVisitor name.");try{r=n.call(this,this.rootNode),this.rootNodeVisitorMap[t]=r}catch(e){console.error("RootNodeVisitor is not valid."),console.error(e)}return r}},{key:"getRootNodeVisitor",value:function e(t){return this.rootNodeVisitorMap[t]}},{key:"getComponentsMap",value:function e(t){var n=this,r=[],o={},i=vb(this._nodesMap.values()),a;try{for(i.s();!(a=i.n()).done;){var u=a.value,c,s=(u||{}).componentName,l,f;if("Slot"!==s)if(!o[s])o[s]=!0,null!==(l=u.componentMeta)&&void 0!==l&&null!==(f=l.npm)&&void 0!==f&&f.package?r.push(hb(hb({},u.componentMeta.npm),{},{componentName:s})):r.push({devMode:"lowCode",componentName:s})}}catch(e){i.e(e)}finally{i.f()}return Array.isArray(t)&&t.forEach((function(e){if(e&&!o[e]){var t,i=n.getComponentMeta(e);i&&null!==(t=i.npm)&&void 0!==t&&t.package&&r.push(hb(hb({},null==i?void 0:i.npm),{},{componentName:e}))}})),r}},{key:"getUtilsMap",value:function e(){var t,n,r,o;return null===(t=this.designer)||void 0===t||null===(n=t.editor)||void 0===n||null===(r=n.get("assets"))||void 0===r||null===(o=r.utils)||void 0===o?void 0:o.map((function(e){return{name:e.name,type:e.type||"npm",content:e.npm}}))}},{key:"onNodeCreate",value:function e(t){var n=this,r=Object(a.wrapWithEventSwitch)(t);return this.emitter.on("nodecreate",r),function(){n.emitter.removeListener("nodecreate",r)}}},{key:"onNodeDestroy",value:function e(t){var n=this,r=Object(a.wrapWithEventSwitch)(t);return this.emitter.on("nodedestroy",r),function(){n.emitter.removeListener("nodedestroy",r)}}},{key:"refresh",value:function e(){console.warn("refresh method is deprecated")}},{key:"onRefresh",value:function e(){console.warn("onRefresh method is deprecated")}},{key:"onReady",value:function e(t){var n=this;return this.designer.editor.eventBus.on("document-open",t),function(){n.designer.editor.removeListener("document-open",t)}}},{key:"setupListenActiveNodes",value:function e(){}}]),e}();function Sb(e){return e&&e.rootNode}function Eb(e){return"Page"===(null==e?void 0:e.componentName)}function kb(){return(kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Pb(e){return React.createElement(V.f,kb({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M704 480v-160c0-105.6-86.4-192-192-192s-192 86.4-192 192v160H160v416h704V480h-160z m-320-160c0-70.4 57.6-128 128-128s128 57.6 128 128v160h-256v-160z m416 512H224v-288h576v288z",fill:"#ffffff","p-id":"2680"}),React.createElement("path",{d:"M480 768h64v-160h-64z",fill:"#ffffff","p-id":"2681"}))}function xb(){return(xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Nb(e){return React.createElement(V.f,xb({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M183.423543 657.078213l163.499771-98.484012c-4.233418-14.908548-6.646374-30.585599-6.646374-46.852074 0-94.665033 76.739778-171.404812 171.404812-171.404812 45.983287 0 87.641059 18.20871 118.42518 47.679929l129.791042-78.17957c-73.254398-41.73145-157.866471-65.812915-248.216221-65.812915-192.742792 0-360.068705 108.505249-444.453604 267.715321C96.636944 567.228859 136.301316 616.355743 183.423543 657.078213zM841.253886 367.552144l-164.382884 99.015108c3.934612 14.415314 6.215562 29.513174 6.215562 45.174875 0 94.665033-76.739778 171.404812-171.404812 171.404812-45.361117 0-86.484723-17.747199-117.142977-46.515407l-129.419582 77.955466c72.874751 41.149189 156.893306 64.871473 246.563582 64.871473 192.742792 0 360.068705-108.505249 444.453604-267.717368C927.000805 456.773188 887.794875 408.054603 841.253886 367.552144zM420.280042 511.741104c0 0.550539 0.152473 1.060145 0.161682 1.608637l135.080511-81.366146c-13.065574-7.198959-27.854395-11.658528-43.826158-11.658528C461.20922 420.325068 420.280042 461.254246 420.280042 511.741104zM447.739441 576.947198l69.02098-41.574884L948.364369 275.395234c10.812253-6.512321 14.297634-20.558222 7.785314-31.369452-6.512321-10.812253-20.556175-14.296611-31.368428-7.785314L575.654762 446.537056l0 0-151.20577 91.078345 0 0L75.027787 748.090043c-10.812253 6.512321-14.297634 20.556175-7.785314 31.368428 6.512321 10.812253 20.556175 14.297634 31.369452 7.785314L447.739441 576.947198 447.739441 576.947198zM511.696078 603.157139c50.487881 0 91.416036-40.928155 91.416036-91.416036 0-0.549515-0.152473-1.057075-0.161682-1.605567l-135.079488 81.364099C480.935494 598.699618 495.724315 603.157139 511.696078 603.157139z"}))}function Cb(){return(Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Tb(e){return React.createElement(V.f,Cb({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M224 256v639.84A64 64 0 0 0 287.84 960h448.32A64 64 0 0 0 800 895.84V256h64a32 32 0 1 0 0-64H160a32 32 0 1 0 0 64h64zM384 96c0-17.664 14.496-32 31.904-32h192.192C625.696 64 640 78.208 640 96c0 17.664-14.496 32-31.904 32H415.904A31.872 31.872 0 0 1 384 96z m-96 191.744C288 270.208 302.4 256 320.224 256h383.552C721.6 256 736 270.56 736 287.744v576.512C736 881.792 721.6 896 703.776 896H320.224A32.224 32.224 0 0 1 288 864.256V287.744zM352 352c0-17.696 14.208-32.032 32-32.032 17.664 0 32 14.24 32 32v448c0 17.664-14.208 32-32 32-17.664 0-32-14.24-32-32V352z m128 0c0-17.696 14.208-32.032 32-32.032 17.664 0 32 14.24 32 32v448c0 17.664-14.208 32-32 32-17.664 0-32-14.24-32-32V352z m128 0c0-17.696 14.208-32.032 32-32.032 17.664 0 32 14.24 32 32v448c0 17.664-14.208 32-32 32-17.664 0-32-14.24-32-32V352z"}))}function Rb(){return(Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ab(e){return React.createElement(V.f,Rb({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M965.824 405.952a180.48 180.48 0 0 1-117.12-85.376 174.464 174.464 0 0 1-16-142.08 22.208 22.208 0 0 0-7.04-23.552 480.576 480.576 0 0 0-153.6-89.216 23.104 23.104 0 0 0-24.32 5.76 182.208 182.208 0 0 1-135.68 57.92 182.208 182.208 0 0 1-133.12-56.64 23.104 23.104 0 0 0-26.88-7.04 478.656 478.656 0 0 0-153.6 89.856 22.208 22.208 0 0 0-7.04 23.552 174.464 174.464 0 0 1-16 141.44A180.48 180.48 0 0 1 58.24 405.952a22.4 22.4 0 0 0-17.28 17.792 455.08 455.08 0 0 0 0 176.512 22.4 22.4 0 0 0 17.28 17.792 180.48 180.48 0 0 1 117.12 84.736c25.408 42.944 31.232 94.592 16 142.08a22.208 22.208 0 0 0 7.04 23.552A480.576 480.576 0 0 0 352 957.632h7.68a23.04 23.04 0 0 0 16.64-7.04 184.128 184.128 0 0 1 266.944 0c6.592 8.96 18.752 11.968 28.8 7.04a479.36 479.36 0 0 0 156.16-88.576 22.208 22.208 0 0 0 7.04-23.552 174.464 174.464 0 0 1 13.44-142.72 180.48 180.48 0 0 1 117.12-84.736 22.4 22.4 0 0 0 17.28-17.792 452.613 452.613 0 0 0 0-176.512 23.04 23.04 0 0 0-17.28-17.792z m-42.88 169.408a218.752 218.752 0 0 0-128 98.112 211.904 211.904 0 0 0-21.76 156.736 415.936 415.936 0 0 1-112 63.68 217.472 217.472 0 0 0-149.12-63.68 221.312 221.312 0 0 0-149.12 63.68 414.592 414.592 0 0 1-112-63.68c12.8-53.12 4.288-109.12-23.68-156.096A218.752 218.752 0 0 0 101.12 575.36a386.176 386.176 0 0 1 0-127.36 218.752 218.752 0 0 0 128-98.112c27.2-47.552 34.944-103.68 21.76-156.8a415.296 415.296 0 0 1 112-63.68A221.44 221.44 0 0 0 512 187.392a218.24 218.24 0 0 0 149.12-57.984 413.952 413.952 0 0 1 112 63.744 211.904 211.904 0 0 0 23.04 156.096 218.752 218.752 0 0 0 128 98.112 386.65 386.65 0 0 1 0 127.36l-1.28 0.64z"}),React.createElement("path",{d:"M512 320.576c-105.984 0-192 85.568-192 191.104a191.552 191.552 0 0 0 192 191.104c106.112 0 192.064-85.568 192.064-191.104a190.72 190.72 0 0 0-56.256-135.168 192.448 192.448 0 0 0-135.744-55.936z m0 318.528c-70.656 0-128-57.088-128-127.424 0-70.4 57.344-127.36 128-127.36 70.72 0 128 56.96 128 127.36 0 33.792-13.44 66.176-37.44 90.112a128.32 128.32 0 0 1-90.496 37.312z"}))}function Lb(){return(Lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Mb(e){return React.createElement(V.f,Lb({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M783.5648 437.4528h-18.0224V336.6912c0-43.8272-35.6352-79.4624-79.4624-79.4624h-110.592V241.664c0-90.9312-73.728-164.6592-164.6592-164.6592-90.9312 0-164.6592 73.728-164.6592 164.6592v15.5648H155.2384c-43.8272 0-79.4624 35.6352-79.4624 79.4624v131.4816c0 16.7936 13.9264 30.72 30.72 30.72h56.1152c56.9344 0 103.2192 46.2848 103.2192 103.2192s-46.2848 103.2192-103.2192 103.2192H106.496c-16.7936 0-30.72 13.9264-30.72 30.72v131.4816c0 43.8272 35.6352 79.4624 79.4624 79.4624h531.2512c43.8272 0 79.4624-35.6352 79.4624-79.4624v-100.7616h18.0224c90.9312 0 164.6592-73.728 164.6592-164.6592-0.4096-90.9312-74.1376-164.6592-165.0688-164.6592z m0 267.8784h-48.7424c-16.7936 0-30.72 13.9264-30.72 30.72v131.4816c0 9.8304-8.192 18.0224-18.0224 18.0224H155.2384c-9.8304 0-18.0224-8.192-18.0224-18.0224v-100.7616h25.3952c90.9312 0 164.6592-73.728 164.6592-164.6592 0-90.9312-73.728-164.6592-164.6592-164.6592h-25.3952V336.6912c0-9.8304 8.192-18.0224 18.0224-18.0224h121.6512c16.7936 0 30.72-13.9264 30.72-30.72V241.664c0-56.9344 46.2848-103.2192 103.2192-103.2192s103.2192 46.2848 103.2192 103.2192v46.2848c0 16.7936 13.9264 30.72 30.72 30.72h141.312c9.8304 0 18.0224 8.192 18.0224 18.0224v131.4816c0 16.7936 13.9264 30.72 30.72 30.72h48.7424c56.9344 0 103.2192 46.2848 103.2192 103.2192s-46.2848 103.2192-103.2192 103.2192z"}))}function Db(){return(Db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ib(e){return React.createElement(V.f,Db({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M192 256.16C192 220.736 220.704 192 256.16 192h639.68C931.264 192 960 220.704 960 256.16v639.68A64.16 64.16 0 0 1 895.84 960H256.16A64.16 64.16 0 0 1 192 895.84V256.16z m64 31.584v576.512a32 32 0 0 0 31.744 31.744h576.512a32 32 0 0 0 31.744-31.744V287.744A32 32 0 0 0 864.256 256H287.744A32 32 0 0 0 256 287.744zM288 192v64h64V192H288z m128 0v64h64V192h-64z m128 0v64h64V192h-64z m128 0v64h64V192h-64z m128 0v64h64V192h-64z m96 96v64h64V288h-64z m0 128v64h64v-64h-64z m0 128v64h64v-64h-64z m0 128v64h64v-64h-64z m0 128v64h64v-64h-64z m-96 96v64h64v-64h-64z m-128 0v64h64v-64h-64z m-128 0v64h64v-64h-64z m-128 0v64h64v-64h-64z m-128 0v64h64v-64H288z m-96-96v64h64v-64H192z m0-128v64h64v-64H192z m0-128v64h64v-64H192z m0-128v64h64v-64H192z m0-128v64h64V288H192z m160 416c0-17.664 14.592-32 32.064-32h319.872a31.968 31.968 0 1 1 0 64h-319.872A31.968 31.968 0 0 1 352 704z m0-128c0-17.664 14.4-32 32.224-32h383.552c17.792 0 32.224 14.208 32.224 32 0 17.664-14.4 32-32.224 32H384.224A32.032 32.032 0 0 1 352 576z m0-128c0-17.664 14.4-32 32.224-32h383.552c17.792 0 32.224 14.208 32.224 32 0 17.664-14.4 32-32.224 32H384.224A32.032 32.032 0 0 1 352 448z m512 47.936V192h-64V159.968A31.776 31.776 0 0 0 768.032 128H160A31.776 31.776 0 0 0 128 159.968V768c0 17.92 14.304 31.968 31.968 31.968H192v64h303.936H128.128A63.968 63.968 0 0 1 64 799.872V128.128C64 92.704 92.48 64 128.128 64h671.744C835.296 64 864 92.48 864 128.128v367.808z"}))}function Bb(){return(Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Vb(e){return React.createElement(V.f,Bb({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M381.6 864H162.4c-6.9 0-12.4 4.6-12.4 10.3v19.3c0 5.7 5.6 10.3 12.4 10.3h219.1c6.8 0 12.4-4.6 12.4-10.3v-19.3c0.1-5.7-5.5-10.3-12.3-10.3zM382 780.6H162c-6.9 0-12.5 4.6-12.5 10.3v19.3c0 5.7 5.6 10.3 12.5 10.3h220c6.9 0 12.5-4.6 12.5-10.3v-19.3c0-5.7-5.6-10.3-12.5-10.3zM162.4 737.2h219.1c6.8 0 12.4-4.6 12.4-10.3v-19.3c0-5.7-5.6-10.3-12.4-10.3H162.4c-6.9 0-12.4 4.6-12.4 10.3v19.3c0 5.7 5.6 10.3 12.4 10.3z"}),React.createElement("path",{d:"M977.1 0H46.9C21 0 0 21 0 46.9v930.2c0 25.9 21 46.9 46.9 46.9h930.2c25.9 0 46.9-21 46.9-46.9V46.9C1024 21 1003 0 977.1 0z m-18.7 911.6c0 25.9-21 46.9-46.9 46.9H112.4c-25.9 0-46.9-21-46.9-47V112.4c0-25.9 21-46.9 46.9-46.9h799.1c25.9 0 46.9 21 46.9 46.9v799.2z"}),React.createElement("path",{d:"M207.9 342.7h608.2c32 0 57.9-25.9 57.9-57.9v-83c0-32-25.9-57.9-57.9-57.9H207.9c-32 0-57.9 25.9-57.9 57.9v83c0 32 25.9 57.9 57.9 57.9zM200 201.8c0-4.4 3.5-7.9 7.9-7.9h608.2c4.4 0 7.9 3.5 7.9 7.9v83c0 4.4-3.5 7.9-7.9 7.9H207.9c-4.4 0-7.9-3.5-7.9-7.9v-83zM806.4 405.7h-277c-37.3 0-67.6 30.2-67.6 67.6v363.2c0 37.3 30.2 67.6 67.6 67.6h277c37.3 0 67.6-30.2 67.6-67.6V473.3c0-37.4-30.2-67.6-67.6-67.6zM824 836.4c0 9.7-7.9 17.6-17.6 17.6h-277c-9.7 0-17.6-7.9-17.6-17.6V473.3c0-9.7 7.9-17.6 17.6-17.6h277c9.7 0 17.6 7.9 17.6 17.6v363.1zM272 649.7c67.4 0 122-54.6 122-122s-54.6-122-122-122-122 54.6-122 122 54.6 122 122 122z m0-204c45.2 0 82 36.8 82 82s-36.8 82-82 82-82-36.8-82-82 36.8-82 82-82z"}))}function Fb(){return(Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Gb(e){return React.createElement(V.f,Fb({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M800 800h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z m-256 0h64v64h-64v-64z m0-640h64v64h-64v-64z m128 640h64v64h-64v-64zM160 672h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m640 384h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z"}),React.createElement("path",{d:"M896 64H128c-35.2 0-64 28.8-64 64v768c0 35.2 28.8 64 64 64h768c35.2 0 64-28.8 64-64V128c0-35.2-28.8-64-64-64z m0 800c0 19.2-12.8 32-32 32H160c-19.2 0-32-12.8-32-32V160c0-19.2 12.8-32 32-32h704c19.2 0 32 12.8 32 32v704z"}))}function Hb(){return(Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ub(e){return React.createElement(V.f,Hb({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M384 480v-160c0-70.4 57.6-128 128-128s128 57.6 128 128v64h64v-64c0-105.6-86.4-192-192-192s-192 86.4-192 192v160H160v416h704V480H384z m416 352H224v-288h576v288z",fill:"#ffffff","p-id":"2813"}),React.createElement("path",{d:"M416 736h192v-64h-192z",fill:"#ffffff","p-id":"2814"}))}f([a.obx.shallow,m("design:type",Object)],jb.prototype,"nodes",void 0),f([a.obx.ref,m("design:type",Object)],jb.prototype,"_drillDownNode",void 0),f([a.obx.shallow,m("design:type",Array)],jb.prototype,"willPurgeSpace",void 0),f([a.obx.shallow,m("design:type",Array)],jb.prototype,"activeNodes",void 0),f([a.obx.ref,m("design:type",Object)],jb.prototype,"_dropLocation",void 0),f([a.obx.ref,m("design:type",Object)],jb.prototype,"_opened",void 0),f([a.obx.ref,m("design:type",Object)],jb.prototype,"_suspensed",void 0),f([a.action,m("design:type",Function),m("design:paramtypes",[Object,Boolean]),m("design:returntype","function"==typeof(sb="undefined"!=typeof T&&T)?sb:Object)],jb.prototype,"createNode",null),f([a.action,m("design:type",Function),m("design:paramtypes",["function"==typeof(lb=void 0!==F.IPublicTypeRootSchema&&F.IPublicTypeRootSchema)?lb:Object,Object]),m("design:returntype",void 0)],jb.prototype,"import",null),Pb.displayName="IconLock",Nb.displayName="Hidden",Tb.displayName="Remove",Ab.displayName="Setting",Mb.displayName="Component",Ib.displayName="Clone",Vb.displayName="Page",Gb.displayName="Container",Ub.displayName="IconUnlock";var zb=["componentName","npm"];function Wb(e){return(Wb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$b(Object(n),!0).forEach((function(t){Xb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xb(e,t,n){return(t=eg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qb(e,t){if(null==e)return{};var n=Yb(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Yb(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function Jb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eg(r.key),r)}}function Qb(e,t,n){return t&&Zb(e.prototype,t),n&&Zb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function eg(e){var t=tg(e,"string");return"symbol"===Wb(t)?t:String(t)}function tg(e,t){if("object"!==Wb(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Wb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ng(e){if(!e)return null;if(!Array.isArray(e)){if("string"!=typeof e)return null;e=e.split(/ *[ ,|] */).filter(Boolean)}return e.length<1?null:e}function rg(e){if(!e)return null;if("function"==typeof e)return e;if(Object(V.T)(e))return function(t){return e.test(t.componentName)};var t=ng(e);return t?function(e){return t.includes(e.componentName)}:null}var og=function(){function e(t,n){Jb(this,e),this.designer=void 0,this.isComponentMeta=!0,this._npm=void 0,this.emitter=Object(a.createModuleEventBus)("ComponentMeta"),this._componentName=void 0,this._isContainer=void 0,this._isModal=void 0,this._descriptor=void 0,this._rootSelector=void 0,this._transformedMetadata=void 0,this._liveTextEditing=void 0,this._isTopFixed=void 0,this.parentWhitelist=void 0,this.childWhitelist=void 0,this._title=void 0,this._isMinimalRenderUnit=void 0,this._acceptable=void 0,this.prototype=void 0,this.designer=t,this.parseMetadata(n)}return Qb(e,[{key:"npm",get:function e(){return this._npm},set:function e(t){this.setNpm(t)}},{key:"componentName",get:function e(){return this._componentName}},{key:"isContainer",get:function e(){return this._isContainer||this.isRootComponent()}},{key:"isMinimalRenderUnit",get:function e(){return this._isMinimalRenderUnit||!1}},{key:"isModal",get:function e(){return this._isModal}},{key:"descriptor",get:function e(){return this._descriptor}},{key:"rootSelector",get:function e(){return this._rootSelector}},{key:"configure",get:function e(){var t,n=null===(t=this._transformedMetadata)||void 0===t?void 0:t.configure;return(null==n?void 0:n.combined)||(null==n?void 0:n.props)||[]}},{key:"liveTextEditing",get:function e(){return this._liveTextEditing}},{key:"isTopFixed",get:function e(){return!!this._isTopFixed}},{key:"title",get:function e(){var t;return Object(V.X)(this._title)?(null===(t=this._title)||void 0===t?void 0:t.label)||this.componentName:this._title||this.componentName}},{key:"icon",get:function e(){var t;return(null===(t=this._transformedMetadata)||void 0===t?void 0:t.icon)||("Page"===this.componentName?Vb:this.isContainer?Gb:Mb)}},{key:"acceptable",get:function e(){return this._acceptable}},{key:"advanced",get:function e(){return this.getMetadata().configure.advanced||{}}},{key:"setNpm",value:function e(t){this._npm||(this._npm=t)}},{key:"parseMetadata",value:function e(t){var n=t.componentName,r=t.npm,o=qb(t,zb),i=t;t.prototype&&(this.prototype=t.prototype),r||Object.keys(o).length||(i={componentName:n,configure:{component:{disableBehaviors:["copy","move","lock","unlock"]},advanced:{callbacks:{onMoveHook:function e(){return!1}}}}}),this._npm=r||this._npm,this._componentName=n,this._transformedMetadata=this.transformMetadata(i);var a=this._transformedMetadata.title;a&&(this._title="string"==typeof a?{type:"i18n","en-US":this.componentName,"zh-CN":a}:a);var u=this.advanced.liveTextEditing||[];function c(e){e.forEach((function(e){if(null!=e&&e.items)c(e.items);else{var t,n=e.liveTextEditing||(null===(t=e.extraProps)||void 0===t?void 0:t.liveTextEditing);n&&u.push(Kb({propTarget:String(e.name)},n))}}))}c(this.configure),this._liveTextEditing=u.length>0?u:void 0;var s=this.advanced.isTopFixed;s&&(this._isTopFixed=s);var l=this._transformedMetadata.configure,f=void 0===l?{}:l;this._acceptable=!1;var p=f.component;if(p){if(this._isContainer=!!p.isContainer,this._isModal=!!p.isModal,this._descriptor=p.descriptor,this._rootSelector=p.rootSelector,this._isMinimalRenderUnit=p.isMinimalRenderUnit,p.nestingRule){var h=p.nestingRule,d=h.parentWhitelist,v=h.childWhitelist;this.parentWhitelist=rg(d),this.childWhitelist=rg(v)}}else this._isContainer=!1,this._isModal=!1;this.emitter.emit("metadata_change")}},{key:"refreshMetadata",value:function e(){this.parseMetadata(this.getMetadata())}},{key:"transformMetadata",value:function e(t){var n,r=this.designer.componentActions.getRegisteredMetadataTransducers().reduce((function(e,t){return t(e)}),ag(t));return r.configure||(r.configure={}),r.experimental&&!r.configure.advanced&&(Object(V.p)(r.experimental,".experimental",".configure.advanced"),r.configure.advanced=r.experimental),r}},{key:"isRootComponent",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return"Page"===this.componentName||"Component"===this.componentName||t&&"Block"===this.componentName}},{key:"availableActions",get:function e(){var t,n=(null===(t=this._transformedMetadata)||void 0===t?void 0:t.configure.component)||{},r=n.disableBehaviors,o=n.actions,i=ng(r)||(this.isRootComponent(!1)?["copy","remove","lock","unlock"]:null);return o=this.designer.componentActions.actions.concat(this.designer.getGlobalComponentActions()||[],o||[]),i?i.includes("*")?o.filter((function(e){return"always"===e.condition})):o.filter((function(e){return i.indexOf(e.name)<0})):o}},{key:"setMetadata",value:function e(t){this.parseMetadata(t)}},{key:"getMetadata",value:function e(){return this._transformedMetadata}},{key:"checkNestingUp",value:function e(t,n){return!this.parentWhitelist||this.parentWhitelist(n.internalToShellNode(),Object(V.N)(t)?t.internalToShellNode():t)}},{key:"checkNestingDown",value:function e(t,n){var r=this,o;return!this.childWhitelist||(Array.isArray(n)?n:[n]).every((function(e){var n=Object(V.N)(e)?e:new Sm(t.document,e);return r.childWhitelist&&r.childWhitelist(n.internalToShellNode(),t.internalToShellNode())}))}},{key:"onMetadataChange",value:function e(t){var n=this;return this.emitter.on("metadata_change",t),function(){n.emitter.removeListener("metadata_change",t)}}}]),e}();function ig(e){return e&&e.isComponentMeta}function ag(e){return e.configure?Array.isArray(e.configure)?Kb(Kb({},e),{},{configure:{props:e.configure}}):e:Kb(Kb({},e),{},{configure:{}})}f([a.computed,m("design:type",Object),m("design:paramtypes",[])],og.prototype,"icon",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],og.prototype,"availableActions",null);var ug="100%",cg,sg,lg,fg;function pg(e){return e&&e.isSimulator}function hg(e){return(hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dg(Object(n),!0).forEach((function(t){yg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yg(e,t,n){return(t=wg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wg(r.key),r)}}function gg(e,t,n){return t&&bg(e.prototype,t),n&&bg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wg(e){var t=Og(e,"string");return"symbol"===hg(t)?t:String(t)}function Og(e,t){if("object"!==hg(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==hg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var _g=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"global";mg(this,e),this.designer=void 0,this.viewName=void 0,this.emitter=Object(a.createModuleEventBus)("Project"),this.documents=[],this.data={version:"1.0.0",componentsMap:[],componentsTree:[],i18n:{}},this._simulator=void 0,this.isRendererReady=!1,this._config={},this._i18n={},this.documentsMap=new Map,this.designer=t,this.viewName=r,Object(a.makeObservable)(this),this.load(n)}return gg(e,[{key:"simulator",get:function e(){return this._simulator||null}},{key:"currentDocument",get:function e(){return this.documents.find((function(e){return e.active}))}},{key:"config",get:function e(){return this._config},set:function e(t){this._config=t}},{key:"i18n",get:function e(){return this._i18n},set:function e(t){this._i18n=t||{}}},{key:"getComponentsMap",value:function e(){return this.documents.reduce((function(e,t){var n=t.getComponentsMap();return Array.isArray(n)&&n.forEach((function(t){var n;e.find((function(e){return!(!Object(V.R)(e)||!Object(V.R)(t)||e.package!==t.package||e.componentName!==t.componentName)||!(!Object(V.M)(e)||e.componentName!==t.componentName)}))||e.push(t)})),e}),[])}},{key:"getSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.g.Save;return vg(vg({},this.data),{},{componentsMap:this.getComponentsMap(),componentsTree:this.documents.filter((function(e){return!e.isBlank()})).map((function(e){return e.export(t)})),i18n:this.i18n})}},{key:"setSchema",value:function e(t){var n,r=this.documents.find((function(e){return e.active}));r&&r.import(null==t?void 0:t.componentsTree[0]),null===(n=this.simulator)||void 0===n||n.rerender()}},{key:"load",value:function e(t,n){var r=this;if(this.unload(),this.data=vg({version:"1.0.0",componentsMap:[],componentsTree:[],i18n:{}},t),this.config=(null==t?void 0:t.config)||this.config,this.i18n=(null==t?void 0:t.i18n)||this.i18n,n)if(!0===n){var o,i,a,u,c,s=this.data.componentsTree.map((function(e){return r.createDocument(e)})),l;if((null===(o=this.config)||void 0===o||null===(i=o.layout)||void 0===i||null===(a=i.props)||void 0===a||null===(u=a.tabBar)||void 0===u||null===(c=u.items)||void 0===c?void 0:c.length)>0)null===(l=s.find((function(e){var t;return e.fileName===(null===(t=r.config.layout.props.tabBar.items[0].path)||void 0===t?void 0:t.slice(1))})))||void 0===l||l.open();else s[0].open()}else this.open(n)}},{key:"unload",value:function e(){if(!(this.documents.length<1))for(var t=this.documents.length-1;t>=0;t--)this.documents[t].remove()}},{key:"removeDocument",value:function e(t){var n=this.documents.indexOf(t);n<0||(this.documents.splice(n,1),this.documentsMap.delete(t.id))}},{key:"set",value:function e(t,n){"config"===t&&(this.config=n),"i18n"===t&&(this.i18n=n),Object.assign(this.data,yg({},t,n))}},{key:"get",value:function e(t){return"config"===t?this.config:"i18n"===t?this.i18n:Reflect.get(this.data,t)}},{key:"getDocument",value:function e(t){return this.documents.find((function(e){return e.id===t}))||null}},{key:"getDocumentByFileName",value:function e(t){return this.documents.find((function(e){return e.fileName===t}))||null}},{key:"createDocument",value:function e(t){var n,r,o=new jb(this,t||(null==this||null===(n=this.data)||void 0===n||null===(r=n.componentsTree)||void 0===r?void 0:r[0]));return this.documents.push(o),this.documentsMap.set(o.id,o),o}},{key:"open",value:function e(t){if(!t){var n=this.documents.find((function(e){return e.isBlank()}));return n?n.open():(t=this.createDocument()).open()}if("string"==typeof t){var r=this.documents.find((function(e){return e.fileName===t||e.id===t}));if(r)return r.open();var o=this.data.componentsTree.find((function(e){return e.fileName===t}));return o?(t=this.createDocument(o)).open():null}return Sb(t)?t.open():(t=this.createDocument(t)).open()}},{key:"checkExclusive",value:function e(t){this.documents.forEach((function(e){e!==t&&e.suspense()})),this.emitter.emit("current-document.change",t)}},{key:"closeOthers",value:function e(t){this.documents.forEach((function(e){e!==t&&e.close()}))}},{key:"mountSimulator",value:function e(t){this._simulator=t,this.emitter.emit("lowcode_engine_simulator_ready",t)}},{key:"setRendererReady",value:function e(t){this.isRendererReady=!0,this.emitter.emit("lowcode_engine_renderer_ready",t)}},{key:"onSimulatorReady",value:function e(t){var n=this;return this._simulator?(t(this._simulator),function(){}):(this.emitter.on("lowcode_engine_simulator_ready",t),function(){n.emitter.removeListener("lowcode_engine_simulator_ready",t)})}},{key:"onRendererReady",value:function e(t){var n=this;return this.isRendererReady&&t(),this.emitter.on("lowcode_engine_renderer_ready",t),function(){n.emitter.removeListener("lowcode_engine_renderer_ready",t)}}},{key:"onCurrentDocumentChange",value:function e(t){var n=this;return this.emitter.on("current-document.change",t),function(){n.emitter.removeListener("current-document.change",t)}}}]),e}(),jg,Sg,Eg,kg,Pg,xg,Ng;function Cg(e){return(Cg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lg(r.key),r)}}function Ag(e,t,n){return t&&Rg(e.prototype,t),n&&Rg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lg(e){var t=Mg(e,"string");return"symbol"===Cg(t)?t:String(t)}function Mg(e,t){if("object"!==Cg(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Cg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}f([a.obx.shallow,m("design:type",Array)],_g.prototype,"documents",void 0),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],_g.prototype,"currentDocument",null),f([a.obx,m("design:type",Object)],_g.prototype,"_config",void 0),f([a.computed,m("design:type",Object),m("design:paramtypes",[Object])],_g.prototype,"config",null),f([a.obx.ref,m("design:type",Object)],_g.prototype,"_i18n",void 0),f([a.computed,m("design:type",Object),m("design:paramtypes",[Object])],_g.prototype,"i18n",null),f([a.action,m("design:type",Function),m("design:paramtypes",["function"==typeof(sg=void 0!==F.IPublicTypeProjectSchema&&F.IPublicTypeProjectSchema)?sg:Object,Object]),m("design:returntype",void 0)],_g.prototype,"load",null),f([a.action,m("design:type",Function),m("design:paramtypes",["function"==typeof(lg=void 0!==F.IPublicTypeRootSchema&&F.IPublicTypeRootSchema)?lg:Object]),m("design:returntype","function"!=typeof(fg=!1)&&Object)],_g.prototype,"createDocument",null);var Dg=function(){function e(){Tg(this,e),this.rect=void 0,this._bounds=void 0,this.viewportElement=void 0,this._scale=1,this._contentWidth="100%",this._contentHeight="100%",this._scrollX=0,this._scrollY=0,this._scrollTarget=void 0,this._scrolling=!1,Object(a.makeObservable)(this)}return Ag(e,[{key:"bounds",get:function e(){var t=this;return this._bounds||(this._bounds=this.viewportElement.getBoundingClientRect(),requestAnimationFrame((function(){t._bounds=void 0}))),this._bounds}},{key:"contentBounds",get:function e(){var t=this.bounds,n=this.scale;return new DOMRect(0,0,t.width/n,t.height/n)}},{key:"mount",value:function e(t){t&&this.viewportElement!==t&&(this.viewportElement=t,this.touch())}},{key:"touch",value:function e(){this.viewportElement&&(this.rect=this.bounds)}},{key:"height",get:function e(){return this.rect?this.rect.height:600},set:function e(t){this._contentHeight=t/this.scale,this.viewportElement&&(this.viewportElement.style.height="".concat(t,"px"),this.touch())}},{key:"width",get:function e(){return this.rect?this.rect.width:1e3},set:function e(t){this._contentWidth=t/this.scale,this.viewportElement&&(this.viewportElement.style.width="".concat(t,"px"),this.touch())}},{key:"scale",get:function e(){return this._scale},set:function e(t){if(isNaN(t)||t<=0)throw new Error('invalid new scale "'.concat(t,'"'));this._scale=t,this._contentWidth=this.width/this.scale,this._contentHeight=this.height/this.scale}},{key:"contentHeight",get:function e(){return this._contentHeight},set:function e(t){this._contentHeight=t}},{key:"contentWidth",get:function e(){return this._contentWidth},set:function e(t){this._contentWidth=t}},{key:"scrollX",get:function e(){return this._scrollX}},{key:"scrollY",get:function e(){return this._scrollY}},{key:"scrollTarget",get:function e(){return this._scrollTarget}},{key:"scrolling",get:function e(){return this._scrolling}},{key:"setScrollTarget",value:function e(t){var n=this,r=new CS(t),o;this._scrollX=r.left,this._scrollY=r.top,t.addEventListener("scroll",(function(){n._scrollX=r.left,n._scrollY=r.top,n._scrolling=!0,o&&clearTimeout(o),o=setTimeout((function(){n._scrolling=!1}),80)})),t.addEventListener("resize",(function(){return n.touch()})),this._scrollTarget=r}},{key:"toGlobalPoint",value:function e(t){if(!this.viewportElement)return t;var n=this.bounds;return{clientX:t.clientX*this.scale+n.left,clientY:t.clientY*this.scale+n.top}}},{key:"toLocalPoint",value:function e(t){if(!this.viewportElement)return t;var n=this.bounds;return{clientX:(t.clientX-n.left)/this.scale,clientY:(t.clientY-n.top)/this.scale}}}]),e}();function Ig(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Bg(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function Bg(e,t){if(e){if("string"==typeof e)return Vg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vg(e,t):void 0}}function Vg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=t.contentWindow,o=t.contentDocument;r.LCSimulatorHost=e,r._=window._;var i={},a={};function u(e,t){var n=Ig(e),r;try{for(n.s();!(r=n.n()).done;){var o=r.value;if(o)if(Object(V.v)(o))o.assets&&u(Array.isArray(o.assets)?o.assets:[o.assets],o.level||t);else if(Array.isArray(o))u(o,t);else{Object(V.w)(o)||(o=Object(V.h)(Object(V.x)(o)?V.d.CSSUrl:V.d.JSUrl,o,t));var c=o.id?' data-id="'.concat(o.id,'"'):"",s=o.level||t||V.a.Environment;o.type===V.d.JSUrl?a[s].push('<script src="'.concat(o.content,'"').concat(c,"><\/script>")):o.type===V.d.JSText?a[s].push("<script".concat(c,">").concat(o.content,"<\/script>")):o.type===V.d.CSSUrl?i[s].push('<link rel="stylesheet" href="'.concat(o.content,'"').concat(c," />")):o.type===V.d.CSSText&&i[s].push('<style type="text/css"'.concat(c,">").concat(o.content,"</style>"))}}}catch(e){n.e(e)}finally{n.f()}}V.b.forEach((function(e){i[e]=[],a[e]=[]})),u(n);var c=Object.keys(i).map((function(e){return"".concat(i[e].join("\n"),'<meta level="').concat(e,'" />')})).join(""),s=Object.keys(a).map((function(e){return a[e].join("\n")})).join("");return o.open(),o.write('\n<!doctype html>\n<html class="engine-design-mode">\n  <head><meta charset="utf-8"/>\n    '.concat(c,"\n  </head>\n  <body>\n    ").concat(s,"\n  </body>\n</html>")),o.close(),new Promise((function(t){var n=r.SimulatorRenderer;if(n)return t(n);var o=function n(){t(r.SimulatorRenderer||e.renderer),r.removeEventListener("load",n)};r.addEventListener("load",o)}))}function Gg(e){return e&&e.isSimulatorRenderer}function Hg(e){return(Hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ug(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ug=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(k([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==Hg(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=_(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function zg(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Wg(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){zg(i,r,o,a,u,"next",e)}function u(e){zg(i,r,o,a,u,"throw",e)}a(void 0)}))}}function $g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qg(r.key),r)}}function Xg(e,t,n){return t&&Kg(e.prototype,t),n&&Kg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qg(e){var t=Yg(e,"string");return"symbol"===Hg(t)?t:String(t)}function Yg(e,t){if("object"!==Hg(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Hg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}f([a.obx.ref,m("design:type","function"==typeof(jg="undefined"!=typeof DOMRect&&DOMRect)?jg:Object)],Dg.prototype,"rect",void 0),f([a.computed,m("design:type",Number),m("design:paramtypes",[Number])],Dg.prototype,"height",null),f([a.computed,m("design:type",Number),m("design:paramtypes",[Number])],Dg.prototype,"width",null),f([a.obx.ref,m("design:type",Object)],Dg.prototype,"_scale",void 0),f([a.computed,m("design:type",Number),m("design:paramtypes",[Number])],Dg.prototype,"scale",null),f([a.obx.ref,m("design:type",Object)],Dg.prototype,"_contentWidth",void 0),f([a.obx.ref,m("design:type",Object)],Dg.prototype,"_contentHeight",void 0),f([a.computed,m("design:type",Object),m("design:paramtypes",[Object])],Dg.prototype,"contentHeight",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[Object])],Dg.prototype,"contentWidth",null),f([a.obx.ref,m("design:type",Object)],Dg.prototype,"_scrollX",void 0),f([a.obx.ref,m("design:type",Object)],Dg.prototype,"_scrollY",void 0),f([a.obx,m("design:type",Object)],Dg.prototype,"_scrolling",void 0);var Jg=Symbol("unset"),Zg=function(){function e(t,n){var r=this;$g(this,e),this.consumer=void 0,this.emitter=Object(a.createModuleEventBus)("ResourceConsumer"),this._data=Jg,this._providing=void 0,this._consuming=void 0,this._firstConsumed=!1,this.resolveFirst=void 0,this.consumer=n,Object(a.makeObservable)(this),this._providing=Object(a.autorun)((function(){r._data=t()}))}return Xg(e,[{key:"consume",value:function e(t){var n=this;if(!this._consuming){var r;if(Gg(t)){if(!this.consumer)return;var o=this.consumer;r=function e(n){return o(t,n)}}else r=t;this._consuming=Object(a.autorun)(Wg(Ug().mark((function e(){return Ug().wrap((function e(t){for(;;)switch(t.prev=t.next){case 0:if(n._data!==Jg){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,r(n._data);case 4:n.resolveFirst?n.resolveFirst():n._firstConsumed=!0;case 5:case"end":return t.stop()}}),e)}))))}}},{key:"dispose",value:function e(){this._providing&&this._providing(),this._consuming&&this._consuming(),this.emitter.removeAllListeners()}},{key:"waitFirstConsume",value:function e(){var t=this;return this._firstConsumed?Promise.resolve():new Promise((function(e){t.resolveFirst=e}))}}]),e}();f([a.obx.ref,m("design:type",Object)],Zg.prototype,"_data",void 0);var Qg=n(11),ew=n.n(Qg);function tw(e){return(tw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nw(Object(n),!0).forEach((function(t){ow(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ow(e,t,n){return(t=iw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iw(e){var t=aw(e,"string");return"symbol"===tw(t)?t:String(t)}function aw(e,t){if("object"!==tw(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var uw=["string","number","array","bool","func","object","node","element","symbol","any"];function cw(e,t){function n(){return e.isRequired.apply(e,arguments)}return"string"==typeof t&&(t={type:t}),n.lowcodeType=rw(rw({},t),{},{isRequired:!0}),n}function sw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ew.a.any,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function n(){return e.apply(void 0,arguments)}return e._inner||"lowcodeCheckType"===e.name||(e.lowcodeType=t),n.lowcodeType=t,n.isRequired=cw(e,t),n}var lw=rw(rw({},ew.a),{},{define:sw});window.PropTypes=lw,window.React.PropTypes=lw,uw.forEach((function(e){var t=ew.a[e];t&&(t._inner=!0,lw[e]=sw(t,e))})),lw.oneOf=function(e){return sw(ew.a.oneOf(e),{type:"oneOf",value:e})},lw.arrayOf=function(e){return sw(ew.a.arrayOf(e),{type:"arrayOf",value:e.lowcodeType||"any"})},lw.objectOf=function(e){return sw(ew.a.objectOf(e),{type:"objectOf",value:e.lowcodeType||"any"})},lw.oneOfType=function(e){var t=e.map((function(e){return e.lowcodeType||"any"}));return sw(ew.a.oneOfType(e),{type:"oneOfType",value:t})},lw.exact=function(e){var t=Object.keys(e).map((function(t){var n;return{name:t,propType:(null===(n=e[t])||void 0===n?void 0:n.lowcodeType)||"any"}}));return sw(ew.a.exact(e),{type:"exact",value:t})},lw.shape=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e).map((function(t){var n;return{name:t,propType:(null===(n=e[t])||void 0===n?void 0:n.lowcodeType)||"any"}}));return sw(ew.a.shape(e),{type:"shape",value:t})};var fw=["string","number","object"];function pw(e){if(!e)return[];var t=e.propTypes||{},n=e.defaultProps||{},o={};return t?(Object.keys(t).forEach((function(e){var r=t[e],i=n[e],a=r.lowcodeType;if(a)return o[e]={name:e,propType:a},void(null!=i&&(o[e].defaultValue=i));for(var u=uw.length;u-- >0;){var c=uw[u];if(lw[c]===r)return o[e]={name:e,propType:c},void(null!=i&&(o[e].defaultValue=i))}o[e]={name:e,propType:"any"},null!=i&&(o[e].defaultValue=i)})),Object.keys(n).forEach((function(e){if(!o[e]){var t=n[e],i=tw(t);"boolean"===i?i="bool":"function"===i?i="func":"object"===i&&Array.isArray(t)?i="array":t&&Object(r.isValidElement)(t)?i="node":t&&Object(V.E)(t)?i="element":fw.includes(i)||(i="any"),o[e]={name:e,propType:i||"any",defaultValue:t}}})),Object.keys(o).map((function(e){return o[e]}))):[]}function hw(e){return rw({props:pw(e)},e.componentMetadata)}var dw=function e(t,n){for(var r=t;r;){var o=Object(V.i)(r,n),i=Object(V.q)(r,(function(e){var t,n;return!!(null!==(t=r)&&void 0!==t&&t.isLocked?null===(n=e.parent)||void 0===n?void 0:n.isLocked:e.isLocked)}));if(i&&i.getId()!==r.getId()&&(o=!1),o)break;r=r.parent}return r};function vw(e){return(vw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gw(r.key),r)}}function bw(e,t,n){return t&&mw(e.prototype,t),n&&mw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function gw(e){var t=ww(e,"string");return"symbol"===vw(t)?t:String(t)}function ww(e,t){if("object"!==vw(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==vw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ow(e){var t=e.clipboardData;if(!t)return null;try{var n=JSON.parse(t.getData("text/plain"));if(!n)return{};if(n.componentsTree)return n;if(n.componentName)return{componentsTree:[n]}}catch(e){return{}}}var _w,jw=new(function(){function e(){yw(this,e),this.copyPasters=[],this.waitFn=void 0}return bw(e,[{key:"isCopyPasteEvent",value:function e(t){this.isCopyPaster(t.target)}},{key:"isCopyPaster",value:function e(t){return this.copyPasters.includes(t)}},{key:"initCopyPaster",value:function e(t){var n=this;this.copyPasters.push(t);var r=function e(r){n.waitFn&&(n.waitFn(Ow(r),r),n.waitFn=void 0),t.blur()};return t.addEventListener("paste",r,!1),function(){t.removeEventListener("paste",r,!1);var e=n.copyPasters.indexOf(t);e>-1&&n.copyPasters.splice(e,1)}}},{key:"injectCopyPaster",value:function e(t){if(!this.copyPasters.find((function(e){return e.ownerDocument===t}))){var n=t.createElement("textarea");n.style.cssText="position: absolute;left: -9999px;top:-100px",t.body.appendChild(n);var r=this.initCopyPaster(n);return function(){r(),t.removeChild(n)}}}},{key:"setData",value:function e(t){var n=this.copyPasters.find((function(e){return e.ownerDocument}));n&&(n.value="string"==typeof t?t:JSON.stringify(t),n.select(),n.ownerDocument.execCommand("copy"),n.blur())}},{key:"waitPasteData",value:function e(t,n){var r=t.view;if(r){var o=this.copyPasters.find((function(e){return e.ownerDocument===r.document}));o&&(o.select(),this.waitFn=n)}}}]),e}()),Sw;function Ew(e){return(Ew="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nw(r.key),r)}}function xw(e,t,n){return t&&Pw(e.prototype,t),n&&Pw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nw(e){var t=Cw(e,"string");return"symbol"===Ew(t)?t:String(t)}function Cw(e,t){if("object"!==Ew(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ew(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Tw="data-setter-prop";function Rw(e,t){var n=e.closest("[".concat(Tw,"]"));return n&&t.contains(n)?n:null}function Aw(e,t){t.setValue(e)}var Lw=[];function Mw(e){Lw.push(e)}function Dw(){Lw=[]}var Iw=[];function Bw(e){Iw.push(e)}function Vw(){Iw=[]}var Fw=function(){function e(){kw(this,e),this._editing=null,this._dispose=void 0,this._save=void 0}return xw(e,[{key:"apply",value:function e(t){var n,r,o,i=this,u=t.node,c=t.event,s=t.rootElement,l=c.target,f=u.componentMeta.liveTextEditing,p=a.globalContext.get("workspace"),h=p.isActive?p.window.editor:a.globalContext.get("editor"),d=null==u||null===(n=u.componentMeta)||void 0===n?void 0:n.npm,v=[null==d?void 0:d.package,null==d?void 0:d.componentName].filter((function(e){return!!e})).join("-")||(null==u||null===(r=u.componentMeta)||void 0===r?void 0:r.componentName)||"";null==h||h.eventBus.emit("designer.builtinSimulator.liveEditing",{selected:v});var y=Rw(l,s),m=null===(o=y)||void 0===o?void 0:o.dataset.setterProp,b,g;f?m?b=f.find((function(e){return e.propTarget==m})):(b=f.find((function(e){return!!e.selector&&!!(y=Kw(s,l,e.selector))})),m=null===(g=b)||void 0===g?void 0:g.propTarget):(Iw.some((function(e){return!!(b=e(t))})),b&&(m=b.propTarget,y=b.propElement||Kw(s,l,b.selector)));if(m&&y){var w,O,_,j=u.getProp(m,!0);if(this._editing===j)return;var S=(null===(w=b)||void 0===w?void 0:w.onSaveContent)||(null===(O=Lw.find((function(e){return e.condition(j)})))||void 0===O?void 0:O.onSaveContent)||Aw;y.setAttribute("contenteditable",null!==(_=b)&&void 0!==_&&_.mode&&"plaintext"!==b.mode?"true":"plaintext-only"),y.classList.add("engine-live-editing"),y.focus(),Ww(c),this._save=function(){S(y.innerText,j)};var E=function e(t){var n;switch(console.info(t.code),t.code){case"Enter":case"Escape":break;case"Tab":null===(n=y)||void 0===n||n.blur()}},k=function e(){i.saveAndDispose()};y.addEventListener("focusout",k),y.addEventListener("keydown",E,!0),this._dispose=function(){y.classList.remove("engine-live-editing"),y.removeAttribute("contenteditable"),y.removeEventListener("focusout",k),y.removeEventListener("keydown",E,!0)},this._editing=j}}},{key:"editing",get:function e(){return this._editing}},{key:"saveAndDispose",value:function e(){this._save&&(this._save(),this._save=void 0),this.dispose()}},{key:"dispose",value:function e(){this._dispose&&(this._dispose(),this._dispose=void 0),this._editing=null}}]),e}(),Gw,Hw,Uw,zw;function Ww(e){var t,n=null===(t=e.view)||void 0===t?void 0:t.document;if(n){var r=n.caretRangeFromPoint(e.clientX,e.clientY);r&&($w(n,r),setTimeout((function(){return $w(n,r)}),1))}}function $w(e,t){var n=e.getSelection();n&&(n.removeAllRanges(),n.addRange(t))}function Kw(e,t,n){if(!n)return null;var r=":root"===n?e:e.querySelector(n);return r&&(r.contains(t)||(r=Array.from(e.querySelectorAll(n)).find((function(e){return e.contains(t)}))))?r:null}function Xw(e){return e.nodeType===Node.ELEMENT_NODE}function qw(e,t){var n=e.getBoundingClientRect(),r=t.contentBounds,o=r.width,i=r.height,a=n.left,u=n.right,c=n.top,s=n.bottom,l=n.width,f=n.height;return a>=-l&&c>=-f&&s<=i+f&&u<=o+l}function Yw(e){return e.map((function(e){return null==e?void 0:e.toUpperCase()}))}function Jw(e,t){var n,r=window.document,o=(null===(n=e.view)||void 0===n?void 0:n.document)||r,i=new Set;return i.add(r),i.add(o),t.forEach((function(e){var t=e.contentDocument;t&&i.add(t)})),function(e){i.forEach((function(t){return e(t)}))}}function Zw(e){return(Zw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qw(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=hO(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function eO(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */eO=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(k([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==Zw(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=_(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function tO(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function nO(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){tO(i,r,o,a,u,"next",e)}function u(e){tO(i,r,o,a,u,"throw",e)}a(void 0)}))}}function rO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rO(Object(n),!0).forEach((function(t){iO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iO(e,t,n){return(t=sO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sO(r.key),r)}}function cO(e,t,n){return t&&uO(e.prototype,t),n&&uO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sO(e){var t=lO(e,"string");return"symbol"===Zw(t)?t:String(t)}function lO(e,t){if("object"!==Zw(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Zw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function fO(e,t){return yO(e)||vO(e,t)||hO(e,t)||pO()}function pO(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function hO(e,t){if(e){if("string"==typeof e)return dO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dO(e,t):void 0}}function dO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vO(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function yO(e){if(Array.isArray(e))return e}Fw.addLiveEditingSpecificRule=Bw,Fw.clearLiveEditingSpecificRule=Vw,Fw.addLiveEditingSaveHandler=Mw,Fw.clearLiveEditingSaveHandler=Dw,f([a.obx.ref,m("design:type",Object)],Fw.prototype,"_editing",void 0);var mO=function(){var e=Object(a.getPublicPath)(),t,n,r=fO(/^(.+?)(\/js)?\/?$/.exec(e)||[],3),o=r[0],i=r[1],u=void 0===i?"":i,c;return t=r[2]?["".concat(u,"/css/react-simulator-renderer.css"),"".concat(u,"/js/react-simulator-renderer.js")]:["".concat(u,"/react-simulator-renderer.css"),"".concat(u,"/react-simulator-renderer.js")]}(),bO=function(){var e=Object(a.getPublicPath)(),t,n,r=fO(/^(.+?)(\/js)?\/?$/.exec(e)||[],3),o=r[0],i=r[1],u=void 0===i?"":i,c;return t=r[2]?["".concat(u,"/css/rax-simulator-renderer.css"),"".concat(u,"/js/rax-simulator-renderer.js")]:["".concat(u,"/rax-simulator-renderer.css"),"".concat(u,"/rax-simulator-renderer.js")]}(),gO=[Object(V.h)(V.d.JSText,"window.React=parent.React;window.ReactDOM=parent.ReactDOM;window.__is_simulator_env__=true;",void 0,"react"),Object(V.h)(V.d.JSText,"window.PropTypes=parent.PropTypes;React.PropTypes=parent.PropTypes; window.__REACT_DEVTOOLS_GLOBAL_HOOK__ = window.parent.__REACT_DEVTOOLS_GLOBAL_HOOK__;")],wO=[Object(V.h)(V.d.JSText,"window.Rax=parent.Rax;window.React=parent.React;window.ReactDOM=parent.ReactDOM;window.VisualEngineUtils=parent.VisualEngineUtils;window.VisualEngine=parent.VisualEngine"),Object(V.h)(V.d.JSText,"window.PropTypes=parent.PropTypes;React.PropTypes=parent.PropTypes; window.__REACT_DEVTOOLS_GLOBAL_HOOK__ = window.parent.__REACT_DEVTOOLS_GLOBAL_HOOK__;")],OO=function(){function e(t,n){var r=this;aO(this,e),this.isSimulator=!0,this.project=void 0,this.designer=void 0,this.viewport=new Dg,this.scroller=void 0,this.emitter=Object(a.createModuleEventBus)("BuiltinSimulatorHost"),this.componentsConsumer=void 0,this.injectionConsumer=void 0,this.i18nConsumer=void 0,this.autoRender=!0,this._props={},this._contentWindow=void 0,this._contentDocument=void 0,this._renderer=void 0,this.asyncLibraryMap={},this.libraryMap={},this._iframe=void 0,this.disableHovering=void 0,this.disableDetecting=void 0,this.liveEditing=new Fw,this.instancesMap={},this.tryScrollAgain=null,this._sensorAvailable=!0,this.sensing=!1,Object(a.makeObservable)(this),this.project=t,this.designer=n,this.scroller=this.designer.createScroller(this.viewport),this.autoRender=!a.engineConfig.get("disableAutoRender",!1),this.componentsConsumer=new Zg((function(){return r.componentsAsset})),this.injectionConsumer=new Zg((function(){return{appHelper:a.engineConfig.get("appHelper")}})),this.i18nConsumer=new Zg((function(){return r.project.i18n})),V.bb.onStartTransaction((function(){r.stopAutoRepaintNode()}),F.h.REPAINT);var o=Object(es.debounce)(this.rerender.bind(this),28);V.bb.onEndTransaction((function(){o(),r.enableAutoRepaintNode()}),F.h.REPAINT)}return cO(e,[{key:"currentDocument",get:function e(){return this.project.currentDocument}},{key:"renderEnv",get:function e(){return this.get("renderEnv")||"default"}},{key:"device",get:function e(){return this.get("device")||"default"}},{key:"locale",get:function e(){return this.get("locale")}},{key:"deviceClassName",get:function e(){return this.get("deviceClassName")}},{key:"designMode",get:function e(){return this.get("designMode")||"design"}},{key:"requestHandlersMap",get:function e(){return this.get("requestHandlersMap")||null}},{key:"thisRequiredInJSE",get:function e(){var t;return null===(t=a.engineConfig.get("thisRequiredInJSE"))||void 0===t||t}},{key:"enableStrictNotFoundMode",get:function e(){var t;return null!==(t=a.engineConfig.get("enableStrictNotFoundMode"))&&void 0!==t&&t}},{key:"notFoundComponent",get:function e(){var t;return null!==(t=a.engineConfig.get("notFoundComponent"))&&void 0!==t?t:null}},{key:"faultComponent",get:function e(){var t;return null!==(t=a.engineConfig.get("faultComponent"))&&void 0!==t?t:null}},{key:"componentsAsset",get:function e(){return this.get("componentsAsset")}},{key:"theme",get:function e(){return this.get("theme")}},{key:"componentsMap",get:function e(){return this.designer.componentsMap}},{key:"deviceStyle",get:function e(){return this.get("deviceStyle")}},{key:"contentWindow",get:function e(){return this._contentWindow}},{key:"contentDocument",get:function e(){return this._contentDocument}},{key:"renderer",get:function e(){return this._renderer}},{key:"sensorAvailable",get:function e(){return this._sensorAvailable}},{key:"stopAutoRepaintNode",value:function e(){var t;null===(t=this.renderer)||void 0===t||t.stopAutoRepaintNode()}},{key:"enableAutoRepaintNode",value:function e(){var t;null===(t=this.renderer)||void 0===t||t.enableAutoRepaintNode()}},{key:"setProps",value:function e(t){this._props=t}},{key:"set",value:function e(t,n){this._props=oO(oO({},this._props),{},iO({},t,n))}},{key:"get",value:function e(t){var n,r,o,i;return"device"===t?(null===(n=this.designer)||void 0===n||null===(r=n.editor)||void 0===r||null===(o=r.get("deviceMapper"))||void 0===o||null===(i=o.transform)||void 0===i?void 0:i.call(o,this._props.device))||this._props.device:this._props[t]}},{key:"connect",value:function e(t,n,r){return this._renderer=t,Object(a.autorun)(n,r)}},{key:"reaction",value:function e(t,n,r){return Object(a.reaction)(t,n,r)}},{key:"autorun",value:function e(t,n){return Object(a.autorun)(t,n)}},{key:"purge",value:function e(){}},{key:"mountViewport",value:function e(t){this.viewport.mount(t)}},{key:"buildLibrary",value:function e(t){var n=this,r=t||this.get("library"),o=[],i=[],a=[];return r&&r.length&&r.forEach((function(e){var t=e.exportMode,r=e.exportSourceLibrary;n.libraryMap[e.package]=e.library,e.async&&(n.asyncLibraryMap[e.package]=e),e.exportName&&e.library&&i.push("Object.defineProperty(window,'".concat(e.exportName,"',{get:()=>window.").concat(e.library,"});")),"functionCall"===t&&r&&a.push('window["'.concat(e.library,'"] = window["').concat(r,'"]("').concat(e.library,'", "').concat(e.package,'");')),e.editUrls?o.push(e.editUrls):e.urls&&o.push(e.urls)})),o.unshift(Object(V.h)(V.d.JSText,i.join(""))),o.push(Object(V.h)(V.d.JSText,a.join(""))),o}},{key:"rerender",value:function e(){var t,n;this.designer.refreshComponentMetasMap(),null===(t=this.renderer)||void 0===t||null===(n=t.rerender)||void 0===n||n.call(t)}},{key:"mountContentFrame",value:function(){var e=nO(eO().mark((function e(t){var n=this,r,o,i,u;return eO().wrap((function e(c){for(;;)switch(c.prev=c.next){case 0:if(t&&this._iframe!==t){c.next=2;break}return c.abrupt("return");case 2:return this._iframe=t,this._contentWindow=t.contentWindow,this._contentDocument=this._contentWindow.document,r=this.buildLibrary(),o=[Object(V.g)(this.get("environment")||("rax"===this.renderEnv?wO:gO),V.a.Environment),Object(V.g)(this.get("extraEnvironment"),V.a.Environment),Object(V.g)(r,V.a.Library),Object(V.g)(this.theme,V.a.Theme),Object(V.g)(this.get("simulatorUrl")||("rax"===this.renderEnv?bO:mO),V.a.Runtime)],c.next=9,Fg(this,t,o);case 9:return i=c.sent,c.next=12,this.componentsConsumer.waitFirstConsume();case 12:return c.next=14,this.injectionConsumer.waitFirstConsume();case 14:if(!(Object.keys(this.asyncLibraryMap).length>0)){c.next=18;break}return c.next=17,i.loadAsyncLibrary(this.asyncLibraryMap);case 17:Object.keys(this.asyncLibraryMap).forEach((function(e){delete n.asyncLibraryMap[e]}));case 18:i.run(),this.viewport.setScrollTarget(this._contentWindow),this.setupEvents(),(u=this.designer.editor.get("innerHotkey")).mount(this._contentWindow),a.focusTracker.mount(this._contentWindow),jw.injectCopyPaster(this._contentDocument);case 25:case"end":return c.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setupComponents",value:function(){var e=nO(eO().mark((function e(t){var n,r=this,o,i;return eO().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:return o=this.buildLibrary(t),a.next=3,null===(n=this.renderer)||void 0===n?void 0:n.load(o);case 3:if(!(Object.keys(this.asyncLibraryMap).length>0)){a.next=7;break}return a.next=6,null===(i=this.renderer)||void 0===i?void 0:i.loadAsyncLibrary(this.asyncLibraryMap);case 6:Object.keys(this.asyncLibraryMap).forEach((function(e){delete r.asyncLibraryMap[e]}));case 7:case"end":return a.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setupEvents",value:function e(){this.setupDragAndClick(),this.setupDetecting(),this.setupLiveEditing(),this.setupContextMenu()}},{key:"postEvent",value:function e(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this.emitter).emit.apply(n,[t].concat(o))}},{key:"setupDragAndClick",value:function e(){var t=this,n=this.designer,r=this.contentDocument;r.addEventListener("mousedown",(function(e){var o;document.dispatchEvent(new Event("mousedown"));var i=t.project.currentDocument;if(!t.liveEditing.editing&&i){var a=i.selection,u=!1;if("design"===t.designMode)u=e.metaKey||e.ctrlKey;else if(!e.metaKey)return;e.target.removeAttribute("for");var c=t.getNodeInstanceFromElement(e.target),s=i.focusNode,l=dw((null==c?void 0:c.node)||s,e);if(l){var f=null===(o=l.componentMeta.advanced.callbacks)||void 0===o?void 0:o.onMouseDownHook;f&&f(e,l.internalToShellNode());var p=null==l?void 0:l.getParent(),h=null==p?void 0:p.isRGLContainer;if(h){if(e.target.classList.contains("react-resizable-handle"))return;u=!1,n.dragon.emitter.emit("rgl.switch",{action:"start",rglNode:p})}else e.stopPropagation(),e.preventDefault();var d,v=function o(i){if(r.removeEventListener("mouseup",o,!0),n.dragon.emitter.emit("rgl.switch",{action:"end",rglNode:p}),!KS(e,i)||h){var f=l.id;if(n.activeTracker.track({node:l,instance:null==c?void 0:c.instance}),u&&!l.contains(s)&&a.has(f))a.remove(f);else{var d,v,y,m;if(l.isPage()&&null!==(d=l.getChildren())&&void 0!==d&&d.notEmpty()&&"live"===t.designMode){var b,g,w=null===(b=l.getChildren())||void 0===b||null===(g=b.get(0))||void 0===g?void 0:g.getId();w&&(f=w)}a.select(l.contains(s)?s.id:f);var O=null===(v=t.designer)||void 0===v?void 0:v.editor,_=null==l||null===(y=l.componentMeta)||void 0===y?void 0:y.npm,j=[null==_?void 0:_.package,null==_?void 0:_.componentName].filter((function(e){return!!e})).join("-")||(null==l||null===(m=l.componentMeta)||void 0===m?void 0:m.componentName)||"";null==O||O.eventBus.emit("designer.builtinSimulator.select",{selected:j})}}};if((1===e.which||0===e.button)&&!l.contains(s)){var y=[l],m=!1;if(u?(a.has(l.id)||(n.activeTracker.track({node:l,instance:null==c?void 0:c.instance}),a.add(l.id),m=!0),a.remove(s.id),y=a.getTopNodes()):a.containsNode(l,!0)&&(y=a.getTopNodes()),n.dragon.boost({type:F.f.Node,nodes:y},e,h?p:void 0),m)return}r.addEventListener("mouseup",v,!0)}}}),!0),r.addEventListener("click",(function(e){var n,r=new Event("click");r.initEvent("click",!0),null===(n=t._iframe)||void 0===n||n.dispatchEvent(r);var o=e.target,i=a.engineConfig.get("customizeIgnoreSelectors"),u=[".next-input-group",".next-checkbox-group",".next-checkbox-wrapper",".next-date-picker",".next-input",".next-month-picker",".next-number-picker",".next-radio-group",".next-range",".next-range-picker",".next-rating",".next-select",".next-switch",".next-time-picker",".next-upload",".next-year-picker",".next-breadcrumb-item",".next-calendar-header",".next-calendar-table",".editor-container"],c,s=((null==i?void 0:i(u,e))||u).join(",");(!i&&Object(V.F)(e)||null!=o&&o.closest(s))&&(e.preventDefault(),e.stopPropagation())}),!0)}},{key:"setupDetecting",value:function e(){var t=this,n=this.contentDocument,r=this.designer,o=r.detecting,i=r.dragon,u=function e(n){if(o.enable&&"design"===t.designMode){var r=t.getNodeInstanceFromElement(n.target);if(null!=r&&r.node){var u,c=r.node,s=null===(u=c.document)||void 0===u?void 0:u.focusNode;c.contains(s)&&(c=s),o.capture(c)}else o.capture(null);a.engineConfig.get("enableMouseEventPropagationInCanvas",!1)&&!i.dragging||n.stopPropagation()}},c=function e(){return o.leave(t.project.currentDocument)};n.addEventListener("mouseover",u,!0),n.addEventListener("mouseleave",c,!1),n.addEventListener("mousemove",(function(e){a.engineConfig.get("enableMouseEventPropagationInCanvas",!1)&&!i.dragging||e.stopPropagation()}),!0)}},{key:"setupLiveEditing",value:function e(){var t=this,n;this.contentDocument.addEventListener("dblclick",(function(e){var n,r;e.stopPropagation(),e.preventDefault();var o=e.target,i=t.getNodeInstanceFromElement(o);if(i){var a=null===(n=t.project.currentDocument)||void 0===n?void 0:n.focusNode,u=i.node||a;if(u&&!xm(u)){var c=null===(r=t.findDOMNodes(i.instance,u.componentMeta.rootSelector))||void 0===r?void 0:r.find((function(e){return e&&e.contains(o)}));c&&t.liveEditing.apply({node:u,rootElement:c,event:e})}}}),!0)}},{key:"setSuspense",value:function e(t){return!1}},{key:"setupContextMenu",value:function e(){var t=this,n;this.contentDocument.addEventListener("contextmenu",(function(e){var n,r,o,i,a=e.target,u=t.getNodeInstanceFromElement(a);if(u){var c=u.node||(null===(n=t.project.currentDocument)||void 0===n?void 0:n.focusNode);if(c){var s=null===(r=t.designer)||void 0===r?void 0:r.editor,l=null==c||null===(o=c.componentMeta)||void 0===o?void 0:o.npm,f=[null==l?void 0:l.package,null==l?void 0:l.componentName].filter((function(e){return!!e})).join("-")||(null==c||null===(i=c.componentMeta)||void 0===i?void 0:i.componentName)||"";null==s||s.eventBus.emit("designer.builtinSimulator.contextmenu",oO(oO({selected:f},u),{},{instanceRect:t.computeComponentInstanceRect(u.instance),originalEvent:e}))}}}))}},{key:"generateComponentMetadata",value:function e(t){if(_O(t))return{componentName:t};var n=this.getComponent(t);return n?oO({componentName:t},hw(n)):{componentName:t}}},{key:"getComponent",value:function e(t){var n;return(null===(n=this.renderer)||void 0===n?void 0:n.getComponent(t))||null}},{key:"createComponent",value:function e(t){return null}},{key:"setInstance",value:function e(t,n,r){Object(V.t)(this.instancesMap,t)||(this.instancesMap[t]=new Map),null==r?this.instancesMap[t].delete(n):this.instancesMap[t].set(n,r.slice())}},{key:"getComponentInstances",value:function e(t,n){var r,o=this,i=t.document.id,a=(null===(r=this.instancesMap[i])||void 0===r?void 0:r.get(t.id))||null;return a&&n?a.filter((function(e){var t;return(null===(t=o.getClosestNodeInstance(e,null==n?void 0:n.nodeId))||void 0===t?void 0:t.instance)===n.instance})):a}},{key:"getComponentContext",value:function e(){throw new Error("Method not implemented.")}},{key:"getClosestNodeInstance",value:function e(t,n){var r;return(null===(r=this.renderer)||void 0===r?void 0:r.getClosestNodeInstance(t,n))||null}},{key:"computeRect",value:function e(t){var n=this.getComponentInstances(t);return n?this.computeComponentInstanceRect(n[0],t.componentMeta.rootSelector):null}},{key:"computeComponentInstanceRect",value:function e(t,n){var r=this.renderer,o=this.findDOMNodes(t,n);if(!o)return null;for(var i=o.slice(),a,u,c=!1;;){if(!a||a.length<1){var s=i.pop();if(!s)break;a=r.getClientRects(s)}var l=a.pop();if(!l)break;0===l.width&&0===l.height||(u?(l.left<u.x&&(u.x=l.left,c=!0),l.top<u.y&&(u.y=l.top,c=!0),l.right>u.r&&(u.r=l.right,c=!0),l.bottom>u.b&&(u.b=l.bottom,c=!0)):u={x:l.left,y:l.top,r:l.right,b:l.bottom})}if(u){var f=new DOMRect(u.x,u.y,u.r-u.x,u.b-u.y);return f.elements=o,f.computed=c,f}return null}},{key:"findDOMNodes",value:function e(t,n){var r,o=null===(r=this._renderer)||void 0===r?void 0:r.findDOMNodes(t);if(!o)return null;if(n){var i=PO(o,n);return i?[i]:null}return o}},{key:"getNodeInstanceFromElement",value:function e(t){if(!t)return null;var n=this.getClosestNodeInstance(t);if(!n)return null;var r=n.docId,o,i=this.project.getDocument(r).getNode(n.nodeId);return oO(oO({},n),{},{node:i})}},{key:"scrollToNode",value:function e(t,n){var r,o,i;if(this.tryScrollAgain=null,!this.sensing){var a={},u=!1,c=null===(r=this.getComponentInstances((null==n||null===(o=n.near)||void 0===o?void 0:o.node)||t))||void 0===r?void 0:r[0];if(c){var s=null===(i=this.findDOMNodes(c))||void 0===i?void 0:i[0];if(s){if(Xw(s)&&!qw(s,this.viewport)){var l,f=s.getBoundingClientRect(),p=f.left,h=f.top,d=(null===(l=this.contentDocument)||void 0===l?void 0:l.documentElement)||{},v=d.scrollTop,y=void 0===v?0:v,m=d.scrollLeft,b=void 0===m?0:m;a.left=p+b,a.top=h+y,u=!0}u&&this.scroller&&this.scroller.scrollTo(a)}}}}},{key:"setNativeSelection",value:function e(t){var n;null===(n=this.renderer)||void 0===n||n.setNativeSelection(t)}},{key:"setDraggingState",value:function e(t){var n;null===(n=this.renderer)||void 0===n||n.setDraggingState(t)}},{key:"setCopyState",value:function e(t){var n;null===(n=this.renderer)||void 0===n||n.setCopyState(t)}},{key:"clearState",value:function e(){var t;null===(t=this.renderer)||void 0===t||t.clearState()}},{key:"fixEvent",value:function e(t){var n;if(t.fixed)return t;var r=(null===(n=t.originalEvent.view)||void 0===n?void 0:n.document)!==this.contentDocument,o;if(r||!("canvasX"in t)||!("canvasY"in t)){var i=this.viewport.toLocalPoint({clientX:t.globalX,clientY:t.globalY});t.canvasX=i.clientX,t.canvasY=i.clientY}t.target&&!r||(isNaN(t.canvasX)||isNaN(t.canvasY)||(t.target=null===(o=this.contentDocument)||void 0===o?void 0:o.elementFromPoint(t.canvasX,t.canvasY)));return t.fixed=!0,t}},{key:"isEnter",value:function e(t){var n=this.viewport.bounds;return t.globalY>=n.top&&t.globalY<=n.bottom&&t.globalX>=n.left&&t.globalX<=n.right}},{key:"deactiveSensor",value:function e(){this.sensing=!1,this.scroller.cancel()}},{key:"locate",value:function e(t){var n=this,r,o=t.dragObject.nodes,i=null==o?void 0:o.filter((function(e){for(var n,r,o,i,a,u=null===(n=e.componentMeta)||void 0===n||null===(r=n.advanced.callbacks)||void 0===r?void 0:r.onMoveHook,c=!u||"function"!=typeof u||u(t,e.internalToShellNode()),s=null,l=e.parent;l;){if(l.isContainer()){s=l;break}l=l.parent}var f=null===(o=s)||void 0===o||null===(i=o.componentMeta)||void 0===i||null===(a=i.advanced.callbacks)||void 0===a?void 0:a.onChildMoveHook,p=!f||!s||"function"!=typeof f||f(e.internalToShellNode(),s.internalToShellNode());return c&&p}));if(!o||i&&0!==i.length){this.sensing=!0,this.scroller.scrolling(t);var a=this.project.currentDocument;if(!a)return null;var u=this.getDropContainer(t),c;if(Object(V.q)(null==u?void 0:u.container,(function(e){return e.isLocked})))return null;if(!u)return null;if(Object(V.L)(u))return this.designer.createLocation(u);var s=u.container,l=u.instance,f=this.computeComponentInstanceRect(l,s.componentMeta.rootSelector);if(!f)return null;var p=s.children,h={type:F.k.Children,index:0,edge:f},d={target:s,detail:h,source:"simulator".concat(a.id),event:t};if(t.dragObject&&t.dragObject.nodes&&t.dragObject.nodes.length&&t.dragObject.nodes[0].componentMeta.isModal)return this.designer.createLocation({target:a.focusNode,detail:h,source:"simulator".concat(a.id),event:t});if(!p||p.size<1||!f)return this.designer.createLocation(d);for(var v=null,y=0,m=null,b=null,g=null,w=null,O=0,_=p.size;O<_;O++){var j=p.get(O),S=O,E=this.getComponentInstances(j),k=E?E.length>1?E.find((function(e){var t;return(null===(t=n.getClosestNodeInstance(e,s.id))||void 0===t?void 0:t.instance)===l})):E[0]:null,P=k?this.computeComponentInstanceRect(k,j.componentMeta.rootSelector):null;if(P){var x=jO(t,P)?0:SO(t,P);if(0===x){b=x,m=j,y=S,v=P;break}(null===g||P.top<g)&&(g=P.top),(null===w||P.bottom>w)&&(w=P.bottom),(null===b||x<b)&&(b=x,m=j,y=S,v=P)}}if(h.index=y,m&&v){var N=kE(v),C=!!N&&EE(N),T=!!N&&SE(N.parentElement),R=C||T,A={node:m,pos:"before",align:R?"V":"H"};if(h.near=A,kO(t,v,R)&&(A.pos="after",h.index=y+1),!T&&0!==b){var L=EO(t,f);if(L.distance<b){var M=L.nearAfter;null==g&&(g=f.top),null==w&&(w=f.bottom),A.rect=new DOMRect(f.left,g,f.width,w-g),A.align="H",A.pos=M?"after":"before",h.index=M?p.size:0}}}return this.designer.createLocation(d)}}},{key:"getDropContainer",value:function e(t){var n=t.target,r=t.dragObject,o=Object(V.A)(r),i=this.project.currentDocument,a=i.currentRoot,u,c;if(n){var s=this.getNodeInstanceFromElement(n);if(null!=s&&s.node)c=s,u=s.node;else{if(o)return null;u=a}}else{if(o)return null;u=a}if(u.isParental()||(u=u.parent||a),o)return null;var l=new Set,f,p,h;if(Object(V.C)(r)){for(var d=r.nodes,v=d.length,y=u;v-- >0;)Cm(d[v],y)&&(y=d[v].parent);y!==u&&(u=y||i.focusNode,l.add(u))}c?f=c.node===u?c.instance:null===(p=this.getClosestNodeInstance(c.instance,u.id))||void 0===p?void 0:p.instance:f=null===(h=this.getComponentInstances(u))||void 0===h?void 0:h[0];for(var m={container:u,instance:f},b,g=null;u;){if(!0===(b=this.handleAccept(m,t)))return m;if(!b)if(l.add(u),g)u=(m=g).container,g=null;else{if(!u.parent)return null;var w;m={container:u=u.parent,instance:f=null===(w=this.getClosestNodeInstance(m.instance,u.id))||void 0===w?void 0:w.instance}}}return null}},{key:"isAcceptable",value:function e(){return!1}},{key:"handleAccept",value:function e(t,n){var r=t.container,o=t.instance,i=n.dragObject,a=this.currentDocument,u=a.focusNode;if(Pm(r)||r.contains(u))return a.checkNesting(u,i);var c=r.componentMeta,s=this.isAcceptable(r);return!(!c.isContainer&&!s)&&a.checkNesting(r,i)}},{key:"getNearByContainer",value:function e(t,n,r){var o=t.container,i=t.instance,a=o.children,u=this.project.currentDocument;if(!a||a.isEmpty())return null;for(var c=null,s=null,l=0,f=a.size;l<f;l++){var p=a.get(l);if(p){if(p.conditionGroup){var h=p.conditionGroup;l=h.index+h.length-1,p=h.visibleNode}if(p.isParental()&&!n.has(p)){this.findDOMNodes(i),this.getComponentInstances(p);var d=this.computeRect(p)}}}return null}}]),e}();function _O(e){return/^[a-z]\w*$/.test(e)}function jO(e,t){return e.canvasY>=t.top&&e.canvasY<=t.bottom&&e.canvasX>=t.left&&e.canvasX<=t.right}function SO(e,t){var n=Math.min(Math.abs(e.canvasX-t.left),Math.abs(e.canvasX-t.right)),r=Math.min(Math.abs(e.canvasY-t.top),Math.abs(e.canvasY-t.bottom));return e.canvasX>=t.left&&e.canvasX<=t.right&&(n=0),e.canvasY>=t.top&&e.canvasY<=t.bottom&&(r=0),Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}function EO(e,t){var n=Math.abs(e.canvasY-t.top),r=Math.abs(e.canvasY-t.bottom);return{distance:Math.min(n,r),nearAfter:r<n}}function kO(e,t,n){return n?Math.abs(e.canvasX-t.left)+Math.abs(e.canvasY-t.top)>Math.abs(e.canvasX-t.right)+Math.abs(e.canvasY-t.bottom):Math.abs(e.canvasY-t.top)>Math.abs(e.canvasY-t.bottom)}function PO(e,t){var n=null,r=Qw(e),o;try{for(r.s();!(o=r.n()).done;){var i=o.value;if(Object(V.E)(i)){if(i.matches(t))return i;n||(n=i.querySelector(t))}}}catch(e){r.e(e)}finally{r.f()}return n}function xO(e){return(xO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RO(r.key),r)}}function TO(e,t,n){return t&&CO(e.prototype,t),n&&CO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function RO(e){var t=AO(e,"string");return"symbol"===xO(t)?t:String(t)}function AO(e,t){if("object"!==xO(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function LO(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MO(e,t)}function MO(e,t){return(MO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function DO(e){var t=VO();return function n(){var r=FO(e),o;if(t){var i=FO(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return IO(this,o)}}function IO(e,t){if(t&&("object"===xO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return BO(e)}function BO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VO(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function FO(e){return(FO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}f([a.computed,m("design:type",String),m("design:paramtypes",[])],OO.prototype,"renderEnv",null),f([a.computed,m("design:type",String),m("design:paramtypes",[])],OO.prototype,"device",null),f([a.computed,m("design:type",String),m("design:paramtypes",[])],OO.prototype,"locale",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],OO.prototype,"deviceClassName",null),f([a.computed,m("design:type",String),m("design:paramtypes",[])],OO.prototype,"designMode",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],OO.prototype,"requestHandlersMap",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],OO.prototype,"componentsAsset",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],OO.prototype,"theme",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],OO.prototype,"componentsMap",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],OO.prototype,"deviceStyle",null),f([a.obx.ref,m("design:type",Object)],OO.prototype,"_props",void 0),f([a.obx.ref,m("design:type","function"==typeof(Uw="undefined"!=typeof Window&&Window)?Uw:Object)],OO.prototype,"_contentWindow",void 0),f([a.obx.ref,m("design:type","function"==typeof(zw="undefined"!=typeof Document&&Document)?zw:Object)],OO.prototype,"_contentDocument",void 0),f([a.obx,m("design:type",Object)],OO.prototype,"instancesMap",void 0);var GO=function(e){LO(n,e);var t=DO(n);function n(){return NO(this,n),t.apply(this,arguments)}return TO(n,[{key:"render",value:function e(){var t=this.props,n=t.title,r=t.rect,o=t.scale,i=t.scrollX,u=t.scrollY,c=t.isLocked;if(!r)return null;var s={width:r.width*o,height:r.height*o,transform:"translate(".concat((i+r.left)*o,"px, ").concat((u+r.top)*o,"px)")},l=rr()("lc-borders lc-borders-detecting");return React.createElement("div",{className:l,style:s},React.createElement(a.Title,{title:n,className:"lc-borders-title"}),c?React.createElement(a.Title,{title:at("locked"),className:"lc-borders-status"}):null)}}]),n}(r.PureComponent),HO=function(e){LO(n,e);var t=DO(n);function n(){return NO(this,n),t.apply(this,arguments)}return TO(n,[{key:"scale",get:function e(){return this.props.host.viewport.scale}},{key:"scrollX",get:function e(){return this.props.host.viewport.scrollX}},{key:"scrollY",get:function e(){return this.props.host.viewport.scrollY}},{key:"current",get:function e(){var t=this.props.host,n=t.currentDocument;if(!n)return null;var r=n.selection,o=t.designer.detecting.current;return!o||o.document!==n||r.has(o.id)?null:o}},{key:"render",value:function e(){var t,n=this,o=this.props.host,i=this.current,a=null==i||null===(t=i.componentMeta.advanced.callbacks)||void 0===t?void 0:t.onHoverHook,u;if(!(!a||"function"!=typeof a||a(i.internalToShellNode()))||!i||o.viewport.scrolling||o.liveEditing.editing)return null;var c=i.document.focusNode;if(!c.contains(i))return null;if(i.contains(c)){var s=o.viewport.bounds;return React.createElement(GO,{key:"line-root",title:i.title,scale:this.scale,scrollX:o.viewport.scrollX,scrollY:o.viewport.scrollY,rect:new DOMRect(0,0,s.width,s.height)})}var l=Object(V.q)(i,(function(e){var t;return!!(null!=i&&i.isLocked?null===(t=e.parent)||void 0===t?void 0:t.isLocked:e.isLocked)}));if(l&&l.getId()!==i.getId())return React.createElement(GO,{key:"line-h",title:i.title,scale:this.scale,scrollX:this.scrollX,scrollY:this.scrollY,rect:o.computeComponentInstanceRect(o.getComponentInstances(l)[0],l.componentMeta.rootSelector),isLocked:(null==l?void 0:l.getId())!==i.getId()});var f=o.getComponentInstances(i);return!f||f.length<1?null:1===f.length?React.createElement(GO,{key:"line-h",title:i.title,scale:this.scale,scrollX:this.scrollX,scrollY:this.scrollY,rect:o.computeComponentInstanceRect(f[0],i.componentMeta.rootSelector)}):React.createElement(r.Fragment,null,f.map((function(e,t){return React.createElement(GO,{key:"line-h-".concat(t),title:i.title,scale:n.scale,scrollX:n.scrollX,scrollY:n.scrollY,rect:o.computeComponentInstanceRect(e,i.componentMeta.rootSelector)})})))}}]),n}(r.Component);function UO(e){return(UO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KO(r.key),r)}}function $O(e,t,n){return t&&WO(e.prototype,t),n&&WO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function KO(e){var t=XO(e,"string");return"symbol"===UO(t)?t:String(t)}function XO(e,t){if("object"!==UO(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==UO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function qO(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YO(e,t)}function YO(e,t){return(YO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function JO(e){var t=e_();return function n(){var r=t_(e),o;if(t){var i=t_(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return ZO(this,o)}}function ZO(e,t){if(t&&("object"===UO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return QO(e)}function QO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e_(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function t_(e){return(t_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}f([a.computed,m("design:type",Object),m("design:paramtypes",[])],HO.prototype,"scale",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],HO.prototype,"scrollX",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],HO.prototype,"scrollY",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],HO.prototype,"current",null),HO=f([a.observer],HO);var n_=function(e){qO(n,e);var t=JO(n);function n(){return zO(this,n),t.apply(this,arguments)}return $O(n,[{key:"render",value:function e(){var t=this.props,n=t.title,o=t.rect,i=t.scale,u=t.scrollX,c=t.scrollY;if(!o)return null;var s={width:o.width*i,height:o.height*i,transform:"translate(".concat((u+o.left)*i,"px, ").concat((c+o.top)*i,"px)")},l=rr()("lc-borders lc-borders-detecting");return r.createElement("div",{className:l,style:s},r.createElement(a.Title,{title:n,className:"lc-borders-title"}))}}]),n}(r.PureComponent);function r_(e){if("string"==typeof e)return e;if(Object(V.G)(e)){var t=a.globalLocale.getLocale()||"zh-CN";return"\u5c06\u653e\u5165\u5230\u6b64".concat(e[t])}return""}var o_=function(e){qO(n,e);var t=JO(n);function n(){var e;zO(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={},e}return $O(n,[{key:"scale",get:function e(){return this.props.host.viewport.scale}},{key:"scrollX",get:function e(){return this.props.host.viewport.scrollX}},{key:"scrollY",get:function e(){return this.props.host.viewport.scrollY}},{key:"componentDidMount",value:function e(){var t=this,n;this.props.host.designer.editor.eventBus.on("designer.dropLocation.change",(function(e){var n;t.state.target!==(null==e?void 0:e.target)&&t.setState({target:null==e?void 0:e.target})}))}},{key:"render",value:function e(){var t=this,n=this.props.host,o=this.state.target;if(null==o)return null;var i=n.getComponentInstances(o);return!i||i.length<1?null:1===i.length?r.createElement(n_,{key:"line-h",title:r_(o.componentMeta.title),scale:this.scale,scrollX:this.scrollX,scrollY:this.scrollY,rect:n.computeComponentInstanceRect(i[0],o.componentMeta.rootSelector)}):r.createElement(r.Fragment,null,i.map((function(e,i){return r.createElement(n_,{key:"line-h-".concat(i),title:r_(o.componentMeta.title),scale:t.scale,scrollX:t.scrollX,scrollY:t.scrollY,rect:n.computeComponentInstanceRect(e,o.componentMeta.rootSelector)})})))}}]),n}(r.Component);f([a.computed,m("design:type",Object),m("design:paramtypes",[])],o_.prototype,"scale",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],o_.prototype,"scrollX",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],o_.prototype,"scrollY",null),o_=f([a.observer],o_);var i_=n(95);function a_(e){return(a_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l_(r.key),r)}}function s_(e,t,n){return t&&c_(e.prototype,t),n&&c_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l_(e){var t=f_(e,"string");return"symbol"===a_(t)?t:String(t)}function f_(e,t){if("object"!==a_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function p_(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h_(e,t)}function h_(e,t){return(h_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function d_(e){var t=m_();return function n(){var r=b_(e),o;if(t){var i=b_(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return v_(this,o)}}function v_(e,t){if(t&&("object"===a_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y_(e)}function y_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m_(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function b_(e){return(b_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var g_=ea.Overlay.Popup,w_=function(e){p_(n,e);var t=d_(n);function n(){var e;u_(this,n);for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return(e=t.call.apply(t,[this].concat(i))).state={parentNodes:[]},e.getParentNodes=function(e){var t=[],n=e.document.focusNode;if(e.contains(n)||!n.contains(e))return t;for(var r=e;r&&t.length<5&&((r=r.getParent())&&t.push(r),r!==n););return t},e.onSelect=function(e){return function(t){var n;if(e&&(Object(V.i)(e,t)&&"function"==typeof e.select)){var r,o;e.select();var i=a.globalContext.get("workspace"),u=i.isActive?i.window.editor:a.globalContext.get("editor"),c=null==e||null===(r=e.componentMeta)||void 0===r?void 0:r.npm,s=[null==c?void 0:c.package,null==c?void 0:c.componentName].filter((function(e){return!!e})).join("-")||(null==e||null===(o=e.componentMeta)||void 0===o?void 0:o.componentName)||"";null==u||u.eventBus.emit("designer.border.action",{name:"select",selected:s})}}},e.onMouseOver=function(e){return function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&"function"==typeof e.hover&&e.hover(n)}},e.onMouseOut=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&"function"==typeof e.hover&&e.hover(n)}},e.renderNodes=function(){var t=e.state.parentNodes,n;return!t||t.length<1?null:t.map((function(t,n){return o.a.createElement("div",{key:n,onClick:e.onSelect(t),onMouseEnter:e.onMouseOver(t),onMouseLeave:e.onMouseOut(t),className:"instance-node-selector-node"},o.a.createElement("div",{className:"instance-node-selector-node-content"},o.a.createElement(a.Title,{className:"instance-node-selector-node-title",title:{label:t.title,icon:t.icon}})))}))},e}return s_(n,[{key:"componentDidMount",value:function e(){var t=this.getParentNodes(this.props.node);this.setState({parentNodes:t})}},{key:"render",value:function e(){var t=this.props.node;return o.a.createElement("div",{className:"instance-node-selector"},o.a.createElement(g_,{trigger:o.a.createElement("div",{className:"instance-node-selector-current"},o.a.createElement(a.Title,{className:"instance-node-selector-node-title",title:{label:t.title,icon:t.icon}})),triggerType:"hover",offset:[0,0]},o.a.createElement("div",{className:"instance-node-selector"},this.renderNodes(t))))}}]),n}(o.a.Component);function O_(e){return(O_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function __(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E_(r.key),r)}}function S_(e,t,n){return t&&j_(e.prototype,t),n&&j_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function E_(e){var t=k_(e,"string");return"symbol"===O_(t)?t:String(t)}function k_(e,t){if("object"!==O_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==O_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function P_(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x_(e,t)}function x_(e,t){return(x_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function N_(e){var t=R_();return function n(){var r=A_(e),o;if(t){var i=A_(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return C_(this,o)}}function C_(e,t){if(t&&("object"===O_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return T_(e)}function T_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R_(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function A_(e){return(A_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var L_=function(e){P_(n,e);var t=N_(n);function n(){return __(this,n),t.apply(this,arguments)}return S_(n,[{key:"componentWillUnmount",value:function e(){this.props.observed.purge()}},{key:"render",value:function e(){var t=this.props,n=t.observed,r=t.highlight,o=t.dragging;if(!n.hasOffset)return null;var i=n.offsetWidth,a=n.offsetHeight,u=n.offsetTop,c=n.offsetLeft,s={width:i,height:a,transform:"translate3d(".concat(c,"px, ").concat(u,"px, 0)")},l=rr()("lc-borders lc-borders-selecting",{highlight:r,dragging:o}),f;return n.node.componentMeta.advanced.hideSelectTools?null:React.createElement("div",{className:l,style:s},!o&&React.createElement(M_,{observed:n}))}}]),n}(r.Component);L_=f([a.observer],L_);var M_=function(e){P_(n,e);var t=N_(n);function n(){return __(this,n),t.apply(this,arguments)}return S_(n,[{key:"render",value:function e(){var t=this.props.observed,n=t.viewport,r=n.height,o=n.width,i=20,a=1,u=2,c=23,s=160,l;l=t.top>23?{top:-23,height:20}:t.bottom+23<r?{bottom:-23,height:20}:{height:20,top:Math.max(1,1-t.top)},160>t.left+t.width?l.left=Math.max(-2,t.left-o-2):(l.right=Math.max(-2,t.right-o-2),l.justifyContent="flex-start");var f=t.node,p=[];return f.componentMeta.availableActions.forEach((function(e){var t=e.important,n=void 0===t||t,r=e.condition,o=e.content,i=e.name;(!f.isSlot()||"copy"!==i&&"remove"!==i)&&n&&("function"==typeof r?!1!==r(f):!1!==r)&&p.push(D_(o,i,f))})),React.createElement("div",{className:"lc-borders-actions",style:l},p,React.createElement(w_,{node:f}))}}]),n}(r.Component);function D_(e,t,n){if(Object(r.isValidElement)(e))return Object(r.cloneElement)(e,{key:t,node:n});if(Object(V.S)(e))return Object(r.createElement)(e,{key:t,node:n});if(Object(V.u)(e)){var o=e.action,i=e.title,u=e.icon;return React.createElement("div",{key:t,className:"lc-borders-action",onClick:function e(){var r,i;o&&o(n);var u=a.globalContext.get("workspace"),c=u.isActive?u.window.editor:a.globalContext.get("editor"),s=null==n||null===(r=n.componentMeta)||void 0===r?void 0:r.npm,l=[null==s?void 0:s.package,null==s?void 0:s.componentName].filter((function(e){return!!e})).join("-")||(null==n||null===(i=n.componentMeta)||void 0===i?void 0:i.componentName)||"";null==c||c.eventBus.emit("designer.border.action",{name:t,selected:l})}},u&&Object(V.n)(u),React.createElement(a.Tip,null,i))}return null}M_=f([a.observer],M_);var I_=function(e){P_(n,e);var t=N_(n);function n(){return __(this,n),t.apply(this,arguments)}return S_(n,[{key:"host",get:function e(){return this.props.host}},{key:"dragging",get:function e(){return this.host.designer.dragon.dragging}},{key:"instances",get:function e(){return this.host.getComponentInstances(this.props.node)}},{key:"render",value:function e(){var t=this,n=this.instances,o=this.props.node,i=this.host.designer;return!n||n.length<1?null:React.createElement(r.Fragment,{key:o.id},n.map((function(e){var n=i.createOffsetObserver({node:o,instance:e});return n?React.createElement(L_,{key:n.id,dragging:t.dragging,observed:n}):null})))}}]),n}(r.Component);f([a.computed,m("design:type",Object),m("design:paramtypes",[])],I_.prototype,"instances",null),I_=f([a.observer],I_);var B_=function(e){P_(n,e);var t=N_(n);function n(){return __(this,n),t.apply(this,arguments)}return S_(n,[{key:"host",get:function e(){return this.props.host}},{key:"dragging",get:function e(){return this.host.designer.dragon.dragging}},{key:"selecting",get:function e(){var t=this.host.currentDocument;if(!t||t.suspensed||this.host.liveEditing.editing)return null;var n=t.selection;return this.dragging?n.getTopNodes():n.getNodes()}},{key:"render",value:function e(){var t=this,n=this.selecting;return!n||n.length<1?null:React.createElement(r.Fragment,null,n.map((function(e){return React.createElement(I_,{key:e.id,host:t.props.host,node:e})})))}}]),n}(r.Component);function V_(e){return(V_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,U_(r.key),r)}}function H_(e,t,n){return t&&G_(e.prototype,t),n&&G_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function U_(e){var t=z_(e,"string");return"symbol"===V_(t)?t:String(t)}function z_(e,t){if("object"!==V_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==V_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}f([a.computed,m("design:type",Object),m("design:paramtypes",[])],B_.prototype,"selecting",null),B_=f([a.observer],B_);var W_=function(){function e(t){F_(this,e),this.emitter=void 0,this.dragResizing=!1,this.designer=void 0,this.designer=t,this.emitter=Object(a.createModuleEventBus)("DragResizeEngine")}return H_(e,[{key:"isDragResizing",value:function e(){return this.dragResizing}},{key:"from",value:function e(t,n,r){var o=this,i,a;if(!t)return function(){};var u=function e(t){var r=s(t),u=r.clientX-a.clientX,c=r.clientY-a.clientY;o.emitter.emit("resize",t,n,i,u,c)},c=this.getMasterSensors(),s=function e(t){var n,r=null===(n=t.view)||void 0===n?void 0:n.document;if(!r||r===document)return t;var o=c.find((function(e){return e.contentDocument===r}));return o?o.viewport.toGlobalPoint(t):t},l=function e(t){var r;Jw(t,c)((function(t){t.removeEventListener("mousemove",u,!0),t.removeEventListener("mouseup",e,!0)})),o.dragResizing=!1,o.designer.detecting.enable=!0,V.o.release(),o.emitter.emit("resizeEnd",t,n,i)},f=function e(t){var f;i=r(t),a=s(t),Jw(t,c)((function(e){e.addEventListener("mousemove",u,!0),e.addEventListener("mouseup",l,!0)})),o.emitter.emit("resizeStart",t,n,i),o.dragResizing=!0,o.designer.detecting.enable=!1,V.o.addState("ew-resize")};return t.addEventListener("mousedown",f),function(){t.removeEventListener("mousedown",f)}}},{key:"onResizeStart",value:function e(t){var n=this;return this.emitter.on("resizeStart",t),function(){n.emitter.removeListener("resizeStart",t)}}},{key:"onResize",value:function e(t){var n=this;return this.emitter.on("resize",t),function(){n.emitter.removeListener("resize",t)}}},{key:"onResizeEnd",value:function e(t){var n=this;return this.emitter.on("resizeEnd",t),function(){n.emitter.removeListener("resizeEnd",t)}}},{key:"getMasterSensors",value:function e(){return this.designer.project.documents.map((function(e){var t;return e.active&&null!==(t=e.simulator)&&void 0!==t&&t.sensorAvailable?e.simulator:null})).filter(Boolean)}}]),e}(),$_=Object(r.createContext)({}),K_,X_;function q_(e){return(q_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Q_(r.key),r)}}function Z_(e,t,n){return t&&J_(e.prototype,t),n&&J_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q_(e){var t=ej(e,"string");return"symbol"===q_(t)?t:String(t)}function ej(e,t){if("object"!==q_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==q_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function tj(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nj(e,t)}function nj(e,t){return(nj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function rj(e){var t=aj();return function n(){var r=uj(e),o;if(t){var i=uj(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return oj(this,o)}}function oj(e,t){if(t&&("object"===q_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ij(e)}function ij(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aj(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function uj(e){return(uj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var cj=((K_=function(e){tj(n,e);var t=rj(n);function n(){return Y_(this,n),t.apply(this,arguments)}return Z_(n,[{key:"host",get:function e(){return this.props.host}},{key:"dragging",get:function e(){return this.host.designer.dragon.dragging}},{key:"selecting",get:function e(){var t=this.host.currentDocument;if(!t||t.suspensed)return null;var n=t.selection;return this.dragging?n.getTopNodes():n.getNodes()}},{key:"componentDidUpdate",value:function e(){}},{key:"render",value:function e(){var t=this,n=this.selecting;return!n||n.length<1?o.a.createElement(r.Fragment,null):o.a.createElement(r.Fragment,null,n.map((function(e){return o.a.createElement(lj,{key:e.id,node:e,host:t.props.host})})))}}]),n}(r.Component)).contextType=$_,K_);f([a.computed,m("design:type",Object),m("design:paramtypes",[])],cj.prototype,"selecting",null);var sj=cj=f([a.observer],cj),lj=((X_=function(e){tj(n,e);var t=rj(n);function n(){return Y_(this,n),t.apply(this,arguments)}return Z_(n,[{key:"host",get:function e(){return this.props.host}},{key:"dragging",get:function e(){return this.host.designer.dragon.dragging}},{key:"instances",get:function e(){return this.host.getComponentInstances(this.props.node)}},{key:"render",value:function e(){var t=this,n=this.instances,i=this.props.node,a=this.host.designer;return!n||n.length<1||this.dragging?null:o.a.createElement(r.Fragment,{key:i.id},n.map((function(e){var n=a.createOffsetObserver({node:i,instance:e});return n?o.a.createElement(fj,{key:n.id,dragging:t.dragging,designer:a,observed:n}):null})))}}]),n}(r.Component)).contextType=$_,X_);f([a.computed,m("design:type",Object),m("design:paramtypes",[])],lj.prototype,"instances",null),lj=f([a.observer],lj);var fj=function(e){tj(n,e);var t=rj(n);function n(e){var r;return Y_(this,n),(r=t.call(this,e)).willUnbind=void 0,r.outlineN=void 0,r.outlineE=void 0,r.outlineS=void 0,r.outlineW=void 0,r.outlineNE=void 0,r.outlineNW=void 0,r.outlineSE=void 0,r.outlineSW=void 0,r.dragEngine=void 0,r.dragEngine=new W_(e.designer),r}return Z_(n,[{key:"componentWillUnmount",value:function e(){this.willUnbind&&this.willUnbind(),this.props.observed.purge()}},{key:"componentDidMount",value:function e(){this.willBind();var t=function e(t,n,r,o,i){var a=r.componentMeta.advanced;if(a.callbacks&&"function"==typeof a.callbacks.onResize){t.trigger=n,t.deltaX=o,t.deltaY=i;var u=null!=r&&r.isNode?r.internalToShellNode():r;a.callbacks.onResize(t,u)}},n=function e(t,n,r){var o=r.componentMeta.advanced;if(o.callbacks&&"function"==typeof o.callbacks.onResizeStart){t.trigger=n;var i=null!=r&&r.isNode?r.internalToShellNode():r;o.callbacks.onResizeStart(t,i)}},r=function e(t,n,r){var o,i,u,c=r.componentMeta.advanced;if(c.callbacks&&"function"==typeof c.callbacks.onResizeEnd){t.trigger=n;var s=null!=r&&r.isNode?r.internalToShellNode():r;c.callbacks.onResizeEnd(t,s)}var l=a.globalContext.get("workspace"),f=l.isActive?l.window.editor:a.globalContext.get("editor"),p=null==r||null===(o=r.componentMeta)||void 0===o?void 0:o.npm,h=[null==p?void 0:p.package,null==p?void 0:p.componentName].filter((function(e){return!!e})).join("-")||(null==r||null===(i=r.componentMeta)||void 0===i?void 0:i.componentName)||"";null==f||f.eventBus.emit("designer.border.resize",{selected:h,layout:(null==r||null===(u=r.parent)||void 0===u?void 0:u.getPropValue("layout"))||""})};this.dragEngine.onResize(t),this.dragEngine.onResizeStart(n),this.dragEngine.onResizeEnd(r)}},{key:"willBind",value:function e(){var t=this;if(this.willUnbind&&this.willUnbind(),this.outlineN||this.outlineE||this.outlineS||this.outlineW||this.outlineNE||this.outlineNW||this.outlineSE||this.outlineSW){var n=[],r=this.props.observed.node;n.push.apply(n,[this.dragEngine.from(this.outlineN,"n",(function(){return r})),this.dragEngine.from(this.outlineE,"e",(function(){return r})),this.dragEngine.from(this.outlineS,"s",(function(){return r})),this.dragEngine.from(this.outlineW,"w",(function(){return r})),this.dragEngine.from(this.outlineNE,"ne",(function(){return r})),this.dragEngine.from(this.outlineNW,"nw",(function(){return r})),this.dragEngine.from(this.outlineSE,"se",(function(){return r})),this.dragEngine.from(this.outlineSW,"sw",(function(){return r}))]),this.willUnbind=function(){n&&n.length>0&&n.forEach((function(e){e()})),t.willUnbind=function(){}}}}},{key:"render",value:function e(){var t=this,n=this.props.observed;if(!n.hasOffset)return null;var r=n.node,i=n.offsetWidth,a=n.offsetHeight,u=n.offsetTop,c=n.offsetLeft,s=[],l=r.componentMeta.advanced;l.getResizingHandlers&&(s=l.getResizingHandlers(r.internalToShellNode())),s=Yw(s);var f="lc-borders lc-resize-side",p="lc-borders lc-resize-corner";return o.a.createElement("div",null,s.includes("N")&&o.a.createElement("div",{ref:function e(n){t.outlineN=n},className:rr()(f,"n"),style:{height:20,transform:"translate(".concat(c,"px, ").concat(u-10,"px)"),width:i}}),s.includes("NE")&&o.a.createElement("div",{ref:function e(n){t.outlineNE=n},className:rr()(p,"ne"),style:{transform:"translate(".concat(c+i-5,"px, ").concat(u-3,"px)"),cursor:"nesw-resize"}}),s.includes("E")&&o.a.createElement("div",{className:rr()(f,"e"),ref:function e(n){t.outlineE=n},style:{height:a,transform:"translate(".concat(c+i-10,"px, ").concat(u,"px)"),width:20}}),s.includes("SE")&&o.a.createElement("div",{ref:function e(n){t.outlineSE=n},className:rr()(p,"se"),style:{transform:"translate(".concat(c+i-5,"px, ").concat(u+a-5,"px)"),cursor:"nwse-resize"}}),s.includes("S")&&o.a.createElement("div",{ref:function e(n){t.outlineS=n},className:rr()(f,"s"),style:{height:20,transform:"translate(".concat(c,"px, ").concat(u+a-10,"px)"),width:i}}),s.includes("SW")&&o.a.createElement("div",{ref:function e(n){t.outlineSW=n},className:rr()(p,"sw"),style:{transform:"translate(".concat(c-3,"px, ").concat(u+a-5,"px)"),cursor:"nesw-resize"}}),s.includes("W")&&o.a.createElement("div",{ref:function e(n){t.outlineW=n},className:rr()(f,"w"),style:{height:a,transform:"translate(".concat(c-10,"px, ").concat(u,"px)"),width:20}}),s.includes("NW")&&o.a.createElement("div",{ref:function e(n){t.outlineNW=n},className:rr()(p,"nw"),style:{transform:"translate(".concat(c-3,"px, ").concat(u-3,"px)"),cursor:"nwse-resize"}}))}}]),n}(r.Component);fj=f([a.observer,m("design:paramtypes",[Object])],fj);var pj=n(96);function hj(e){return(hj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mj(r.key),r)}}function yj(e,t,n){return t&&vj(e.prototype,t),n&&vj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function mj(e){var t=bj(e,"string");return"symbol"===hj(t)?t:String(t)}function bj(e,t){if("object"!==hj(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==hj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function gj(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wj(e,t)}function wj(e,t){return(wj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Oj(e){var t=Sj();return function n(){var r=Ej(e),o;if(t){var i=Ej(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return _j(this,o)}}function _j(e,t){if(t&&("object"===hj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jj(e)}function jj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sj(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ej(e){return(Ej=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function kj(e,t,n){var r=n.edge||null;if(!r&&!(r=e.computeRect(t)))return{};var o={edge:r,insertType:"before"};if(n.near){var i=n.near,a=i.node,u=i.pos,c=i.rect,s=i.align;return o.nearRect=c||e.computeRect(a),o.nearNode=a,"replace"===u?(o.coverRect=o.nearRect,o.insertType="cover"):!o.nearRect||0===o.nearRect.width&&0===o.nearRect.height?(o.nearRect=o.edge,o.insertType="after",o.vertical=xE(o.nearRect)):(o.insertType=u,o.vertical=s?"V"===s:xE(o.nearRect)),o}var l=n.index;if(null==l)return o.coverRect=o.edge,o.insertType="cover",o;var f=t.children.get(l);if(!f){if(!(f=t.children.get(l>0?l-1:0)))return o.insertType="cover",o.coverRect=r,o;o.insertType="after"}return f?(o.nearRect=e.computeRect(f),(!o.nearRect||0===o.nearRect.width&&0===o.nearRect.height)&&(o.nearRect=o.edge,o.insertType="after"),o.vertical=xE(o.nearRect),o.nearNode=f):(o.insertType="cover",o.coverRect=r),o}function Pj(e){var t=e.target,n=e.detail,r,o=e.document.simulator;if(!o)return{};if(Object(V.K)(n))return kj(o,t,n);var i=o.getComponentInstances(t);if(!i)return{};var a=o.computeComponentInstanceRect(i[0],t.componentMeta.rootSelector);return a?{edge:a,insertType:"cover",coverRect:a}:{}}var xj=function(e){gj(n,e);var t=Oj(n);function n(){return dj(this,n),t.apply(this,arguments)}return yj(n,[{key:"render",value:function e(){var t,n,r,o,i=this.props.host,a=null===(t=i.currentDocument)||void 0===t?void 0:t.dropLocation;if(!a)return null;if(null!==(n=a.target)&&void 0!==n&&null!==(r=n.componentMeta)&&void 0!==r&&r.advanced.isAbsoluteLayoutContainer)return null;var u=i.viewport,c=u.scale,s=u.scrollX,l=u.scrollY,f=Pj(a),p=f.edge,h=f.insertType,d=f.coverRect,v=f.nearRect,y=f.vertical,m=f.nearNode;if(!p)return null;var b="lc-insertion";!1===(null===(o=a.detail)||void 0===o?void 0:o.valid)&&(b+=" invalid");var g={},w,O;if("cover"===h)b+=" cover",w=(d.left+s)*c,O=(d.top+l)*c,g.width=d.width*c,g.height=d.height*c;else{var _;if(!v)return null;if(y?(b+=" vertical",w=(("before"===h?v.left:v.right)+s)*c,O=(v.top+l)*c,g.height=v.height*c):(w=(v.left+s)*c,O=(("before"===h?v.top:v.bottom)+l)*c,g.width=v.width*c),0===O&&null!=m&&null!==(_=m.componentMeta)&&void 0!==_&&_.isTopFixed)return null}return g.transform="translate3d(".concat(w,"px, ").concat(O,"px, 0)"),React.createElement("div",{className:b,style:g})}}]),n}(r.Component);xj=f([a.observer],xj);var Nj=n(97),Cj=n(98);function Tj(e){return(Tj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mj(r.key),r)}}function Lj(e,t,n){return t&&Aj(e.prototype,t),n&&Aj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mj(e){var t=Dj(e,"string");return"symbol"===Tj(t)?t:String(t)}function Dj(e,t){if("object"!==Tj(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Tj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ij(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bj(e,t)}function Bj(e,t){return(Bj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Vj(e){var t=Hj();return function n(){var r=Uj(e),o;if(t){var i=Uj(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Fj(this,o)}}function Fj(e,t){if(t&&("object"===Tj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gj(e)}function Gj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hj(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Uj(e){return(Uj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var zj=function(e){Ij(n,e);var t=Vj(n);function n(){return Rj(this,n),t.apply(this,arguments)}return Lj(n,[{key:"render",value:function e(){var t=this.props.host,n=t.designMode,r=t.viewport,i=r.scrollX,u=r.scrollY,c=r.scale;return"live"===n?null:o.a.createElement("div",{className:"lc-bem-tools",style:{transform:"translate(".concat(-i*c,"px,").concat(-u*c,"px)")}},!a.engineConfig.get("disableDetecting")&&o.a.createElement(HO,{key:"hovering",host:t}),o.a.createElement(B_,{key:"selecting",host:t}),a.engineConfig.get("enableReactiveContainer")&&o.a.createElement(o_,{key:"reactive-container-border",host:t}),o.a.createElement(xj,{key:"insertion",host:t}),o.a.createElement(sj,{key:"resizing",host:t}),t.designer.bemToolsManager.getAllBemTools().map((function(e){var n=e.item;return o.a.createElement(n,{key:e.name,host:t})})))}}]),n}(r.Component);zj=f([a.observer],zj);var Wj=n(99);function $j(e){return($j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yj(r.key),r)}}function qj(e,t,n){return t&&Xj(e.prototype,t),n&&Xj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yj(e){var t=Jj(e,"string");return"symbol"===$j(t)?t:String(t)}function Jj(e,t){if("object"!==$j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==$j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Zj(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qj(e,t)}function Qj(e,t){return(Qj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function eS(e){var t=rS();return function n(){var r=oS(e),o;if(t){var i=oS(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return tS(this,o)}}function tS(e,t){if(t&&("object"===$j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nS(e)}function nS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rS(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function oS(e){return(oS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var iS=function(e){Zj(n,e);var t=eS(n);function n(e){var r;Kj(this,n),(r=t.call(this,e)).host=void 0;var o=r.props,i=o.project,a=o.onMount,u=o.designer;return r.host=i.simulator||new OO(i,u),r.host.setProps(r.props),null==a||a(r.host),r}return qj(n,[{key:"shouldComponentUpdate",value:function e(t){return this.host.setProps(t),!1}},{key:"render",value:function e(){return o.a.createElement("div",{className:"lc-simulator"},o.a.createElement(aS,{host:this.host}))}}]),n}(r.Component),aS=function(e){Zj(n,e);var t=eS(n);function n(){return Kj(this,n),t.apply(this,arguments)}return qj(n,[{key:"render",value:function e(){var t=this.props.host,n="lc-simulator-canvas",r=t.deviceStyle||{},i=r.canvas,a=void 0===i?{}:i,u=r.viewport,c=void 0===u?{}:u;return t.deviceClassName?n+=" ".concat(t.deviceClassName):t.device&&(n+=" lc-simulator-device-".concat(t.device)),o.a.createElement("div",{className:n,style:a},o.a.createElement("div",{ref:function e(n){return t.mountViewport(n)},className:"lc-simulator-canvas-viewport",style:c},o.a.createElement(zj,{host:t}),o.a.createElement(uS,{host:t})))}}]),n}(r.Component);aS=f([a.observer],aS);var uS=function(e){Zj(n,e);var t=eS(n);function n(){var e;Kj(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={disabledEvents:!1},e.dispose=void 0,e}return qj(n,[{key:"componentDidMount",value:function e(){var t=this,n=a.globalContext.get("workspace"),r=n.isActive?n.window.editor:a.globalContext.get("editor"),o=function e(n){t.setState({disabledEvents:n})};r.eventBus.on("designer.builtinSimulator.disabledEvents",o),this.dispose=function(){r.removeListener("designer.builtinSimulator.disabledEvents",o)}}},{key:"componentWillUnmount",value:function e(){var t;null===(t=this.dispose)||void 0===t||t.call(this)}},{key:"render",value:function e(){var t=this.props.host,n=this.state.disabledEvents,r=t.viewport,i=t.designer,a={transform:"scale(".concat(r.scale,")"),height:r.contentHeight,width:r.contentWidth};n&&(a.pointerEvents="none");var u=i.viewName;return o.a.createElement("div",{className:"lc-simulator-content"},o.a.createElement("iframe",{name:"".concat(u,"-SimulatorRenderer"),className:"lc-simulator-content-frame",style:a,ref:function e(n){return t.mountContentFrame(n)}}))}}]),n}(r.Component);uS=f([a.observer],uS);var cS=n(100);function sS(e){return(sS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hS(r.key),r)}}function pS(e,t,n){return t&&fS(e.prototype,t),n&&fS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hS(e){var t=dS(e,"string");return"symbol"===sS(t)?t:String(t)}function dS(e,t){if("object"!==sS(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==sS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function vS(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yS(e,t)}function yS(e,t){return(yS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function mS(e){var t=wS();return function n(){var r=OS(e),o;if(t){var i=OS(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return bS(this,o)}}function bS(e,t){if(t&&("object"===sS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gS(e)}function gS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wS(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function OS(e){return(OS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var _S=function(e){vS(n,e);var t=mS(n);function n(){return lS(this,n),t.apply(this,arguments)}return pS(n,[{key:"render",value:function e(){return React.createElement("div",{id:"engine-loading-wrapper"},React.createElement("img",{width:"154",height:"100",src:"https://img.alicdn.com/tfs/TB1CmVgayERMeJjy0FcXXc7opXa-308-200.gif"}))}}]),n}(r.Component),jS=function(e){vS(n,e);var t=mS(n);function n(){return lS(this,n),t.apply(this,arguments)}return pS(n,[{key:"componentDidMount",value:function e(){var t=this,n,r;this.props.designer.project.onRendererReady((function(){t.forceUpdate()}))}},{key:"render",value:function e(){var t,n=this.props.designer,r=n.project,o=n.projectSimulatorProps,i=n.simulatorComponent||iS,u=a.engineConfig.get("loadingComponent",_S);return React.createElement("div",{className:"lc-project"},React.createElement("div",{className:"lc-simulator-shell"},!(null!=r&&null!==(t=r.simulator)&&void 0!==t&&t.renderer)&&React.createElement(u,null),React.createElement(i,o)))}}]),n}(r.Component);function SS(e){return(SS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ES(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xS(r.key),r)}}function PS(e,t,n){return t&&kS(e.prototype,t),n&&kS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xS(e){var t=NS(e,"string");return"symbol"===SS(t)?t:String(t)}function NS(e,t){if("object"!==SS(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==SS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}jS=f([a.observer],jS);var CS=function(){function e(t){ES(this,e),this.target=void 0,this.doc=void 0,this.target=t,TS(t)&&(this.doc=t.document.documentElement)}return PS(e,[{key:"left",get:function e(){return"scrollX"in this.target?this.target.scrollX:this.target.scrollLeft}},{key:"top",get:function e(){return"scrollY"in this.target?this.target.scrollY:this.target.scrollTop}},{key:"scrollTo",value:function e(t){this.target.scrollTo(t)}},{key:"scrollToXY",value:function e(t,n){this.target.scrollTo(t,n)}},{key:"scrollHeight",get:function e(){return(this.doc||this.target).scrollHeight}},{key:"scrollWidth",get:function e(){return(this.doc||this.target).scrollWidth}}]),e}();function TS(e){return e&&e.document}function RS(e){return Math.sin(e*Math.PI/2)}var AS=30,LS=function(){function e(t){ES(this,e),this.pid=void 0,this.scrollable=void 0,this.scrollable=t}return PS(e,[{key:"scrollTarget",get:function e(){var t=this.scrollable.scrollTarget;return t?(Object(V.E)(t)&&(t=new CS(t),this.scrollable.scrollTarget=t),t):null}},{key:"scrollTo",value:function e(t){var n=this;this.cancel();var r=this.scrollTarget;if(r){var o,i=r.left,a=r.top,u=function e(){n.cancel()};if(i!==t.left&&null!=t.left||a!==t.top){var c=200,s=+new Date,l=function e(){if(o===n.pid){var c=+new Date,l=Math.min(1,(c-s)/200),f=RS(l),p={};null!=t.left&&(p.left=f*(t.left-i)+i),null!=t.top&&(p.top=f*(t.top-a)+a),r.scrollTo(p),l<1?(n.pid=requestAnimationFrame(e),o=n.pid):u()}};this.pid=requestAnimationFrame(l),o=this.pid}else u()}}},{key:"scrolling",value:function e(t){var n=this;this.cancel();var r=this.scrollable,o=r.bounds,i=r.scale,a=void 0===i?1:i,u=this.scrollTarget;if(u&&o){var c=t.globalX,s=t.globalY,l=u.scrollHeight-o.height/a,f=u.scrollWidth-o.width/a,p=u.left,h=u.top,d=0,v=0,y;if(s<o.top+30?v=-Math.min(Math.max(o.top+30-s,10),50)/a:s>o.bottom-30&&(v=Math.min(Math.max(s+30-o.bottom,10),50)/a),c<o.left+30?d=-Math.min(Math.max(o.top+30-s,10),50)/a:c>o.right-30&&(d=Math.min(Math.max(c+30-o.right,10),50)/a),d||v)(function e(){var t=!1;(v>0&&h<l||v<0&&h>0)&&(h+=v,h=Math.min(Math.max(h,0),l),t=!0),(d>0&&p<f||d<0&&p>0)&&(p+=d,p=Math.min(Math.max(p,0),f),t=!0),t&&(u.scrollTo({left:p,top:h}),n.pid=requestAnimationFrame(e))})()}}},{key:"cancel",value:function e(){this.pid&&cancelAnimationFrame(this.pid),this.pid=void 0}}]),e}(),MS;function DS(e){return(DS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function IS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,FS(r.key),r)}}function VS(e,t,n){return t&&BS(e.prototype,t),n&&BS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function FS(e){var t=GS(e,"string");return"symbol"===DS(t)?t:String(t)}function GS(e,t){if("object"!==DS(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==DS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function HS(e){return e&&e.type===F.f.Node}function US(e){return e&&e.type===F.f.NodeData}function zS(e){return e&&e.type!==F.f.NodeData&&e.type!==F.f.Node}function WS(e){return e&&"LocateEvent"===e.type}var $S=4;function KS(e,t){return!!e.shaken||(e.target!==t.target||Math.pow(e.clientY-t.clientY,2)+Math.pow(e.clientX-t.clientX,2)>4)}function XS(e,t){return 0===e.clientX&&0===e.clientY&&t&&(Math.abs(t.clientX-e.clientX)>5||Math.abs(t.clientY-e.clientY)>5)}function qS(e,t){return e.clientY===t.clientY&&e.clientX===t.clientX}function YS(e){e.shaken=!0}function JS(e){var t;return HS(e)&&(null===(t=e.nodes[0])||void 0===t?void 0:t.document.simulator)||null}function ZS(e){var t;return null==e||null===(t=e.type)||void 0===t?void 0:t.startsWith("drag")}var QS=function(){function e(t){IS(this,e),this.designer=void 0,this.sensors=[],this.key=Math.random(),this._activeSensor=void 0,this._dragging=!1,this._canDrop=!1,this.viewName=void 0,this.emitter=Object(a.createModuleEventBus)("Dragon"),this.designer=t,Object(a.makeObservable)(this),this.viewName=t.viewName}return VS(e,[{key:"activeSensor",get:function e(){return this._activeSensor}},{key:"dragging",get:function e(){return this._dragging}},{key:"from",value:function e(t,n){var r=this,o=function e(t){if(3!==t.which&&2!==t.button){var o=n(t);o&&r.boost(o,t)}};return t.addEventListener("mousedown",o),function(){t.removeEventListener("mousedown",o)}}},{key:"boost",value:function e(t,n,r){var o=this,i=this.designer,a=this.getMasterSensors(),u=Jw(n,a),c=!HS(t),s=HS(t)&&t.nodes.some((function(e){return"function"==typeof e.isSlot?e.isSlot():e.isSlot})),l=ZS(n),f;this._dragging=!1;var p=function e(t){var n,r=j(t),o=E(r);if(!o||!o.getNodeInstanceFromElement)return{};var i=o.getNodeInstanceFromElement(t.target);return(null==i||null===(n=i.node)||void 0===n?void 0:n.getRGL())||{}},h=function e(t){27===t.keyCode&&(i.clearLocation(),_())},d=!1,v=function e(t){ZS(t)&&t.dataTransfer?(c||s)&&(t.dataTransfer.dropEffect="copy"):c||(t.altKey||t.ctrlKey?(d=!0,o.setCopyState(!0),ZS(t)&&t.dataTransfer&&(t.dataTransfer.dropEffect="copy")):(d=!1,s||(o.setCopyState(!1),ZS(t)&&t.dataTransfer&&(t.dataTransfer.dropEffect="move"))))},y,m=function e(n){if(v(n),!XS(n,y))if(y&&qS(n,y))y=n;else{y=n;var a=p(n),u=a.isRGL,c=a.rglNode,s=j(n),l=E(s);if(u){var f=t.nodes[0].getDOMNode();if(f&&f.style&&(o.nodeInstPointerEvents=!0,f.style.pointerEvents="none"),o.emitter.emit("rgl.sleeping",!1),r&&r.id===c.id)return i.clearLocation(),o.clearState(),void o.emitter.emit("drag",s);if(o._canDrop=!(null==l||!l.locate(s)),o._canDrop)return o.emitter.emit("rgl.add.placeholder",{rglNode:c,fromRglNode:r,node:s.dragObject.nodes[0],event:n}),i.clearLocation(),o.clearState(),void o.emitter.emit("drag",s)}else o._canDrop=!1,o.emitter.emit("rgl.remove.placeholder"),o.emitter.emit("rgl.sleeping",!0);l?(l.fixEvent(s),l.locate(s)):i.clearLocation(),o.emitter.emit("drag",s)}},b=function e(){o._dragging=!0,YS(n);var t=j(n);c||s?o.setCopyState(!0):E(t),o.setDraggingState(!0),l||u((function(e){e.addEventListener("keydown",h,!1)})),o.emitter.emit("dragstart",t)},g=function e(t){l&&t.preventDefault(),o._dragging?m(t):KS(n,t)&&(b(),m(t))},w=!0,O=function e(t){t.preventDefault(),t.stopPropagation(),w=!0},_=function e(n){if(o.nodeInstPointerEvents){var r=t.nodes[0].getDOMNode();r&&r.style&&(r.style.pointerEvents=""),o.nodeInstPointerEvents=!1}if(n){var a=p(n),c=a.isRGL,s=a.rglNode;if(c&&o._canDrop&&o._dragging){var y=t.nodes[0],m;if(s.id!==y.id)o.emitter.emit("rgl.drop",{rglNode:s,node:y}),i.project.currentDocument.selection.select(y.id)}}var b;if(o.emitter.emit("rgl.remove.placeholder"),n&&ZS(n)&&n.preventDefault(),f&&f.deactiveSensor(),l?w||i.clearLocation():o.setNativeSelection(!0),o.clearState(),o._dragging){o._dragging=!1;try{o.emitter.emit("dragend",{dragObject:t,copy:d})}catch(e){b=e}}if(i.clearLocation(),u((function(t){l?(t.removeEventListener("dragover",g,!0),t.removeEventListener("dragend",e,!0),t.removeEventListener("drop",O,!0)):(t.removeEventListener("mousemove",g,!0),t.removeEventListener("mouseup",e,!0)),t.removeEventListener("mousedown",e,!0),t.removeEventListener("keydown",h,!1),t.removeEventListener("keydown",v,!1),t.removeEventListener("keyup",v,!1)})),b)throw b},j=function e(n){var r,o={type:"LocateEvent",dragObject:t,target:n.target,originalEvent:n},i=null===(r=n.view)||void 0===r?void 0:r.document;if(i&&i!==document){var u,c=f&&pg(f)?f:null;if((c&&c.contentDocument===i||!(u=a.find((function(e){return e.contentDocument===i})))&&c)&&(u=c),u){var s=u.viewport.toGlobalPoint(n);o.globalX=s.clientX,o.globalY=s.clientY,o.canvasX=n.clientX,o.canvasY=n.clientY,o.sensor=u}else o.globalX=n.clientX,o.globalY=n.clientY}else o.globalX=n.clientX,o.globalY=n.clientY;return o},S=JS(t),E=function e(t){var n=o.sensors.concat(a),r=t.sensor&&t.sensor.isEnter(t)?t.sensor:n.find((function(e){return e.sensorAvailable&&e.isEnter(t)}));return r||(f?r=f:t.sensor?r=t.sensor:S&&(r=S)),r!==f&&(f&&f.deactiveSensor(),f=r),r&&(t.sensor=r,r.fixEvent(t)),o._activeSensor=r,r};if(ZS(n)){var k=n.dataTransfer;if(k){k.effectAllowed="all";try{k.setData("application/json","{}")}catch(e){}}b()}else this.setNativeSelection(!1);u((function(e){l?(e.addEventListener("dragover",g,!0),w=!1,e.addEventListener("drop",O,!0),e.addEventListener("dragend",_,!0)):(e.addEventListener("mousemove",g,!0),e.addEventListener("mouseup",_,!0)),e.addEventListener("mousedown",_,!0)})),c||l||u((function(e){e.addEventListener("keydown",v,!1),e.addEventListener("keyup",v,!1)}))}},{key:"getMasterSensors",value:function e(){return Array.from(new Set(this.designer.project.documents.map((function(e){var t;return e.active&&null!==(t=e.simulator)&&void 0!==t&&t.sensorAvailable?e.simulator:null})).filter(Boolean)))}},{key:"getSimulators",value:function e(){return new Set(this.designer.project.documents.map((function(e){return e.simulator})))}},{key:"setNativeSelection",value:function e(t){Object(V.Z)(t),this.getSimulators().forEach((function(e){null==e||e.setNativeSelection(t)}))}},{key:"setDraggingState",value:function e(t){V.o.setDragging(t),this.getSimulators().forEach((function(e){null==e||e.setDraggingState(t)}))}},{key:"setCopyState",value:function e(t){V.o.setCopy(t),this.getSimulators().forEach((function(e){null==e||e.setCopyState(t)}))}},{key:"clearState",value:function e(){V.o.release(),this.getSimulators().forEach((function(e){null==e||e.clearState()}))}},{key:"addSensor",value:function e(t){this.sensors.push(t)}},{key:"removeSensor",value:function e(t){var n=this.sensors.indexOf(t);n>-1&&this.sensors.splice(n,1)}},{key:"onDragstart",value:function e(t){var n=this;return this.emitter.on("dragstart",t),function(){n.emitter.removeListener("dragstart",t)}}},{key:"onDrag",value:function e(t){var n=this;return this.emitter.on("drag",t),function(){n.emitter.removeListener("drag",t)}}},{key:"onDragend",value:function e(t){var n=this;return this.emitter.on("dragend",t),function(){n.emitter.removeListener("dragend",t)}}}]),e}();function eE(e){return(eE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oE(r.key),r)}}function rE(e,t,n){return t&&nE(e.prototype,t),n&&nE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oE(e){var t=iE(e,"string");return"symbol"===eE(t)?t:String(t)}function iE(e,t){if("object"!==eE(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}f([a.obx.ref,m("design:type",Object)],QS.prototype,"_activeSensor",void 0),f([a.obx.ref,m("design:type",Object)],QS.prototype,"_dragging",void 0),f([a.obx.ref,m("design:type",Object)],QS.prototype,"_canDrop",void 0);var aE=function(){function e(){tE(this,e),this.emitter=Object(a.createModuleEventBus)("ActiveTracker"),this._target=void 0}return rE(e,[{key:"track",value:function e(t){var n=t;Object(V.N)(t)&&(n={node:t}),this._target=n,this.emitter.emit("change",n)}},{key:"currentNode",get:function e(){var t;return null===(t=this._target)||void 0===t?void 0:t.node}},{key:"detail",get:function e(){var t;return null===(t=this._target)||void 0===t?void 0:t.detail}},{key:"intance",get:function e(){return this.instance}},{key:"instance",get:function e(){var t;return null===(t=this._target)||void 0===t?void 0:t.instance}},{key:"onChange",value:function e(t){var n=this;return this.emitter.addListener("change",t),function(){n.emitter.removeListener("change",t)}}}]),e}(),uE;function cE(e){return(cE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pE(r.key),r)}}function fE(e,t,n){return t&&lE(e.prototype,t),n&&lE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pE(e){var t=hE(e,"string");return"symbol"===cE(t)?t:String(t)}function hE(e,t){if("object"!==cE(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==cE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}f([a.obx.ref,m("design:type",Object)],aE.prototype,"_target",void 0);var dE="detectingChange",vE=function(){function e(){sE(this,e),this._enable=!0,this.xRayMode=!1,this._current=null,this.emitter=Object(a.createModuleEventBus)("Detecting"),Object(a.makeObservable)(this)}return fE(e,[{key:"enable",get:function e(){return this._enable},set:function e(t){this._enable=t,t||(this._current=null)}},{key:"current",get:function e(){return this._current}},{key:"capture",value:function e(t){this._current!==t&&(this._current=t,this.emitter.emit("detectingChange",this.current))}},{key:"release",value:function e(t){this._current===t&&(this._current=null,this.emitter.emit("detectingChange",this.current))}},{key:"leave",value:function e(t){this.current&&this.current.document===t&&(this._current=null)}},{key:"onDetectingChange",value:function e(t){var n=this;return this.emitter.on("detectingChange",t),function(){n.emitter.off("detectingChange",t)}}}]),e}();function yE(e){return(yE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wE(r.key),r)}}function gE(e,t,n){return t&&bE(e.prototype,t),n&&bE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wE(e){var t=OE(e,"string");return"symbol"===yE(t)?t:String(t)}function OE(e,t){if("object"!==yE(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==yE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _E(e){return e&&e.target&&e.detail}function jE(e){return e&&e.type===F.k.Children}function SE(e,t){if(NE(e))return!0;var n=(t||TE(e)).getComputedStyle(e),r=n.getPropertyValue("display");if(/flex$/.test(r)){var o=n.getPropertyValue("flex-direction")||"row";if("row"===o||"row-reverse"===o)return!0}return!!/grid$/.test(r)}function EE(e,t){if(NE(e))return!0;var n=(t||TE(e)).getComputedStyle(e);return/^inline/.test(n.getPropertyValue("display"))||/^(left|right)$/.test(n.getPropertyValue("float"))}function kE(e){if(!e||e.computed)return null;var t=e.elements;return t&&t.length>0?t[0]:null}function PE(e){var t=kE(e);return!!t&&SE(t)}function xE(e){var t=kE(e);return!!t&&(EE(t)||!!t.parentElement&&SE(t.parentElement))}function NE(e){return e.nodeType===Node.TEXT_NODE}function CE(e){return e.nodeType===Node.DOCUMENT_NODE}function TE(e){return(CE(e)?e:e.ownerDocument).defaultView}f([a.obx.ref,m("design:type",Object)],vE.prototype,"_enable",void 0),f([a.obx.ref,m("design:type",Object)],vE.prototype,"xRayMode",void 0),f([a.obx.ref,m("design:type",Object)],vE.prototype,"_current",void 0);var RE=function(){function e(t){var n=t.target,r=t.detail,o=t.source,i=t.event;mE(this,e),this.target=void 0,this.detail=void 0,this.event=void 0,this.source=void 0,this.target=n,this.detail=r,this.source=o,this.event=i}return gE(e,[{key:"document",get:function e(){return this.target.document}},{key:"clone",value:function t(n){return new e({target:this.target,detail:this.detail,source:this.source,event:n})}},{key:"getContainer",value:function e(){return this.target}},{key:"getInsertion",value:function e(){var t,n;return this.detail?"Children"===this.detail.type?this.detail.index<=0?null:this.target.children.get(this.detail.index-1):null===(t=this.detail)||void 0===t||null===(n=t.near)||void 0===n?void 0:n.node:null}}]),e}(),AE=n(16),LE=n.n(AE);function ME(e){return(ME="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VE(r.key),r)}}function BE(e,t,n){return t&&IE(e.prototype,t),n&&IE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function VE(e){var t=FE(e,"string");return"symbol"===ME(t)?t:String(t)}function FE(e,t){if("object"!==ME(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ME(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var GE=function(){function e(t){var n=this;DE(this,e),this.nodeInstance=void 0,this.id=Object(V.cb)("oobx"),this.lastOffsetLeft=void 0,this.lastOffsetTop=void 0,this.lastOffsetHeight=void 0,this.lastOffsetWidth=void 0,this._height=0,this._width=0,this._left=0,this._top=0,this._right=0,this._bottom=0,this.hasOffset=!1,this.pid=void 0,this.viewport=void 0,this.isRoot=void 0,this.node=void 0,this.compute=void 0,this.nodeInstance=t;var r=t.node,o=t.instance;this.node=r;var i=r.document,u=i.simulator,c=i.focusNode;if(this.isRoot=r.contains(c),this.viewport=u.viewport,Object(a.makeObservable)(this),this.isRoot)this.hasOffset=!0;else if(o){var s,l=function e(){if(s===n.pid){var t=u.computeComponentInstanceRect(o,r.componentMeta.rootSelector);t?n.viewport.scrolling&&n.hasOffset||(n._height=t.height,n._width=t.width,n._left=t.left,n._top=t.top,n._right=t.right,n._bottom=t.bottom,n.hasOffset=!0):n.hasOffset=!1,n.pid=LE()(e),s=n.pid}};this.compute=l,l(),this.pid=LE()(l),s=this.pid}}return BE(e,[{key:"height",get:function e(){return this.isRoot?this.viewport.height:this._height*this.scale}},{key:"width",get:function e(){return this.isRoot?this.viewport.width:this._width*this.scale}},{key:"top",get:function e(){return this.isRoot?0:this._top*this.scale}},{key:"left",get:function e(){return this.isRoot?0:this._left*this.scale}},{key:"bottom",get:function e(){return this.isRoot?this.viewport.height:this._bottom*this.scale}},{key:"right",get:function e(){return this.isRoot?this.viewport.width:this._right*this.scale}},{key:"offsetLeft",get:function e(){return this.isRoot?this.viewport.scrollX*this.scale:(this.viewport.scrolling&&null!=this.lastOffsetLeft||(this.lastOffsetLeft=this.left+this.viewport.scrollX*this.scale),this.lastOffsetLeft)}},{key:"offsetTop",get:function e(){return this.isRoot?this.viewport.scrollY*this.scale:(this.viewport.scrolling&&null!=this.lastOffsetTop||(this.lastOffsetTop=this.top+this.viewport.scrollY*this.scale),this.lastOffsetTop)}},{key:"offsetHeight",get:function e(){return this.viewport.scrolling&&null!=this.lastOffsetHeight||(this.lastOffsetHeight=this.isRoot?this.viewport.height:this.height),this.lastOffsetHeight}},{key:"offsetWidth",get:function e(){return this.viewport.scrolling&&null!=this.lastOffsetWidth||(this.lastOffsetWidth=this.isRoot?this.viewport.width:this.width),this.lastOffsetWidth}},{key:"scale",get:function e(){return this.viewport.scale}},{key:"purge",value:function e(){this.pid&&Object(AE.cancelIdleCallback)(this.pid),this.pid=void 0}},{key:"isPurged",value:function e(){return null==this.pid}}]),e}();function HE(e){return e.instance?new GE(e):null}function UE(e){return(UE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KE(r.key),r)}}function $E(e,t,n){return t&&WE(e.prototype,t),n&&WE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function KE(e){var t=XE(e,"string");return"symbol"===UE(t)?t:String(t)}function XE(e,t){if("object"!==UE(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==UE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function qE(e,t){return ek(e)||QE(e,t)||JE(e,t)||YE()}function YE(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function JE(e,t){if(e){if("string"==typeof e)return ZE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ZE(e,t):void 0}}function ZE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function QE(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function ek(e){if(Array.isArray(e))return e}function tk(e){return e&&(e.Hotter||e.type&&e.type.Hotter)||[]}function nk(e){return e&&(e.transducer||e.Transducer||e.type&&(e.type.transducer||e.type.Transducer))||null}function rk(e,t,n){if(!e&&Array.isArray(t)){var r=qE(t,2),o,i;e={toHot:r[0],toNative:r[1]}}return{toHot:(e&&e.toHot||function(e){return e}).bind(n),toNative:(e&&e.toNative||function(e){return e}).bind(n)}}f([a.obx,m("design:type",Object)],GE.prototype,"_height",void 0),f([a.obx,m("design:type",Object)],GE.prototype,"_width",void 0),f([a.obx,m("design:type",Object)],GE.prototype,"_left",void 0),f([a.obx,m("design:type",Object)],GE.prototype,"_top",void 0),f([a.obx,m("design:type",Object)],GE.prototype,"_right",void 0),f([a.obx,m("design:type",Object)],GE.prototype,"_bottom",void 0),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],GE.prototype,"height",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],GE.prototype,"width",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],GE.prototype,"top",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],GE.prototype,"left",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],GE.prototype,"bottom",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],GE.prototype,"right",null),f([a.obx,m("design:type",Object)],GE.prototype,"hasOffset",void 0),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],GE.prototype,"offsetLeft",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],GE.prototype,"offsetTop",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],GE.prototype,"offsetHeight",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],GE.prototype,"offsetWidth",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],GE.prototype,"scale",null);var ok=function(){function e(t,n){zE(this,e),this.setterTransducer=void 0,this.context=void 0;var o=n.setter;if(Array.isArray(o))o=o[0];else if(Object(r.isValidElement)(o)&&"MixedSetter"===o.type.displayName){var i,a;o=null===(i=o.props)||void 0===i||null===(a=i.setters)||void 0===a?void 0:a[0]}else if("object"===UE(o)&&"MixedSetter"===o.componentName){var u,c;o=Array.isArray(null===(u=o)||void 0===u||null===(c=u.props)||void 0===c?void 0:c.setters)&&o.props.setters[0]}var s=!0;if(Object(V.U)(o)){var l=o,f,p;o=l.componentName,s=!1!==l.isDynamic}if("string"==typeof o){var h=t.setters.getSetter(o)||{},d=h.component,v=h.isDynamic;o=d,s=void 0===v?s:!1!==v}if(Object(V.D)(o)&&s)try{o=o.call(t,t)}catch(e){console.error(e)}this.setterTransducer=rk(nk(o),tk(o),t),this.context=t}return $E(e,[{key:"toHot",value:function e(t){return this.setterTransducer.toHot(t)}},{key:"toNative",value:function e(t){return this.setterTransducer.toNative(t)}}]),e}();function ik(e){return(ik="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ak(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sk(r.key),r)}}function ck(e,t,n){return t&&uk(e.prototype,t),n&&uk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sk(e){var t=lk(e,"string");return"symbol"===ik(t)?t:String(t)}function lk(e,t){if("object"!==ik(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ik(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var fk=function(){function e(t,n,r){if(ak(this,e),this.parent=void 0,this.editor=void 0,this.isSameComponent=void 0,this.isMultiple=void 0,this.isSingle=void 0,this.setters=void 0,this.nodes=void 0,this.componentMeta=void 0,this.designer=void 0,this.top=void 0,this.isGroup=void 0,this.type=void 0,this.id=Object(V.cb)("entry"),this.emitter=Object(a.createModuleEventBus)("SettingPropEntry"),this._name=void 0,this.extraProps={},this.parent=t,Object(a.makeObservable)(this),null==r){var o="string"==typeof n?n.slice(0,1):"";this.type="#"===o?"group":"field"}else this.type=r;this._name=n,this.isGroup="group"===this.type,this.editor=t.editor,this.nodes=t.nodes,this.setters=t.setters,this.componentMeta=t.componentMeta,this.isSameComponent=t.isSameComponent,this.isMultiple=t.isMultiple,this.isSingle=t.isSingle,this.designer=t.designer,this.top=t.top}return ck(e,[{key:"name",get:function e(){return this._name}},{key:"path",get:function e(){var t=this.parent.path.slice();return"field"===this.type&&t.push(this.name),t}},{key:"getId",value:function e(){return this.id}},{key:"setKey",value:function e(t){if("field"===this.type){for(var n=this.path.join("."),r=this.nodes.length;r-- >0;)this.nodes[r].getProp(n,!0).key=t;this._name=t}}},{key:"getKey",value:function e(){return this._name}},{key:"remove",value:function e(){if("field"===this.type)for(var t=this.path.join("."),n=this.nodes.length;n-- >0;){var r;null===(r=this.nodes[n].getProp(t))||void 0===r||r.remove()}}},{key:"valueState",get:function e(){var t=this;return Object(a.runInAction)((function(){if("field"!==t.type){var e=t.extraProps.getValue;return e?void 0===e(t.internalToShellPropEntry(),void 0)?0:1:0}if(1===t.nodes.length)return 2;for(var n=t.path.join("."),r=t.nodes[0].getProp(n),o=t.nodes.length,i=2;--o>0;){var a=t.nodes[o].getProp(n,!1),u=r.compare(a);if(u>1)return-1;1===u&&(i=1)}return 2===i&&r.isUnset()?0:i}))}},{key:"getValue",value:function e(){var t;"field"===this.type&&(t=this.parent.getPropValue(this.name));var e=this.extraProps.getValue;try{return e?e(this.internalToShellPropEntry(),t):t}catch(e){return console.warn(e),t}}},{key:"setValue",value:function e(t,n,r,o){var i=this.getValue();"field"===this.type&&this.parent.setPropValue(this.name,t);var e=this.extraProps.setValue;if(e&&(null==o||!o.disableMutator))try{e(this.internalToShellPropEntry(),t)}catch(e){console.warn(e)}this.notifyValueChange(i,t),null!=o&&o.fromSetHotValue||this.valueChange(o)}},{key:"clearValue",value:function e(){"field"===this.type&&this.parent.clearPropValue(this.name);var t=this.extraProps.setValue;if(t)try{t(this.internalToShellPropEntry(),void 0)}catch(e){console.warn(e)}}},{key:"get",value:function e(t){var n=this.path.concat(t).join(".");return this.top.get(n)}},{key:"setPropValue",value:function e(t,n){var r=this.path.concat(t).join(".");this.top.setPropValue(r,n)}},{key:"clearPropValue",value:function e(t){var n=this.path.concat(t).join(".");this.top.clearPropValue(n)}},{key:"getPropValue",value:function e(t){return this.top.getPropValue(this.path.concat(t).join("."))}},{key:"getExtraPropValue",value:function e(t){return this.top.getExtraPropValue(t)}},{key:"setExtraPropValue",value:function e(t,n){this.top.setExtraPropValue(t,n)}},{key:"getNode",value:function e(){return this.nodes[0]}},{key:"getName",value:function e(){return this.path.join(".")}},{key:"getProps",value:function e(){return this.top}},{key:"props",get:function e(){return this.top}},{key:"onValueChange",value:function e(t){var n=this;return this.emitter.on("valuechange",t),function(){n.emitter.removeListener("valuechange",t)}}},{key:"valueChange",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.emitter.emit("valuechange",t),this.parent&&Object(V.V)(this.parent)&&this.parent.valueChange(t)}},{key:"notifyValueChange",value:function e(t,n){this.editor.eventBus.emit(F.e.Node.Prop.Change,{node:this.getNode(),prop:this,oldValue:t,newValue:n})}},{key:"getDefaultValue",value:function e(){return this.extraProps.defaultValue}},{key:"isIgnore",value:function e(){return!1}},{key:"getVariableValue",value:function e(){var t=this.getValue();return Object(V.H)(t)?t.value:""}},{key:"setVariableValue",value:function e(t){var n=this.getValue();this.setValue({type:"JSExpression",value:t,mock:Object(V.H)(n)?n.mock:n})}},{key:"setUseVariable",value:function e(t){if(this.isUseVariable()!==t){var n=this.getValue();this.isUseVariable()?this.setValue(n.mock):this.setValue({type:"JSExpression",value:"",mock:n})}}},{key:"isUseVariable",value:function e(){return Object(V.H)(this.getValue())}},{key:"useVariable",get:function e(){return this.isUseVariable()}},{key:"getMockOrValue",value:function e(){var t=this.getValue();return Object(V.H)(t)?t.mock:t}},{key:"internalToShellPropEntry",value:function e(){return this.designer.shellModelFactory.createSettingPropEntry(this)}}]),e}();function pk(e){return(pk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}f([a.obx.ref,m("design:type",Object)],fk.prototype,"_name",void 0),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],fk.prototype,"path",null),f([a.computed,m("design:type",Number),m("design:paramtypes",[])],fk.prototype,"valueState",null);var hk=["title","items","setter","extraProps"],dk,vk,yk;function mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mk(Object(n),!0).forEach((function(t){gk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gk(e,t,n){return(t=Ek(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wk(e,t){if(null==e)return{};var n=Ok(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ok(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function _k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ek(r.key),r)}}function Sk(e,t,n){return t&&jk(e.prototype,t),n&&jk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ek(e){var t=kk(e,"string");return"symbol"===pk(t)?t:String(t)}function kk(e,t){if("object"!==pk(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==pk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Pk(){return(Pk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function e(t,n,r){var o=xk(t,n);if(o){var i=Object.getOwnPropertyDescriptor(o,n);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function xk(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Mk(e)););return e}function Nk(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ck(e,t)}function Ck(e,t){return(Ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function Tk(e){var t=Lk();return function n(){var r=Mk(e),o;if(t){var i=Mk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Rk(this,o)}}function Rk(e,t){if(t&&("object"===pk(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ak(e)}function Ak(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lk(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Mk(e){return(Mk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Dk(e,t){for(var n=e,r=[t.name];n!==e.top;)n instanceof Ik&&"group"!==n.type&&r.unshift(n.name),n=n.parent;return r.join(".")}var Ik=function(e){Nk(n,e);var t=Tk(n);function n(e,r,o){var i;_k(this,n),(i=t.call(this,e,r.name,r.type)).isSettingField=!0,i.isRequired=void 0,i.transducer=void 0,i._config=void 0,i.hotValue=void 0,i.parent=void 0,i.extraProps=void 0,i._title=void 0,i._setter=void 0,i._expanded=!0,i._items=[],Object(a.makeObservable)(Ak(i));var u=r.title,c=r.items,s=r.setter,l=r.extraProps,f=wk(r,hk);return i.parent=e,i._config=r,i._title=u,i._setter=s,i.extraProps=bk(bk({},f),l),i.isRequired=r.isRequired||(null==s?void 0:s.isRequired),i._expanded=!(null!=l&&l.defaultCollapsed),c&&c.length>0&&i.initItems(c,o),"group"!==i.type&&o&&r.name&&o(Dk(e,r),Ak(i)),i.transducer=new ok(Ak(i),{setter:s}),i}return Sk(n,[{key:"title",get:function e(){return this._title||("number"==typeof this.name?"".concat(Object(a.intl)("Item")," ").concat(this.name):this.name)}},{key:"setter",get:function e(){var t=this;return this._setter?Object(V.D)(this._setter)?Object(a.untracked)((function(){var e=t.internalToShellPropEntry();return t._setter.call(e,e)})):this._setter:null}},{key:"expanded",get:function e(){return this._expanded}},{key:"setExpanded",value:function e(t){this._expanded=t}},{key:"items",get:function e(){return this._items}},{key:"config",get:function e(){return this._config}},{key:"initItems",value:function e(t,r){var o=this;this._items=t.map((function(e){return Object(V.y)(e)?e:new n(o,e,r)}))}},{key:"disposeItems",value:function e(){this._items.forEach((function(e){return Bk(e)&&e.purge()})),this._items=[]}},{key:"createField",value:function e(t){return new n(this,t)}},{key:"purge",value:function e(){this.disposeItems()}},{key:"getConfig",value:function e(t){return t?this.config[t]:this._config}},{key:"getItems",value:function e(t){return this._items.filter((function(e){return!t||t(e)}))}},{key:"setValue",value:function e(t,r,o,i){r?this.setHotValue(t,i):Pk(Mk(n.prototype),"setValue",this).call(this,t,!1,!1,i)}},{key:"getHotValue",value:function e(){if(this.hotValue)return this.hotValue;var t=Object(V.j)(this.getMockOrValue());return null==t&&(t=this.extraProps.defaultValue),this.transducer.toHot(t)}},{key:"setMiniAppDataSourceValue",value:function e(t,n){this.hotValue=t;var r=this.transducer.toNative(t);this.setValue(r,!1,!1,n),Array.isArray(t)&&t[0]&&t[0].__sid__||this.valueChange()}},{key:"setHotValue",value:function e(t,n){this.hotValue=t;var r=this.transducer.toNative(t);if(n?n.fromSetHotValue=!0:n={fromSetHotValue:!0},this.isUseVariable()){var o=this.getValue();this.setValue({type:"JSExpression",value:o.value,mock:r},!1,!1,n)}else this.setValue(r,!1,!1,n);Array.isArray(t)&&t[0]&&t[0].__sid__||this.valueChange(n)}},{key:"onEffect",value:function e(t){return this.designer.autorun(t,!0)}}]),n}(fk);function Bk(e){return e&&e.isSettingField}function Vk(e){return(Vk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Uk(r.key),r)}}function Hk(e,t,n){return t&&Gk(e.prototype,t),n&&Gk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uk(e){var t=zk(e,"string");return"symbol"===Vk(t)?t:String(t)}function zk(e,t){if("object"!==Vk(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Vk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Wk(e){return e.map((function(e){return e.id})).sort().join(",")}f([a.obx.ref,m("design:type",Object)],Ik.prototype,"_expanded",void 0),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],Ik.prototype,"setter",null),f([a.action,m("design:type",Function),m("design:paramtypes",[Object,Boolean,Boolean,"function"==typeof(vk=void 0!==F.IPublicTypeSetValueOptions&&F.IPublicTypeSetValueOptions)?vk:Object]),m("design:returntype",void 0)],Ik.prototype,"setValue",null),f([a.action,m("design:type",Function),m("design:paramtypes",[Object,Object]),m("design:returntype",void 0)],Ik.prototype,"setMiniAppDataSourceValue",null),f([a.action,m("design:type",Function),m("design:paramtypes",[Object,"function"==typeof(yk=void 0!==F.IPublicTypeSetValueOptions&&F.IPublicTypeSetValueOptions)?yk:Object]),m("design:returntype",void 0)],Ik.prototype,"setHotValue",null);var $k=function(){function e(t,n){if(Fk(this,e),this.editor=void 0,this.nodes=void 0,this.emitter=Object(a.createModuleEventBus)("SettingTopEntry"),this._items=[],this._componentMeta=null,this._isSame=!0,this._settingFieldMap={},this.path=[],this.top=this,this.parent=this,this.id=void 0,this.first=void 0,this.designer=void 0,this.setters=void 0,this.disposeFunctions=[],this.editor=t,this.nodes=n,!Array.isArray(n)||n.length<1)throw new ReferenceError("nodes should not be empty");this.id=Wk(n),this.first=n[0],this.designer=this.first.document.designer,this.setters=t.get("setters"),this.setupComponentMeta(),this.setupItems(),this.disposeFunctions.push(this.setupEvents())}return Hk(e,[{key:"componentMeta",get:function e(){return this._componentMeta}},{key:"items",get:function e(){return this._items}},{key:"isSameComponent",get:function e(){return this._isSame}},{key:"isSingle",get:function e(){return 1===this.nodes.length}},{key:"isLocked",get:function e(){return this.first.isLocked}},{key:"isMultiple",get:function e(){return this.nodes.length>1}},{key:"setupComponentMeta",value:function e(){for(var t,n=this.first.componentMeta,r=this.nodes.length,o=!0,i=1;i<r;i++){var a;if(this.nodes[i].componentMeta!==n){o=!1;break}}o?(this._isSame=!0,this._componentMeta=n):(this._isSame=!1,this._componentMeta=null)}},{key:"setupItems",value:function e(){var t=this;if(this.componentMeta){var n={},r=function e(t,r){n[t]=r};this._items=this.componentMeta.configure.map((function(e){return Object(V.y)(e)?e:new Ik(t,e,r)})),this._settingFieldMap=n}}},{key:"setupEvents",value:function e(){var t,n=this;return null===(t=this.componentMeta)||void 0===t?void 0:t.onMetadataChange((function(){n.setupItems()}))}},{key:"getValue",value:function e(){var t;return null===(t=this.first)||void 0===t?void 0:t.propsData}},{key:"setValue",value:function e(t){this.setProps(t)}},{key:"get",value:function e(t){return t?this._settingFieldMap[t]||new fk(this,t):null}},{key:"setPropValue",value:function e(t,n){this.nodes.forEach((function(e){e.setPropValue(t,n)}))}},{key:"clearPropValue",value:function e(t){this.nodes.forEach((function(e){e.clearPropValue(t)}))}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.first.getProp(t,!0))||void 0===n?void 0:n.getValue()}},{key:"getExtraPropValue",value:function e(t){var n;return null===(n=this.first.getExtraProp(t,!1))||void 0===n?void 0:n.getValue()}},{key:"setExtraPropValue",value:function e(t,n){this.nodes.forEach((function(e){var r;null===(r=e.getExtraProp(t,!0))||void 0===r||r.setValue(n)}))}},{key:"setProps",value:function e(t){this.nodes.forEach((function(e){e.setProps(t)}))}},{key:"mergeProps",value:function e(t){this.nodes.forEach((function(e){e.mergeProps(t)}))}},{key:"disposeItems",value:function e(){this._items.forEach((function(e){return Kk(e)&&e.purge()})),this._items=[]}},{key:"purge",value:function e(){this.disposeItems(),this._settingFieldMap={},this.emitter.removeAllListeners(),this.disposeFunctions.forEach((function(e){return e()})),this.disposeFunctions=[]}},{key:"getProp",value:function e(t){return this.get(t)}},{key:"getStatus",value:function e(){}},{key:"setStatus",value:function e(){}},{key:"getChildren",value:function e(){}},{key:"getDOMNode",value:function e(){}},{key:"getId",value:function e(){return this.id}},{key:"getPage",value:function e(){return this.first.document}},{key:"node",get:function e(){return this.getNode()}},{key:"getNode",value:function e(){return this.nodes[0]}}]),e}();function Kk(e){return e&&e.purge}function Xk(e,t,n){if(!e)throw new Error("[designer] Invariant failed: ".concat(t).concat(n?" in '".concat(n,"'"):""))}function qk(e){return(qk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qk(r.key),r)}}function Zk(e,t,n){return t&&Jk(e.prototype,t),n&&Jk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qk(e){var t=eP(e,"string");return"symbol"===qk(t)?t:String(t)}function eP(e,t){if("object"!==qk(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==qk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}f([a.computed,m("design:type",Function),m("design:paramtypes",[]),m("design:returntype",Object)],$k.prototype,"getValue",null);var tP=function(){function e(t){Yk(this,e),this.designer=void 0,this.toolsContainer=[],this.designer=t}return Zk(e,[{key:"addBemTools",value:function e(t){var n;Xk(!this.toolsContainer.find((function(e){return e.name===t.name})),"".concat(t.name," already exists")),this.toolsContainer.push(t)}},{key:"removeBemTools",value:function e(t){var n=this.toolsContainer.findIndex((function(e){return e.name===t}));-1!==n&&this.toolsContainer.splice(n,1)}},{key:"getAllBemTools",value:function e(){return this.toolsContainer}}]),e}();function nP(e){return(nP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rP(Object(n),!0).forEach((function(t){iP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iP(e,t,n){return(t=aP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aP(e){var t=uP(e,"string");return"symbol"===nP(t)?t:String(t)}function uP(e,t){if("object"!==nP(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==nP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function cP(e){var t=e.devMode;return oP(oP({},e),{},{devMode:null==t?void 0:t.replace(/(low|pro)code/,"$1Code")})}function sP(e){var t=e.configure,n=e.componentName,r=t.component,o=void 0===r?{}:r,i;o.nestingRule||((i=/^(.+)\.Group$/.exec(n))?o.nestingRule={childWhitelist:["".concat(i[1])]}:(i=/^(.+)\.Node$/.exec(n))?o.nestingRule={parentWhitelist:["".concat(i[1]),n]}:(i=/^(.+)\.(Item|Node|Option)$/.exec(n))&&(o.nestingRule={parentWhitelist:["".concat(i[1])]}));return oP(oP({},e),{},{configure:oP(oP({},t),{},{component:o})})}function lP(e){return(lP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fP(Object(n),!0).forEach((function(t){hP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hP(e,t,n){return(t=mP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mP(r.key),r)}}function yP(e,t,n){return t&&vP(e.prototype,t),n&&vP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function mP(e){var t=bP(e,"string");return"symbol"===lP(t)?t:String(t)}function bP(e,t){if("object"!==lP(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==lP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var gP=function(){function e(){dP(this,e),this.actions=[{name:"remove",content:{icon:Tb,title:ut("remove"),action:function e(t){t.remove()}},important:!0},{name:"hide",content:{icon:Nb,title:ut("hide"),action:function e(t){t.setVisible(!1)}},condition:function e(t){return t.componentMeta.isModal},important:!0},{name:"copy",content:{icon:Ib,title:ut("copy"),action:function e(t){var n=t.document,r=t.parent,o=t.index;if(r){var i=n.insertNode(r,t,o+1,!0);i.select();var a=t.getRGL(),u=a.isRGL,c=a.rglNode;if(u){var s=c.getPropValue("layout")||[],l=s.filter((function(e){return e.i===t.getPropValue("fieldId")}));l&&l[0]&&(s.push(pP(pP({},l[0]),{},{i:i.getPropValue("fieldId")})),c.setPropValue("layout",s),setTimeout((function(){var e;return null===(e=i.document.simulator)||void 0===e?void 0:e.scrollToNode(i)}),10))}}}},important:!0},{name:"lock",content:{icon:Pb,title:ut("lock"),action:function e(t){t.lock()}},condition:function e(t){return a.engineConfig.get("enableCanvasLock",!1)&&t.isContainer()&&!t.isLocked},important:!0},{name:"unlock",content:{icon:Ub,title:ut("unlock"),action:function e(t){t.lock(!1)}},condition:function e(t){return a.engineConfig.get("enableCanvasLock",!1)&&t.isContainer()&&t.isLocked},important:!0}],this.metadataTransducers=[],this.registerMetadataTransducer(cP,2,"legacy-issues"),this.registerMetadataTransducer(sP,100,"component-defaults")}return yP(e,[{key:"removeBuiltinComponentAction",value:function e(t){var n=this.actions.findIndex((function(e){return e.name===t}));n>-1&&this.actions.splice(n,1)}},{key:"addBuiltinComponentAction",value:function e(t){this.actions.push(t)}},{key:"modifyBuiltinComponentAction",value:function e(t,n){var r=this.actions.find((function(e){return e.name===t}));r&&n(r)}},{key:"registerMetadataTransducer",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2?arguments[2]:void 0;t.level=n,t.id=r;var o=this.metadataTransducers.findIndex((function(e){return null!=e.level&&e.level>n}));o<0?this.metadataTransducers.push(t):this.metadataTransducers.splice(o,0,t)}},{key:"getRegisteredMetadataTransducers",value:function e(){return this.metadataTransducers}}]),e}(),wP,OP;function _P(e){return(_P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jP(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */jP=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(k([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==_P(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=_(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function SP(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function EP(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){SP(i,r,o,a,u,"next",e)}function u(e){SP(i,r,o,a,u,"throw",e)}a(void 0)}))}}function kP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kP(Object(n),!0).forEach((function(t){xP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xP(e,t,n){return(t=BP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NP(e){return AP(e)||RP(e)||TP(e)||CP()}function CP(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function TP(e,t){if(e){if("string"==typeof e)return LP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?LP(e,t):void 0}}function RP(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function AP(e){if(Array.isArray(e))return LP(e)}function LP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,BP(r.key),r)}}function IP(e,t,n){return t&&DP(e.prototype,t),n&&DP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function BP(e){var t=VP(e,"string");return"symbol"===_P(t)?t:String(t)}function VP(e,t){if("object"!==_P(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var FP=new V.e({level:"warn",bizName:"designer"}),GP=function(){function e(t){var n=this;MP(this,e),this.dragon=void 0,this.viewName=void 0,this.componentActions=new gP,this.activeTracker=new aE,this.detecting=new vE,this.project=void 0,this.editor=void 0,this.bemToolsManager=new tP(this),this.shellModelFactory=void 0,this._dropLocation=void 0,this.propsReducers=new Map,this._lostComponentMetasMap=new Map,this.props=void 0,this.oobxList=[],this._componentMetasMap=new Map,this._simulatorComponent=void 0,this._simulatorProps=void 0,this._suspensed=!1,this.setupSelection=function(){var e,t;t&&(t(),t=void 0);var r=n.currentSelection;if(r&&0===r.selected.length&&"live"===(null===(e=n.simulatorProps)||void 0===e?void 0:e.designMode)){var o=n.currentDocument.getRoot().getChildren().children;o.length>0&&r.select(o[0].id)}n.postEvent("selection.change",r),r&&(t=r.onSelectionChange((function(){n.postEvent("selection.change",r)})))},Object(a.makeObservable)(this);var r=t.editor,o=t.viewName,i=t.shellModelFactory,u;this.editor=r,this.viewName=o,this.shellModelFactory=i,this.setProps(t),this.project=new _g(this,t.defaultSchema,o),this.dragon=new QS(this),this.dragon.onDragstart((function(e){var t;n.detecting.enable=!1;var r=e.dragObject,o,i;Object(V.C)(r)?1===r.nodes.length&&(r.nodes[0].parent?r.nodes[0].select():null===(o=n.currentSelection)||void 0===o||o.clear()):null===(i=n.currentSelection)||void 0===i||i.clear();null!==(t=n.props)&&void 0!==t&&t.onDragstart&&n.props.onDragstart(e),n.postEvent("dragstart",e)})),this.dragon.onDrag((function(e){var t;null!==(t=n.props)&&void 0!==t&&t.onDrag&&n.props.onDrag(e),n.postEvent("drag",e)})),this.dragon.onDragend((function(e){var t,r=e.dragObject,o=e.copy;FP.debug("onDragend: dragObject ",r," copy ",o);var i=n._dropLocation;if(i&&Object(V.K)(i.detail)&&!1!==i.detail.valid){var a;if(Object(V.C)(r))a=Am(i.target,NP(r.nodes),i.detail.index,o);else if(Object(V.B)(r)){var u=Array.isArray(r.data)?r.data:[r.data],c;if(u.find((function(e){return!Object(V.O)(e)})))return;a=Am(i.target,u,i.detail.index)}a&&(i.document.selection.selectAll(a.map((function(e){return e.id}))),setTimeout((function(){return n.activeTracker.track(a[0])}),10))}null!==(t=n.props)&&void 0!==t&&t.onDragend&&n.props.onDragend(e,i),n.postEvent("dragend",e,i),n.detecting.enable=!0})),this.activeTracker.onChange((function(e){var t,n=e.node,r=e.detail;null===(t=n.document.simulator)||void 0===t||t.scrollToNode(n,r)}));var c=function e(){if(u&&(u(),u=void 0),n.postEvent("history.change",n.currentHistory),n.currentHistory){var t=n.currentHistory;u=t.onStateChange((function(){n.postEvent("history.change",t)}))}};this.project.onCurrentDocumentChange((function(){n.postEvent("current-document.change",n.currentDocument),n.postEvent("selection.change",n.currentSelection),n.postEvent("history.change",n.currentHistory),n.setupSelection(),c()})),this.postEvent("init",this),this.setupSelection(),c()}return IP(e,[{key:"currentDocument",get:function e(){return this.project.currentDocument}},{key:"currentHistory",get:function e(){var t;return null===(t=this.currentDocument)||void 0===t?void 0:t.history}},{key:"currentSelection",get:function e(){var t;return null===(t=this.currentDocument)||void 0===t?void 0:t.selection}},{key:"postEvent",value:function e(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this.editor.eventBus).emit.apply(n,["designer.".concat(t)].concat(o))}},{key:"dropLocation",get:function e(){return this._dropLocation}},{key:"createLocation",value:function e(t){var n=new RE(t);return this._dropLocation&&this._dropLocation.document!==n.document&&(this._dropLocation.document.dropLocation=null),this._dropLocation=n,this.postEvent("dropLocation.change",n),n.document.dropLocation=n,this.activeTracker.track({node:n.target,detail:n.detail}),n}},{key:"clearLocation",value:function e(){this._dropLocation&&(this._dropLocation.document.dropLocation=null),this.postEvent("dropLocation.change",void 0),this._dropLocation=void 0}},{key:"createScroller",value:function e(t){return new LS(t)}},{key:"createOffsetObserver",value:function e(t){var n=HE(t);return this.clearOobxList(),n&&this.oobxList.push(n),n}},{key:"clearOobxList",value:function e(t){var n=this.oobxList.length;if(n>20||t)for(;n-- >0;)this.oobxList[n].isPurged()&&this.oobxList.splice(n,1)}},{key:"touchOffsetObserver",value:function e(){this.clearOobxList(!0),this.oobxList.forEach((function(e){return e.compute()}))}},{key:"createSettingEntry",value:function e(t){return new $k(this.editor,t)}},{key:"getSuitableInsertion",value:function e(t){var n=this.project.currentDocument;if(!n)return null;if(Array.isArray(t)&&Object(V.O)(t[0])&&this.getComponentMeta(t[0].componentName).isModal)return{target:n.rootNode};var r=n.focusNode,o,i=n.selection.getNodes().find((function(e){return r.contains(e)})),a,u;return i&&i!==r?i.componentMeta.isContainer?a=i:(a=i.parent,u=i.index+1):a=r,a&&t&&!a.componentMeta.checkNestingDown(a,t)?null:{target:a,index:u}}},{key:"setProps",value:function e(t){var n=this.props?PP(PP({},this.props),t):t;if(this.props){var r,o;if(n.simulatorComponent!==this.props.simulatorComponent&&(this._simulatorComponent=n.simulatorComponent),n.simulatorProps!==this.props.simulatorProps)this._simulatorProps=n.simulatorProps,(null===(r=n.simulatorProps)||void 0===r?void 0:r.designMode)!==(null===(o=this.props.simulatorProps)||void 0===o?void 0:o.designMode)&&this.setupSelection();n.suspensed!==this.props.suspensed&&null!=n.suspensed&&(this.suspensed=n.suspensed),n.componentMetadatas!==this.props.componentMetadatas&&null!=n.componentMetadatas&&this.buildComponentMetasMap(n.componentMetadatas)}else n.simulatorComponent&&(this._simulatorComponent=n.simulatorComponent),n.simulatorProps&&(this._simulatorProps=n.simulatorProps),null!=n.suspensed&&(this.suspensed=n.suspensed),null!=n.componentMetadatas&&this.buildComponentMetasMap(n.componentMetadatas);this.props=n}},{key:"loadIncrementalAssets",value:function(){var e=EP(jP().mark((function e(t){var n,r,o,i,a;return jP().wrap((function e(u){for(;;)switch(u.prev=u.next){case 0:if(n=t.components,r=t.packages,n&&this.buildComponentMetasMap(n),!r){u.next=5;break}return u.next=5,null===(o=this.project.simulator)||void 0===o?void 0:o.setupComponents(r);case 5:if(!n){u.next=10;break}return i=this.editor.get("assets")||{},a=Object(V.Y)(i,t),u.next=10,this.editor.set("assets",a);case 10:this.refreshComponentMetasMap(),this.editor.eventBus.emit("designer.incrementalAssetsReady");case 12:case"end":return u.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"refreshComponentMetasMap",value:function e(){this._componentMetasMap=new Map(this._componentMetasMap)}},{key:"get",value:function e(t){var n;return null===(n=this.props)||void 0===n?void 0:n[t]}},{key:"simulatorComponent",get:function e(){return this._simulatorComponent}},{key:"simulatorProps",get:function e(){return"function"==typeof this._simulatorProps?this._simulatorProps(this.project):this._simulatorProps||{}}},{key:"projectSimulatorProps",get:function e(){var t=this;return PP(PP({},this.simulatorProps),{},{project:this.project,designer:this,onMount:function e(n){t.project.mountSimulator(n),t.editor.set("simulator",n)}})}},{key:"suspensed",get:function e(){return this._suspensed},set:function e(t){this._suspensed=t}},{key:"schema",get:function e(){return this.project.getSchema()}},{key:"setSchema",value:function e(t){this.project.load(t)}},{key:"buildComponentMetasMap",value:function e(t){var n=this;t.forEach((function(e){return n.createComponentMeta(e)}))}},{key:"createComponentMeta",value:function e(t){var n=t.componentName;if(!n)return null;var r=this._componentMetasMap.get(n);return r?(r.setMetadata(t),this._componentMetasMap.set(n,r)):((r=this._lostComponentMetasMap.get(n))?(r.setMetadata(t),this._lostComponentMetasMap.delete(n)):r=new og(this,t),this._componentMetasMap.set(n,r)),r}},{key:"getGlobalComponentActions",value:function e(){var t;return(null===(t=this.props)||void 0===t?void 0:t.globalComponentActions)||null}},{key:"getComponentMeta",value:function e(t,n){if(this._componentMetasMap.has(t))return this._componentMetasMap.get(t);if(this._lostComponentMetasMap.has(t))return this._lostComponentMetasMap.get(t);var r=new og(this,PP({componentName:t},n?n():null));return this._lostComponentMetasMap.set(t,r),r}},{key:"getComponentMetasMap",value:function e(){return this._componentMetasMap}},{key:"componentsMap",get:function e(){var t={},n=this;return this._componentMetasMap.forEach((function(e,n){var r=e.getMetadata();if("lowCode"===r.devMode)t[n]=r.schema;else{var o=e.advanced.view;t[n]=o||e.npm}})),t}},{key:"transformProps",value:function e(t,n,r){if(Array.isArray(t))return t;var o=this.propsReducers.get(r);return o?o.reduce((function(e,t){try{return t(e,n.internalToShellNode(),{stage:r})}catch(t){return console.warn(t),e}}),t):t}},{key:"addPropsReducer",value:function e(t,n){if(t){var r=this.propsReducers.get(n);r?r.push(t):this.propsReducers.set(n,[t])}else FP.error("reducer is not available")}},{key:"autorun",value:function e(t,n){return Object(a.autorun)(t,n)}},{key:"purge",value:function e(){}}]),e}();f([a.obx.ref,m("design:type",Object)],GP.prototype,"_componentMetasMap",void 0),f([a.obx.ref,m("design:type","function"==typeof(wP=void 0!==r.ComponentType&&r.ComponentType)?wP:Object)],GP.prototype,"_simulatorComponent",void 0),f([a.obx.ref,m("design:type",Object)],GP.prototype,"_simulatorProps",void 0),f([a.obx.ref,m("design:type",Object)],GP.prototype,"_suspensed",void 0),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],GP.prototype,"simulatorComponent",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],GP.prototype,"simulatorProps",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],GP.prototype,"projectSimulatorProps",null),f([a.computed,m("design:type",Object),m("design:paramtypes",[])],GP.prototype,"componentsMap",null);var HP=n(101);function UP(e){return(UP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KP(r.key),r)}}function $P(e,t,n){return t&&WP(e.prototype,t),n&&WP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function KP(e){var t=XP(e,"string");return"symbol"===UP(t)?t:String(t)}function XP(e,t){if("object"!==UP(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==UP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function qP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YP(e,t)}function YP(e,t){return(YP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function JP(e){var t=ex();return function n(){var r=tx(e),o;if(t){var i=tx(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return ZP(this,o)}}function ZP(e,t){if(t&&("object"===UP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return QP(e)}function QP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ex(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function tx(e){return(tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var nx=function(e){qP(n,e);var t=JP(n);function n(e){var r;return zP(this,n),(r=t.call(this,e)).dispose=[],r.titles=null,r.x=0,r.y=0,r.isAbsoluteLayoutContainer=!1,r.dragon=r.props.designer.dragon,Object(a.makeObservable)(QP(r)),r.dispose=[r.dragon.onDragstart((function(e){"drag"!==e.originalEvent.type.slice(0,4)&&(r.titles=r.getTitles(e.dragObject),r.x=e.globalX,r.y=e.globalY)})),r.dragon.onDrag((function(e){if(r.x=e.globalX,r.y=e.globalY,pg(e.sensor)){var t=e.sensor.getDropContainer(e);if(null!=t&&t.container.componentMeta.advanced.isAbsoluteLayoutContainer)return void(r.isAbsoluteLayoutContainer=!0)}r.isAbsoluteLayoutContainer=!1})),r.dragon.onDragend((function(){r.titles=null,r.x=0,r.y=0}))],r}return $P(n,[{key:"getTitles",value:function e(t){var n=this,r;return HS(t)?t.nodes.map((function(e){return e.title})):(Array.isArray(t.data)?t.data:[t.data]).map((function(e,t){return n.props.designer.getComponentMeta(e.componentName).title}))}},{key:"componentWillUnmount",value:function e(){this.dispose&&this.dispose.forEach((function(e){return e()}))}},{key:"renderGhostGroup",value:function e(){var t;return null===(t=this.titles)||void 0===t?void 0:t.map((function(e,t){var n;return React.createElement("div",{className:"lc-ghost",key:t},React.createElement(a.Title,{title:e}))}))}},{key:"render",value:function e(){return this.titles&&this.titles.length?this.isAbsoluteLayoutContainer?null:React.createElement("div",{className:"lc-ghost-group",style:{left:this.x,top:this.y}},this.renderGhostGroup()):null}}]),n}(r.Component);f([a.obx.ref,m("design:type",Object)],nx.prototype,"titles",void 0),f([a.obx.ref,m("design:type",Object)],nx.prototype,"x",void 0),f([a.obx.ref,m("design:type",Object)],nx.prototype,"y",void 0),f([a.obx,m("design:type",Object)],nx.prototype,"isAbsoluteLayoutContainer",void 0);var rx=nx=f([a.observer,m("design:paramtypes",[Object])],nx),ox=n(102);function ix(e){return(ix="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ax=["designer"];function ux(e,t){if(null==e)return{};var n=cx(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cx(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}function sx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,px(r.key),r)}}function fx(e,t,n){return t&&lx(e.prototype,t),n&&lx(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function px(e){var t=hx(e,"string");return"symbol"===ix(t)?t:String(t)}function hx(e,t){if("object"!==ix(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ix(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function dx(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vx(e,t)}function vx(e,t){return(vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function yx(e){var t=gx();return function n(){var r=wx(e),o;if(t){var i=wx(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return mx(this,o)}}function mx(e,t){if(t&&("object"===ix(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bx(e)}function bx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gx(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function wx(e){return(wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Ox=function(e){dx(n,e);var t=yx(n);function n(e){var r;sx(this,n),(r=t.call(this,e)).designer=void 0,r.viewName=void 0;var o=e.designer,i=ux(e,ax);return r.viewName=null==o?void 0:o.viewName,o?(r.designer=o,o.setProps(i)):r.designer=new GP(i),r}return fx(n,[{key:"shouldComponentUpdate",value:function e(t){this.designer.setProps(t);var n=this.props;return t.className!==n.className||t.style!==n.style||t.dragGhostComponent!==n.dragGhostComponent}},{key:"componentDidMount",value:function e(){var t=this.props.onMount;t&&t(this.designer),jw.injectCopyPaster(document),this.designer.postEvent("mount",this.designer)}},{key:"UNSAFE_componentWillMount",value:function e(){this.designer.purge()}},{key:"render",value:function e(){var t=this.props,n=t.className,r=t.style,o,i=t.dragGhostComponent||rx;return React.createElement("div",{className:rr()("lc-designer",n),style:r},React.createElement(i,{designer:this.designer}),React.createElement(jS,{designer:this.designer}))}}]),n}(r.Component);function _x(e,t){return!(!t||!Array.isArray(t.properties))&&t.properties.some((function(t){return t.key===e}))}function jx(e){return e&&("autoInit"in e||"override"in e)}function Sx(e,t){if(!e||!Object(es.isPlainObject)(e))return e;var n={};return Object.keys(e).forEach((function(r){if(_x(r,t)){var o=e[r];null!=o&&(n[r]=o)}})),n}function Ex(e){return(Ex="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Px(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nx(r.key),r)}}function xx(e,t,n){return t&&Px(e.prototype,t),n&&Px(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nx(e){var t=Cx(e,"string");return"symbol"===Ex(t)?t:String(t)}function Cx(e,t){if("object"!==Ex(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ex(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Tx=function(){function e(t,n){kx(this,e),this.hotkey=void 0,this.project=void 0,this.skeleton=void 0,this.setters=void 0,this.material=void 0,this.event=void 0,this.config=void 0,this.common=void 0,this.logger=void 0,this.plugins=void 0,this.preference=void 0,this.pluginEvent=void 0,this.canvas=void 0;var r=t.pluginName,o=void 0===r?"anonymous":r,i=t.meta,u=void 0===i?{}:i;n.assembleApis(this,o,u),this.pluginEvent=Object(a.createModuleEventBus)(o,200);var c=a.engineConfig.get("enhancePluginContextHook");c&&c(this)}return xx(e,[{key:"setPreference",value:function e(t,n){var r=this,o=function e(o,i){if(_x(o,n)){var a=r.plugins.getPluginPreference(t)||{};return void 0===a[o]||null===a[o]?i:a[o]}};this.preference={getPreferenceValue:o}}}]),e}();function Rx(e){return(Rx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ax(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ax=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(k([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==Rx(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=_(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Lx(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Mx(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Lx(i,r,o,a,u,"next",e)}function u(e){Lx(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Dx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ix(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vx(r.key),r)}}function Bx(e,t,n){return t&&Ix(e.prototype,t),n&&Ix(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vx(e){var t=Fx(e,"string");return"symbol"===Rx(t)?t:String(t)}function Fx(e,t){if("object"!==Rx(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Rx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Gx=function(){function e(t,n,r,o){Dx(this,e),this.config=void 0,this.logger=void 0,this.manager=void 0,this._inited=void 0,this.pluginName=void 0,this.meta=void 0,this._disabled=void 0,this.manager=n,this.config=r,this.pluginName=t,this.meta=o,this.logger=Object(V.r)({level:"warn",bizName:"plugin:".concat(t)})}return Bx(e,[{key:"name",get:function e(){return this.pluginName}},{key:"dep",get:function e(){if("string"==typeof this.meta.dependencies)return[this.meta.dependencies];var t=this.config.dep;return"string"==typeof t?[t]:this.meta.dependencies||t||[]}},{key:"disabled",get:function e(){return this._disabled}},{key:"isInited",value:function e(){return this._inited}},{key:"init",value:function(){var e=Mx(Ax().mark((function e(t){var n;return Ax().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:if(!this._inited||t){r.next=2;break}return r.abrupt("return");case 2:return this.logger.log("method init called"),r.next=5,null===(n=this.config.init)||void 0===n?void 0:n.call(void 0);case 5:this._inited=!0;case 6:case"end":return r.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){var e=Mx(Ax().mark((function e(){var t,n;return Ax().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:if(this._inited){r.next=2;break}return r.abrupt("return");case 2:return this.logger.log("method destroy called"),r.next=5,null===(t=this.config)||void 0===t||null===(n=t.destroy)||void 0===n?void 0:n.call(void 0);case 5:this._inited=!1;case 6:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setDisabled",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._disabled=t}},{key:"toProxy",value:function e(){var t,n;Xk(this._inited,"Could not call toProxy before init");var r=null===(t=(n=this.config).exports)||void 0===t?void 0:t.call(n);return new Proxy(this,{get:function e(t,n,o){return{}.hasOwnProperty.call(r,n)?null==r?void 0:r[n]:Reflect.get(t,n,o)}})}},{key:"dispose",value:function(){var e=Mx(Ax().mark((function e(){return Ax().wrap((function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.manager.delete(this.name);case 2:case"end":return t.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function Hx(e,t,n,r,o,i){t.forEach((function(t){if(-1===n.indexOf(t)){var a=e[t];a?i.indexOf(t)>-1?(i.push(t),o.push(i.slice(0)),i.pop(t)):a.dep.length&&(i.push(t),Hx(e,a.dep,n,r,o,i),i.pop(t)):r.push(t),n.push(t)}}))}var Ux=function(e,t){var n=[],r=[],o=[];return Hx(e,t,n,r,o,[]),(r.length||o.length)&&(n=[]),{sequence:n,missingTasks:r,recursiveDependencies:o}},zx=n(58),Wx=n.n(zx);function $x(e){return($x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kx(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Xx(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=!0,a=!1,u;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return i=t.done,t},e:function e(t){a=!0,u=t},f:function e(){try{i||null==n.return||n.return()}finally{if(a)throw u}}}}function Xx(e,t){if(e){if("string"==typeof e)return qx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qx(e,t):void 0}}function qx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yx(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Yx=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(k([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==$x(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=_(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Jx(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Zx(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Jx(i,r,o,a,u,"next",e)}function u(e){Jx(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Qx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nN(r.key),r)}}function tN(e,t,n){return t&&eN(e.prototype,t),n&&eN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nN(e){var t=rN(e,"string");return"symbol"===$x(t)?t:String(t)}function rN(e,t){if("object"!==$x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==$x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var oN=Object(V.r)({level:"warn",bizName:"designer:pluginManager"}),iN=["designer","editor","skeleton","renderer","render","utils","plugin","engine","editor-core","engine-core","plugins","event","events","log","logger","ctx","context"],aN=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";Qx(this,e),this.viewName=void 0,this.plugins=[],this.pluginsMap=new Map,this.pluginContextMap=new Map,this.pluginPreference=new Map,this.contextApiAssembler=void 0,this._getLowCodePluginContext=function(e){var t=e.pluginName,r=n.pluginContextMap.get(t);return r||(r=new Tx(e,n.contextApiAssembler),n.pluginContextMap.set(t,r)),r},this.viewName=r,this.contextApiAssembler=t}return tN(e,[{key:"isEngineVersionMatched",value:function e(t){var n=a.engineConfig.get("ENGINE_VERSION");return Wx()(n,t,{includePrerelease:!0})}},{key:"register",value:function(){var e=Zx(Yx().mark((function e(t,n,r){var o,i,u,c,s,l,f,p,h,d,v,y,m,b,g,w;return Yx().wrap((function e(O){for(;;)switch(O.prev=O.next){case 0:if(jx(n)&&(r=n,n={}),u=t.pluginName,c=t.meta,l=(s=void 0===c?{}:c).preferenceDeclaration,f=s.engines,p=s.eventPrefix,(h=iN.find((function(e){return e===p})))&&(s.eventPrefix=void 0,oN.warn("plugin ".concat(u," is trying to use ").concat(p," as event prefix, which is a reserved event prefix, please use another one"))),d=this._getLowCodePluginContext({pluginName:u,meta:s}),v=a.engineConfig.get("customPluginFilterOptions",Sx),y=t(d,v(n,l)),Xk(u=u||y.name,"pluginConfigCreator.pluginName required",y),d.setPreference(u,l),m=!0===(null===(o=r)||void 0===o?void 0:o.override),!this.pluginsMap.has(u)){O.next=22;break}if(m){O.next=18;break}throw new Error("Plugin with name ".concat(u," exists"));case 18:b=this.pluginsMap.get(u),oN.log("plugin override, originalPlugin with name ",u," will be destroyed, config:",null==b?void 0:b.config),null==b||b.destroy(),this.pluginsMap.delete(u);case 22:if(!(g=f&&f.lowcodeEngine)||this.isEngineVersionMatched(g)){O.next=25;break}throw new Error("plugin ".concat(u," skipped, engine check failed, current engine version is ").concat(a.engineConfig.get("ENGINE_VERSION"),", meta.engines.lowcodeEngine is ").concat(g));case 25:if(w=new Gx(u,this,y,s),null===(i=r)||void 0===i||!i.autoInit){O.next=29;break}return O.next=29,w.init();case 29:this.plugins.push(w),this.pluginsMap.set(u,w),oN.log("plugin registered with pluginName: ".concat(u,", config: "),y,"meta:",s);case 32:case"end":return O.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"get",value:function e(t){return this.pluginsMap.get(t)}},{key:"getAll",value:function e(){return this.plugins}},{key:"has",value:function e(t){return this.pluginsMap.has(t)}},{key:"delete",value:function(){var e=Zx(Yx().mark((function e(t){var n,r;return Yx().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:if(-1!==(n=this.plugins.findIndex((function(e){return e.name===t})))){o.next=3;break}return o.abrupt("return",!1);case 3:return r=this.plugins[n],o.next=6,r.destroy();case 6:return this.plugins.splice(n,1),o.abrupt("return",this.pluginsMap.delete(t));case 8:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"init",value:function(){var e=Zx(Yx().mark((function e(t){var n,r,o,i,a,u,c,s;return Yx().wrap((function e(l){for(;;)switch(l.prev=l.next){case 0:n=[],r={},this.pluginPreference=t,this.plugins.forEach((function(e){n.push(e.name),r[e.name]=e})),o=Ux(r,n),i=o.missingTasks,a=o.sequence,Xk(!i.length,"plugin dependency missing",i),oN.log("load plugin sequence:",a),u=Kx(a),l.prev=8,u.s();case 10:if((c=u.n()).done){l.next=23;break}return s=c.value,l.prev=12,l.next=15,this.pluginsMap.get(s).init();case 15:l.next=21;break;case 17:l.prev=17,l.t0=l.catch(12),oN.error("Failed to init plugin:".concat(s,", it maybe affect those plugins which depend on this.")),oN.error(l.t0);case 21:l.next=10;break;case 23:l.next=28;break;case 25:l.prev=25,l.t1=l.catch(8),u.e(l.t1);case 28:return l.prev=28,u.f(),l.finish(28);case 31:case"end":return l.stop()}}),e,this,[[8,25,28,31],[12,17]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){var e=Zx(Yx().mark((function e(){var t,n,r;return Yx().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:t=Kx(this.plugins),o.prev=1,t.s();case 3:if((n=t.n()).done){o.next=9;break}return r=n.value,o.next=7,r.destroy();case 7:o.next=3;break;case 9:o.next=14;break;case 11:o.prev=11,o.t0=o.catch(1),t.e(o.t0);case 14:return o.prev=14,t.f(),o.finish(14);case 17:case"end":return o.stop()}}),e,this,[[1,11,14,17]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"size",get:function e(){return this.pluginsMap.size}},{key:"getPluginPreference",value:function e(t){return this.pluginPreference?this.pluginPreference.get(t):null}},{key:"toProxy",value:function e(){return new Proxy(this,{get:function e(t,n,r){if(t.pluginsMap.has(n)){var o;if(t.pluginsMap.get(n).disabled)return;return null===(o=t.pluginsMap.get(n))||void 0===o?void 0:o.toProxy()}return Reflect.get(t,n,r)}})}},{key:"setDisabled",value:function e(t){var n,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];oN.warn("plugin:".concat(t," has been set disable:").concat(r)),null===(n=this.pluginsMap.get(t))||void 0===n||n.setDisabled(r)}},{key:"dispose",value:function(){var e=Zx(Yx().mark((function e(){return Yx().wrap((function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.destroy();case 2:this.plugins=[],this.pluginsMap.clear();case 4:case"end":return t.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function uN(e){return(uN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cN(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */cN=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(k([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==uN(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=_(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function sN(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function lN(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){sN(i,r,o,a,u,"next",e)}function u(e){sN(i,r,o,a,u,"throw",e)}a(void 0)}))}}function fN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hN(r.key),r)}}function pN(e,t,n){return t&&fN(e.prototype,t),n&&fN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hN(e){var t=dN(e,"string");return"symbol"===uN(t)?t:String(t)}function dN(e,t){if("object"!==uN(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==uN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function vN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var yN=pN((function e(t,n,r){vN(this,e),this.editorWindow=void 0,this.skeleton=void 0,this.plugins=void 0,this.project=void 0,this.setters=void 0,this.material=void 0,this.common=void 0,this.config=void 0,this.event=void 0,this.logger=void 0,this.hotkey=void 0,this.innerProject=void 0,this.editor=void 0,this.designer=void 0,this.registerInnerPlugins=void 0,this.innerSetters=void 0,this.innerSkeleton=void 0,this.innerHotkey=void 0,this.innerPlugins=void 0,this.canvas=void 0,this.pluginEvent=void 0,this.preference=void 0,this.editorWindow=r;var o=new a.Editor(n,!0),i=new Vc(o,n);o.set("skeleton",i);var u=new GP({editor:o,viewName:n,shellModelFactory:null==t?void 0:t.shellModelFactory});o.set("designer",u);var c=u.project,s=new qd(t),l=new a.Hotkey(n),f=new lh(l,!0),p=new a.Setters(n),h=new hd(p,!0),d=new Rh(o,!0),v=new od(c,!0),y=a.engineConfig,m=new th(a.commonEvent,{prefix:"common"}),b=Object(V.r)({level:"warn",bizName:"common"}),g=new Cd(i,"any",!0),w=new Hd(o,!0);o.set("setters",h),o.set("project",v),o.set("material",d),o.set("hotkey",f),o.set("innerHotkey",l),this.innerSetters=p,this.innerSkeleton=i,this.skeleton=g,this.innerProject=c,this.project=v,this.setters=h,this.material=d,this.config=y,this.event=m,this.logger=b,this.hotkey=f,this.innerHotkey=l,this.editor=o,this.designer=u,this.canvas=w;var O=new $p(o,i),_;this.common=O;var j,S=new aN({assembleApis:function e(t,n,r){t.workspace=s,t.hotkey=f,t.project=v,t.skeleton=new Cd(i,n,!0),t.setters=h,t.material=d;var o=(null==r?void 0:r.eventPrefix)||"common";t.event=new th(a.commonEvent,{prefix:o}),t.config=y,t.common=O,t.plugins=_,t.logger=new bh({level:"warn",bizName:"plugin:".concat(n)}),t.canvas=w}},n);this.innerPlugins=S,_=new Uh(S,!0).toProxy(),o.set("plugins",_),o.set("innerPlugins",S),this.plugins=_,this.registerInnerPlugins=function(){var e=lN(cN().mark((function e(){return cN().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,null==t?void 0:t.registryInnerPlugin(u,o,_);case 2:case"end":return n.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})),mN=n(59);function bN(e){return React.createElement("div",{className:"lc-designer lowcode-plugin-designer"},React.createElement("div",{className:"lc-project"},React.createElement("div",{className:"lc-simulator-shell"},React.createElement("iframe",{name:"webview-view-".concat(e.viewName),className:"lc-simulator-content-frame",style:{height:"100%",width:"100%"},src:e.url}))))}function gN(e,t){function n(n){var r=n.skeleton;return{init:function o(){r.add({area:"mainArea",name:"designer",type:"Widget",content:bN,contentProps:{ctx:n,url:e,viewName:t}})}}}return n.pluginName="___webview_plugin___",n}function wN(e){return(wN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ON(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function _N(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ON(i,r,o,a,u,"next",e)}function u(e){ON(i,r,o,a,u,"throw",e)}a(void 0)}))}}function jN(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */jN=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(k([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==wN(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=_(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function SN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PN(r.key),r)}}function kN(e,t,n){return t&&EN(e.prototype,t),n&&EN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function PN(e){var t=xN(e,"string");return"symbol"===wN(t)?t:String(t)}function xN(e,t){if("object"!==wN(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==wN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function NN(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CN(e,t)}function CN(e,t){return(CN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function TN(e){var t=LN();return function n(){var r=MN(e),o;if(t){var i=MN(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return RN(this,o)}}function RN(e,t){if(t&&("object"===wN(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return AN(e)}function AN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LN(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function MN(e){return(MN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var DN=function(e){NN(n,e);var t=TN(n);function n(e,r,o,i){var u;return SN(this,n),(u=t.call(this,e,o.viewName,r)).workspace=void 0,u.editorWindow=void 0,u.editorView=void 0,u.viewName="editor-view",u.instance=void 0,u.viewType=void 0,u._activate=!1,u.isInit=!1,u.init=Object(mN.a)(jN().mark((function e(){var t,n,r,o,i;return jN().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:if("webview"!==this.viewType){a.next=8;break}return a.next=3,null===(r=this.instance)||void 0===r||null===(o=r.url)||void 0===o?void 0:o.call(r);case 3:return i=a.sent,a.next=6,this.plugins.register(gN(i,this.viewName));case 6:a.next=10;break;case 8:return a.next=10,this.registerInnerPlugins();case 10:return a.next=12,null===(t=this.instance)||void 0===t||null===(n=t.init)||void 0===n?void 0:n.call(t);case 12:return a.next=14,this.innerPlugins.init();case 14:this.isInit=!0;case 15:case"end":return a.stop()}}),e,this)}))),u.setActivate=function(e){u._activate=e,u.innerHotkey.activate(u._activate)},u.workspace=e,u.editorWindow=r,u.editorView=o,u.viewType=o.viewType||"editor",u.viewName=o.viewName,u.instance=o(u.innerPlugins._getLowCodePluginContext({pluginName:"any"}),i),Object(a.makeObservable)(AN(u)),u}return kN(n,[{key:"active",get:function e(){return this._activate}},{key:"save",value:function(){var e=_N(jN().mark((function e(){var t,n;return jN().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,null===(t=this.instance)||void 0===t||null===(n=t.save)||void 0===n?void 0:n.call(t);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(yN),IN,BN;function VN(e){return(VN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FN(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */FN=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(k([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==VN(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=_(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function GN(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function HN(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){GN(i,r,o,a,u,"next",e)}function u(e){GN(i,r,o,a,u,"throw",e)}a(void 0)}))}}function UN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$N(r.key),r)}}function WN(e,t,n){return t&&zN(e.prototype,t),n&&zN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $N(e){var t=KN(e,"string");return"symbol"===VN(t)?t:String(t)}function KN(e,t){if("object"!==VN(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==VN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(Kn.a)([a.obx,Object(Kn.b)("design:type",Object)],DN.prototype,"_activate",void 0),Object(Kn.a)([a.obx,Object(Kn.b)("design:type",Boolean)],DN.prototype,"isInit",void 0),Object(Kn.a)([a.computed,Object(Kn.b)("design:type",Object),Object(Kn.b)("design:paramtypes",[])],DN.prototype,"active",null);var XN=function(){function e(t,n,r){var o=this;UN(this,e),this.resource=void 0,this.workspace=void 0,this.config=void 0,this.id=Object(V.cb)("window"),this.icon=void 0,this.emitter=Object(a.createModuleEventBus)("Project"),this.title=void 0,this.url=void 0,this.editorView=void 0,this.editorViews=new Map,this.initReady=!1,this.initViewTypes=HN(FN().mark((function e(){var t,n,r;return FN().wrap((function e(i){for(;;)switch(i.prev=i.next){case 0:if(t=o.resource.editorViews){i.next=3;break}return i.abrupt("return");case 3:n=0;case 4:if(!(n<t.length)){i.next=12;break}return r=t[n].viewName,i.next=8,o.initViewType(r);case 8:o.editorView||o.changeViewType(r);case 9:n++,i.next=4;break;case 12:case"end":return i.stop()}}),e)}))),this.execViewTypesInit=HN(FN().mark((function e(){var t,n,r,i;return FN().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:if(t=o.resource.editorViews){a.next=3;break}return a.abrupt("return");case 3:n=0;case 4:if(!(n<t.length)){a.next=12;break}return i=t[n].viewName,o.changeViewType(i),a.next=9,null===(r=o.editorViews.get(i))||void 0===r?void 0:r.init();case 9:n++,a.next=4;break;case 12:case"end":return a.stop()}}),e)}))),this.setDefaultViewType=function(){var e;o.changeViewType(null!==(e=o.config.viewType)&&void 0!==e?e:o.resource.defaultViewType)},this.initViewType=function(){var e=HN(FN().mark((function e(t){var n,r;return FN().wrap((function e(i){for(;;)switch(i.prev=i.next){case 0:if(n=o.resource.getEditorView(t),!o.editorViews.get(t)){i.next=3;break}return i.abrupt("return");case 3:r=new DN(o.workspace,o,n,o.config.options),o.editorViews.set(t,r);case 5:case"end":return i.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.changeViewType=function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];null===(t=o.editorView)||void 0===t||t.setActivate(!1),o.editorView=o.editorViews.get(e),o.editorView&&(n||o.emitter.emit("window.change.view.type",e),o.editorView.setActivate(!0))},this.resource=t,this.workspace=n,this.config=r,Object(a.makeObservable)(this),this.init(),this.title=r.title,this.icon=t.icon}return WN(e,[{key:"importSchema",value:function(){var e=HN(FN().mark((function e(t){var n=this,r;return FN().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.resource.import(t);case 2:if(r=o.sent){o.next=5;break}return o.abrupt("return");case 5:Object.keys(r).forEach((function(e){var t=n.editorViews.get(e);null==t||t.project.importSchema(r[e])}));case 6:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=HN(FN().mark((function e(){var t,n,r,o,i,a;return FN().wrap((function e(u){for(;;)switch(u.prev=u.next){case 0:t={},n=this.resource.editorViews,r=0;case 3:if(!(r<n.length)){u.next=12;break}return i=n[r].viewName,u.next=7,null===(o=this.editorViews.get(i))||void 0===o?void 0:o.save();case 7:a=u.sent,t[i]=a;case 9:r++,u.next=3;break;case 12:return u.next=14,this.resource.save(t);case 14:return u.abrupt("return",u.sent);case 15:case"end":return u.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"init",value:function(){var e=HN(FN().mark((function e(){return FN().wrap((function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initViewTypes();case 2:return t.next=4,this.execViewTypesInit();case 4:return t.next=6,this.resource.url();case 6:this.url=t.sent,this.setDefaultViewType(),this.initReady=!0;case 9:case"end":return t.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onChangeViewType",value:function e(t){var n=this;return this.emitter.on("window.change.view.type",t),function(){n.emitter.off("window.change.view.type",t)}}},{key:"resourceType",get:function e(){return this.resource.resourceType.type}},{key:"project",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.project}},{key:"innerProject",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.innerProject}},{key:"innerSkeleton",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.innerSkeleton}},{key:"innerSetters",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.innerSetters}},{key:"innerHotkey",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.innerHotkey}},{key:"editor",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.editor}},{key:"designer",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.designer}},{key:"innerPlugins",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.innerPlugins}}]),e}();function qN(e){return(qN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YN(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */YN=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(k([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==qN(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=_(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function JN(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ZN(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){JN(i,r,o,a,u,"next",e)}function u(e){JN(i,r,o,a,u,"throw",e)}a(void 0)}))}}function QN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nC(r.key),r)}}function tC(e,t,n){return t&&eC(e.prototype,t),n&&eC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nC(e){var t=rC(e,"string");return"symbol"===qN(t)?t:String(t)}function rC(e,t){if("object"!==qN(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==qN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(Kn.a)([a.obx.ref,Object(Kn.b)("design:type","function"==typeof(IN=void 0!==DN&&DN)?IN:Object)],XN.prototype,"editorView",void 0),Object(Kn.a)([a.obx,Object(Kn.b)("design:type","function"==typeof(BN="undefined"!=typeof Map&&Map)?BN:Object)],XN.prototype,"editorViews",void 0),Object(Kn.a)([a.obx,Object(Kn.b)("design:type",Object)],XN.prototype,"initReady",void 0);var oC=new V.e({level:"warn",bizName:"workspace:resource"}),iC=function(){function e(t,n,r){var o=this;QN(this,e),this.resourceData=void 0,this.resourceType=void 0,this.workspace=void 0,this.context=void 0,this.resourceTypeInstance=void 0,this.editorViewMap=new Map,this.resourceData=t,this.resourceType=n,this.workspace=r,this.context=new yN(r,"resource-".concat(t.resourceName||n.name)),this.resourceTypeInstance=n.resourceTypeModel(this.context,this.options),this.init(),this.resourceTypeInstance.editorViews&&this.resourceTypeInstance.editorViews.forEach((function(e){o.editorViewMap.set(e.viewName,e)})),n||oC.error("resourceType[".concat(n,"] is unValid."))}return tC(e,[{key:"name",get:function e(){return this.resourceType.name}},{key:"viewType",get:function e(){return this.resourceData.viewType}},{key:"description",get:function e(){var t;return null===(t=this.resourceTypeInstance)||void 0===t?void 0:t.description}},{key:"icon",get:function e(){var t;return this.resourceData.icon||(null===(t=this.resourceTypeInstance)||void 0===t?void 0:t.icon)}},{key:"type",get:function e(){return this.resourceType.type}},{key:"title",get:function e(){return this.resourceData.title||this.resourceTypeInstance.defaultTitle}},{key:"options",get:function e(){return this.resourceData.options}},{key:"category",get:function e(){var t;return null===(t=this.resourceData)||void 0===t?void 0:t.category}},{key:"skeleton",get:function e(){return this.context.innerSkeleton}},{key:"children",get:function t(){var n,r,o=this;return(null===(n=this.resourceData)||void 0===n||null===(r=n.children)||void 0===r?void 0:r.map((function(t){return new e(t,o.resourceType,o.workspace)})))||[]}},{key:"init",value:function(){var e=ZN(YN().mark((function e(){var t,n;return YN().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,null===(t=(n=this.resourceTypeInstance).init)||void 0===t?void 0:t.call(n);case 2:return r.next=4,this.context.innerPlugins.init();case 4:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"import",value:function(){var e=ZN(YN().mark((function e(t){var n,r;return YN().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,null===(n=(r=this.resourceTypeInstance).import)||void 0===n?void 0:n.call(r,t);case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"url",value:function(){var e=ZN(YN().mark((function e(){var t,n;return YN().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,null===(t=(n=this.resourceTypeInstance).url)||void 0===t?void 0:t.call(n);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=ZN(YN().mark((function e(t){var n,r;return YN().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,null===(n=(r=this.resourceTypeInstance).save)||void 0===n?void 0:n.call(r,t);case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"editorViews",get:function e(){return this.resourceTypeInstance.editorViews}},{key:"defaultViewType",get:function e(){return this.resourceTypeInstance.defaultViewType}},{key:"getEditorView",value:function e(t){return this.editorViewMap.get(t)}}]),e}();function aC(e){return(aC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lC(r.key),r)}}function sC(e,t,n){return t&&cC(e.prototype,t),n&&cC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lC(e){var t=fC(e,"string");return"symbol"===aC(t)?t:String(t)}function fC(e,t){if("object"!==aC(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==aC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var pC=function(){function e(t){uC(this,e),this.resourceTypeModel=void 0,this.resourceTypeModel=t}return sC(e,[{key:"name",get:function e(){return this.resourceTypeModel.resourceName}},{key:"type",get:function e(){return this.resourceTypeModel.resourceType}}]),e}(),hC,dC,vC;function yC(e){return(yC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mC(e){return OC(e)||wC(e)||gC(e)||bC()}function bC(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function gC(e,t){if(e){if("string"==typeof e)return _C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_C(e,t):void 0}}function wC(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function OC(e){if(Array.isArray(e))return _C(e)}function _C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jC(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */jC=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(k([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==yC(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=_(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function SC(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function EC(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){SC(i,r,o,a,u,"next",e)}function u(e){SC(i,r,o,a,u,"throw",e)}a(void 0)}))}}function kC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NC(r.key),r)}}function xC(e,t,n){return t&&PC(e.prototype,t),n&&PC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function NC(e){var t=CC(e,"string");return"symbol"===yC(t)?t:String(t)}function CC(e,t){if("object"!==yC(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==yC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(vC=dC||(dC={})).ChangeWindow="change_window",vC.ChangeActiveWindow="change_active_window";var TC="resource.list.change",RC=function(){function e(t,n){kC(this,e),this.registryInnerPlugin=void 0,this.shellModelFactory=void 0,this.context=void 0,this.emitter=Object(a.createModuleEventBus)("workspace"),this._isActive=!1,this.resourceTypeMap=new Map,this.resourceList=[],this.windows=[],this.editorWindowMap=new Map,this.window=void 0,this.registryInnerPlugin=t,this.shellModelFactory=n,this.init(),Object(a.makeObservable)(this)}return xC(e,[{key:"skeleton",get:function e(){return this.context.innerSkeleton}},{key:"plugins",get:function e(){return this.context.innerPlugins}},{key:"isActive",get:function e(){return this._isActive}},{key:"defaultResourceType",get:function e(){return this.resourceTypeMap.size>=1?Array.from(this.resourceTypeMap.values())[0]:null}},{key:"init",value:function e(){this.initWindow(),this.context=new yN(this,"")}},{key:"initWindow",value:function e(){if(this.defaultResourceType){var t=this.defaultResourceType.name,n=new iC({},this.defaultResourceType,this);this.window=new XN(n,this,{title:t}),this.editorWindowMap.set(this.window.id,this.window),this.windows.push(this.window),this.emitChangeWindow(),this.emitChangeActiveWindow()}}},{key:"setActive",value:function e(t){this._isActive=t}},{key:"registerResourceType",value:function(){var e=EC(jC().mark((function e(t){var n;return jC().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:n=new pC(t),this.resourceTypeMap.set(t.resourceName,n),!this.window&&this.defaultResourceType&&this.initWindow();case 3:case"end":return r.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getResourceList",value:function e(){return this.resourceList}},{key:"setResourceList",value:function e(t){var n=this;this.resourceList=t.map((function(e){return new iC(e,n.getResourceType(e.resourceName),n)})),this.emitter.emit(TC,t)}},{key:"onResourceListChange",value:function e(t){var n=this;return this.emitter.on(TC,t),function(){n.emitter.off(TC,t)}}},{key:"getResourceType",value:function e(t){return this.resourceTypeMap.get(t)}},{key:"removeResourceType",value:function e(t){this.resourceTypeMap.has(t)&&this.resourceTypeMap.delete(t)}},{key:"removeEditorWindowById",value:function e(t){var n=this.windows.findIndex((function(e){return e.id===t}));this.remove(n)}},{key:"remove",value:function e(t){var n=this.windows[t];this.windows.splice(t,1),this.window===n&&(this.window=this.windows[t]||this.windows[t+1]||this.windows[t-1],this.emitChangeActiveWindow()),this.emitChangeWindow()}},{key:"removeEditorWindow",value:function e(t,n){var r=this.windows.findIndex((function(e){return e.resource.name===t&&e.title}));this.remove(r)}},{key:"openEditorWindowById",value:function e(t){var n=this.editorWindowMap.get(t);n&&(this.window=n,this.emitChangeActiveWindow())}},{key:"openEditorWindow",value:function e(t,n,r,o){var i=this.resourceTypeMap.get(t);if(i){var a=this.windows.filter((function(e){return e.resource.name===t&&e.resource.title==n}));if(a&&a.length)return this.window=a[0],void this.emitChangeActiveWindow();var u=new iC({resourceName:t,title:n,options:r},i,this);this.window=new XN(u,this,{title:n,options:r,viewType:o}),this.windows=[].concat(mC(this.windows),[this.window]),this.editorWindowMap.set(this.window.id,this.window),this.emitChangeWindow(),this.emitChangeActiveWindow()}else console.error("".concat(t," resourceType is not available"))}},{key:"onChangeWindows",value:function e(t){var n=this;return this.emitter.on(dC.ChangeWindow,t),function(){n.emitter.removeListener(dC.ChangeWindow,t)}}},{key:"emitChangeWindow",value:function e(){this.emitter.emit(dC.ChangeWindow)}},{key:"emitChangeActiveWindow",value:function e(){this.emitter.emit(dC.ChangeActiveWindow)}},{key:"onChangeActiveWindow",value:function e(t){var n=this;return this.emitter.on(dC.ChangeActiveWindow,t),function(){n.emitter.removeListener(dC.ChangeActiveWindow,t)}}}]),e}();function AC(e){return(AC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IC(r.key),r)}}function DC(e,t,n){return t&&MC(e.prototype,t),n&&MC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function IC(e){var t=BC(e,"string");return"symbol"===AC(t)?t:String(t)}function BC(e,t){if("object"!==AC(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==AC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function VC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FC(e,t)}function FC(e,t){return(FC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function GC(e){var t=zC();return function n(){var r=WC(e),o;if(t){var i=WC(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return HC(this,o)}}function HC(e,t){if(t&&("object"===AC(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return UC(e)}function UC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zC(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function WC(e){return(WC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object(Kn.a)([a.obx.ref,Object(Kn.b)("design:type",Array)],RC.prototype,"windows",void 0),Object(Kn.a)([a.obx.ref,Object(Kn.b)("design:type","function"==typeof(hC=void 0!==XN&&XN)?hC:Object)],RC.prototype,"window",void 0);var $C=function(e){VC(n,e);var t=GC(n);function n(){return LC(this,n),t.apply(this,arguments)}return DC(n,[{key:"render",value:function e(){var t=this.props.active,n=this.props.editorView,r=n.innerSkeleton;if(!n.isInit){var o=a.engineConfig.get("loadingComponent",_S);return React.createElement(o,null)}return React.createElement(Vi,{skeleton:r,className:t?"active engine-editor-view":"engine-editor-view",topAreaItemClassName:"engine-actionitem"})}}]),n}(r.PureComponent);function KC(e){return(KC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function XC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,JC(r.key),r)}}function YC(e,t,n){return t&&qC(e.prototype,t),n&&qC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function JC(e){var t=ZC(e,"string");return"symbol"===KC(t)?t:String(t)}function ZC(e,t){if("object"!==KC(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==KC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function QC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eT(e,t)}function eT(e,t){return(eT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function tT(e){var t=oT();return function n(){var r=iT(e),o;if(t){var i=iT(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return nT(this,o)}}function nT(e,t){if(t&&("object"===KC(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rT(e)}function rT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oT(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function iT(e){return(iT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}$C=Object(Kn.a)([a.observer],$C);var aT=function(e){QC(n,e);var t=tT(n);function n(){return XC(this,n),t.apply(this,arguments)}return YC(n,[{key:"render",value:function e(){var t=this.props,n=t.area,r=t.itemClassName;return n.isEmpty()?null:React.createElement("div",{className:rr()("lc-top-area engine-actionpane",{"lc-area-visible":n.visible})},React.createElement(cT,{area:n,itemClassName:r}))}}]),n}(r.Component),uT=aT=Object(Kn.a)([a.observer],aT),cT=function(e){QC(n,e);var t=tT(n);function n(){return XC(this,n),t.apply(this,arguments)}return YC(n,[{key:"render",value:function e(){var t=this.props,n=t.area,o=t.itemClassName,i=[],a=[],u=[];return n.container.items.slice().sort((function(e,t){var n,r,o=(null===(n=e.config)||void 0===n?void 0:n.index)||0,i=(null===(r=t.config)||void 0===r?void 0:r.index)||0;return o===i?0:o>i?1:-1})).forEach((function(e){var t=React.createElement("div",{className:o||"",key:"top-area-".concat(e.name)},e.content);"center"===e.align?a.push(t):"left"===e.align?i.push(t):u.push(t)})),React.createElement(r.Fragment,null,React.createElement("div",{className:"lc-top-area-left"},i),React.createElement("div",{className:"lc-top-area-center"},a),React.createElement("div",{className:"lc-top-area-right"},u))}}]),n}(r.Component);cT=Object(Kn.a)([a.observer],cT);var sT=n(115);function lT(e){return(lT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dT(r.key),r)}}function hT(e,t,n){return t&&pT(e.prototype,t),n&&pT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dT(e){var t=vT(e,"string");return"symbol"===lT(t)?t:String(t)}function vT(e,t){if("object"!==lT(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==lT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function yT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mT(e,t)}function mT(e,t){return(mT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function bT(e){var t=OT();return function n(){var r=_T(e),o;if(t){var i=_T(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return gT(this,o)}}function gT(e,t){if(t&&("object"===lT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wT(e)}function wT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OT(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _T(e){return(_T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var jT=function(e){yT(n,e);var t=bT(n);function n(){return fT(this,n),t.apply(this,arguments)}return hT(n,[{key:"render",value:function e(){var t=this.props.resource.skeleton,n=this.props.window.editorViews;return React.createElement("div",{className:"workspace-resource-view"},React.createElement(uT,{area:t.topArea,itemClassName:"engine-actionitem"}),React.createElement("div",{className:"workspace-editor-body"},Array.from(n.values()).map((function(e){return React.createElement($C,{key:e.name,active:e.active,editorView:e})}))))}}]),n}(r.PureComponent);function ST(e){return(ST="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ET(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xT(r.key),r)}}function PT(e,t,n){return t&&kT(e.prototype,t),n&&kT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xT(e){var t=NT(e,"string");return"symbol"===ST(t)?t:String(t)}function NT(e,t){if("object"!==ST(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ST(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function CT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TT(e,t)}function TT(e,t){return(TT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function RT(e){var t=MT();return function n(){var r=DT(e),o;if(t){var i=DT(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return AT(this,o)}}function AT(e,t){if(t&&("object"===ST(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return LT(e)}function LT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MT(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function DT(e){return(DT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}jT=Object(Kn.a)([a.observer],jT);var IT=function(e){CT(n,e);var t=RT(n);function n(){return ET(this,n),t.apply(this,arguments)}return PT(n,[{key:"render",value:function e(){var t=this.props.active,n=this.props.window,r=n.resource,o=n.initReady,i=n.url;if(!o){var u=a.engineConfig.get("loadingComponent",_S);return React.createElement("div",{className:"workspace-engine-main ".concat(t?"active":"")},React.createElement(u,null))}return"webview"===r.type&&i?React.createElement(bN,{url:i,viewName:r.name}):React.createElement("div",{className:"workspace-engine-main ".concat(t?"active":"")},React.createElement(jT,{resource:r,window:this.props.window}))}}]),n}(r.PureComponent);function BT(e){return(BT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HT(r.key),r)}}function GT(e,t,n){return t&&FT(e.prototype,t),n&&FT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function HT(e){var t=UT(e,"string");return"symbol"===BT(t)?t:String(t)}function UT(e,t){if("object"!==BT(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==BT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function zT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WT(e,t)}function WT(e,t){return(WT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function $T(e){var t=qT();return function n(){var r=YT(e),o;if(t){var i=YT(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return KT(this,o)}}function KT(e,t){if(t&&("object"===BT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return XT(e)}function XT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qT(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function YT(e){return(YT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}IT=Object(Kn.a)([a.observer],IT);var JT=function(e){zT(n,e);var t=$T(n);function n(){return VT(this,n),t.apply(this,arguments)}return GT(n,[{key:"render",value:function e(){var t=this.props.area;return t.isEmpty()?null:React.createElement("div",{className:rr()("lc-left-area",{"lc-area-visible":t.visible})},React.createElement(QT,{area:t}))}}]),n}(r.Component),ZT=JT=Object(Kn.a)([a.observer],JT),QT=function(e){zT(n,e);var t=$T(n);function n(){return VT(this,n),t.apply(this,arguments)}return GT(n,[{key:"render",value:function e(){var t=this.props.area,n=[],o=[];return t.container.items.slice().sort((function(e,t){var n,r,o=(null===(n=e.config)||void 0===n?void 0:n.index)||0,i=(null===(r=t.config)||void 0===r?void 0:r.index)||0;return o===i?0:o>i?1:-1})).forEach((function(e){var t=React.createElement("div",{key:"left-area-".concat(e.name)},e.content);"bottom"===e.align?o.push(t):n.push(t)})),React.createElement(r.Fragment,null,React.createElement("div",{className:"lc-left-area-top"},n),React.createElement("div",{className:"lc-left-area-bottom"},o))}}]),n}(r.Component);function eR(e){return(eR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oR(r.key),r)}}function rR(e,t,n){return t&&nR(e.prototype,t),n&&nR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oR(e){var t=iR(e,"string");return"symbol"===eR(t)?t:String(t)}function iR(e,t){if("object"!==eR(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function aR(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uR(e,t)}function uR(e,t){return(uR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function cR(e){var t=fR();return function n(){var r=pR(e),o;if(t){var i=pR(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return sR(this,o)}}function sR(e,t){if(t&&("object"===eR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return lR(e)}function lR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fR(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function pR(e){return(pR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}QT=Object(Kn.a)([a.observer],QT);var hR=function(e){aR(n,e);var t=cR(n);function n(){return tR(this,n),t.apply(this,arguments)}return rR(n,[{key:"componentDidUpdate",value:function e(){var t;null===(t=this.props.area.skeleton.editor.get("designer"))||void 0===t||t.touchOffsetObserver()}},{key:"render",value:function e(){var t,n,r=this.props.area,o=null===(t=r.current)||void 0===t||null===(n=t.config.props)||void 0===n?void 0:n.width,i=o?{width:o}:void 0;return React.createElement("div",{className:rr()("lc-left-fixed-pane",{"lc-area-visible":r.visible}),style:i},React.createElement(vR,{area:r}))}}]),n}(r.Component),dR=hR=Object(Kn.a)([a.observer],hR),vR=function(e){aR(n,e);var t=cR(n);function n(){return tR(this,n),t.apply(this,arguments)}return rR(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(r.Fragment,null,t.container.items.map((function(e){return e.content})))}}]),n}(r.Component);function yR(e){return(yR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wR(r.key),r)}}function gR(e,t,n){return t&&bR(e.prototype,t),n&&bR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wR(e){var t=OR(e,"string");return"symbol"===yR(t)?t:String(t)}function OR(e,t){if("object"!==yR(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==yR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jR(e,t)}function jR(e,t){return(jR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function SR(e){var t=PR();return function n(){var r=xR(e),o;if(t){var i=xR(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return ER(this,o)}}function ER(e,t){if(t&&("object"===yR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kR(e)}function kR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PR(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function xR(e){return(xR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}vR=Object(Kn.a)([a.observer],vR);var NR=function(e){_R(n,e);var t=SR(n);function n(){var e;mR(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).dispose=void 0,e.focusing=void 0,e.shell=null,e}return gR(n,[{key:"componentDidMount",value:function e(){var t=this,n=this.props.area,r=function e(t){var r,o,i,a;n.visible&&(null!==(r=t.originalEvent)&&void 0!==r&&null!==(o=r.target)&&void 0!==o&&o.classList.contains("insertion")||(null===(i=t.originalEvent)||void 0===i?void 0:i.target.closest('div[data-keep-visible-while-dragging="true"]'))||n.setVisible(!1))};n.skeleton.editor.eventBus.on("designer.drag",r),this.dispose=function(){n.skeleton.editor.removeListener("designer.drag",r)},this.focusing=a.focusTracker.create({range:function e(r){var o,i,a,u,c,s,l,f=r.target;if(!f)return!1;if(null!==(o=t.shell)&&void 0!==o&&o.contains(f))return!0;if(null!==(i=document.querySelector(".lc-simulator-content-frame"))&&void 0!==i&&null!==(a=i.contentWindow)&&void 0!==a&&a.document.documentElement.contains(f))return!1;if(null!==(u=document.querySelector(".lc-right-area"))&&void 0!==u&&u.contains(f))return!1;if(null===(c=document.querySelector(".lc-workbench"))||void 0===c||!c.contains(f))return!0;if(null!==(s=document.querySelector(".lc-workbench-body"))&&void 0!==s&&s.contains(f))return!0;var p=null===(l=n.current)||void 0===l?void 0:l.getAssocDocks();return!(!p||null==p||!p.length)&&p.some((function(e){var t;return null===(t=e.getDOMNode())||void 0===t?void 0:t.contains(f)}))},onEsc:function e(){t.props.area.setVisible(!1)},onBlur:function e(){t.props.area.setVisible(!1)}}),this.onEffect()}},{key:"onEffect",value:function e(){var t=this.props.area;if(t.visible){var n,r,o;null===(n=this.focusing)||void 0===n||n.active();var i=null==t||null===(r=t.skeleton)||void 0===r||null===(o=r.leftFixedArea)||void 0===o?void 0:o.container,a=null==i?void 0:i.current;a&&i.unactive(a)}else{var u;null===(u=this.focusing)||void 0===u||u.suspense()}}},{key:"componentDidUpdate",value:function e(){this.onEffect()}},{key:"componentWillUnmount",value:function e(){var t,n;null===(t=this.focusing)||void 0===t||t.purge(),null===(n=this.dispose)||void 0===n||n.call(this)}},{key:"render",value:function e(){var t,n,r=this,o=this.props.area,i=null===(t=o.current)||void 0===t||null===(n=t.config.props)||void 0===n?void 0:n.width,a=i?{width:i}:void 0;return React.createElement("div",{ref:function e(t){r.shell=t},className:rr()("lc-left-float-pane",{"lc-area-visible":o.visible}),style:a},React.createElement(TR,{area:o}))}}]),n}(r.Component),CR=NR=Object(Kn.a)([a.observer],NR),TR=function(e){_R(n,e);var t=SR(n);function n(){return mR(this,n),t.apply(this,arguments)}return gR(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(r.Fragment,null,t.container.items.map((function(e){return e.content})))}}]),n}(r.Component);function RR(e){return(RR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DR(r.key),r)}}function MR(e,t,n){return t&&LR(e.prototype,t),n&&LR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function DR(e){var t=IR(e,"string");return"symbol"===RR(t)?t:String(t)}function IR(e,t){if("object"!==RR(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==RR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function BR(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VR(e,t)}function VR(e,t){return(VR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function FR(e){var t=UR();return function n(){var r=zR(e),o;if(t){var i=zR(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return GR(this,o)}}function GR(e,t){if(t&&("object"===RR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return HR(e)}function HR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UR(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function zR(e){return(zR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}TR=Object(Kn.a)([a.observer],TR);var WR=function(e){BR(n,e);var t=FR(n);function n(){return AR(this,n),t.apply(this,arguments)}return MR(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement("div",{className:rr()("lc-main-area engine-workspacepane")},t.container.items.map((function(e){return e.content})))}}]),n}(r.Component),$R=WR=Object(Kn.a)([a.observer],WR);function KR(e){return(KR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function XR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,JR(r.key),r)}}function YR(e,t,n){return t&&qR(e.prototype,t),n&&qR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function JR(e){var t=ZR(e,"string");return"symbol"===KR(t)?t:String(t)}function ZR(e,t){if("object"!==KR(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==KR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function QR(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eA(e,t)}function eA(e,t){return(eA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function tA(e){var t=oA();return function n(){var r=iA(e),o;if(t){var i=iA(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return nA(this,o)}}function nA(e,t){if(t&&("object"===KR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rA(e)}function rA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oA(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function iA(e){return(iA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var aA=function(e){QR(n,e);var t=tA(n);function n(){return XR(this,n),t.apply(this,arguments)}return YR(n,[{key:"render",value:function e(){var t=this.props.area;return t.isEmpty()?null:React.createElement("div",{className:rr()("lc-bottom-area",{"lc-area-visible":t.visible})},React.createElement(cA,{area:t}))}}]),n}(r.Component),uA=aA=Object(Kn.a)([a.observer],aA),cA=function(e){QR(n,e);var t=tA(n);function n(){return XR(this,n),t.apply(this,arguments)}return YR(n,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(r.Fragment,null,t.container.items.map((function(e){return e.content})))}}]),n}(r.Component);cA=Object(Kn.a)([a.observer],cA);var sA=n(116),lA=Object(r.createContext)({});function fA(e){return(fA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vA(r.key),r)}}function dA(e,t,n){return t&&hA(e.prototype,t),n&&hA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vA(e){var t=yA(e,"string");return"symbol"===fA(t)?t:String(t)}function yA(e,t){if("object"!==fA(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==fA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function mA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bA(e,t)}function bA(e,t){return(bA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function gA(e){var t=_A();return function n(){var r=jA(e),o;if(t){var i=jA(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return wA(this,o)}}function wA(e,t){if(t&&("object"===fA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return OA(e)}function OA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _A(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function jA(e){return(jA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var SA=function(e){mA(n,e);var t=gA(n);function n(){return pA(this,n),t.apply(this,arguments)}return dA(n,[{key:"render",value:function e(){var t=this.props,n=t.area,r=t.itemClassName;return n.isEmpty()?null:React.createElement("div",{className:rr()("lc-sub-top-area engine-actionpane",{"lc-area-visible":n.visible})},React.createElement(kA,{area:n,itemClassName:r}))}}]),n}(r.Component),EA=SA=Object(Kn.a)([a.observer],SA),kA=function(e){mA(n,e);var t=gA(n);function n(){return pA(this,n),t.apply(this,arguments)}return dA(n,[{key:"render",value:function e(){var t=this.props,n=t.area,o=t.itemClassName,i=[],a=[],u=[];n.container.items.slice().sort((function(e,t){var n,r,o=(null===(n=e.config)||void 0===n?void 0:n.index)||0,i=(null===(r=t.config)||void 0===r?void 0:r.index)||0;return o===i?0:o>i?1:-1})).forEach((function(e){var t=React.createElement("div",{className:o||"",key:"top-area-".concat(e.name)},e.content);"center"===e.align?a.push(t):"left"===e.align?i.push(t):u.push(t)}));var c=[];return i&&i.length&&c.push(React.createElement("div",{className:"lc-sub-top-area-left"},i)),a&&a.length&&c.push(React.createElement("div",{className:"lc-sub-top-area-center"},a)),u&&u.length&&c.push(React.createElement("div",{className:"lc-sub-top-area-right"},u)),React.createElement(r.Fragment,null,c)}}]),n}(r.Component);function PA(e){return(PA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TA(r.key),r)}}function CA(e,t,n){return t&&NA(e.prototype,t),n&&NA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function TA(e){var t=RA(e,"string");return"symbol"===PA(t)?t:String(t)}function RA(e,t){if("object"!==PA(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==PA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function AA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LA(e,t)}function LA(e,t){return(LA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function MA(e){var t=BA();return function n(){var r=VA(e),o;if(t){var i=VA(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return DA(this,o)}}function DA(e,t){if(t&&("object"===PA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return IA(e)}function IA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BA(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function VA(e){return(VA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}kA=Object(Kn.a)([a.observer],kA);var FA=function(e){AA(n,e);var t=MA(n);function n(e){var r;xA(this,n);var o=(r=t.call(this,e)).props,i=o.config,a=o.components,u,c;return o.workspace.skeleton.buildFromConfig(i,a),r}return CA(n,[{key:"render",value:function e(){var t=this.props,n=t.workspace,r=t.className,o=t.topAreaItemClassName,i=n.skeleton;return React.createElement("div",{className:rr()("lc-workspace-workbench",r)},React.createElement(lA.Provider,{value:i},React.createElement(uT,{area:i.topArea,itemClassName:o}),React.createElement("div",{className:"lc-workspace-workbench-body"},React.createElement(ZT,{area:i.leftArea}),React.createElement(CR,{area:i.leftFloatArea}),React.createElement(dR,{area:i.leftFixedArea}),React.createElement("div",{className:"lc-workspace-workbench-center"},React.createElement("div",{className:"lc-workspace-workbench-center-content"},React.createElement(EA,{area:i.subTopArea,itemClassName:o}),React.createElement("div",{className:"lc-workspace-workbench-window"},n.windows.map((function(e){return React.createElement(IT,{active:e.id===n.window.id,window:e,key:e.id})})))),React.createElement($R,{area:i.mainArea}),React.createElement(uA,{area:i.bottomArea}))),React.createElement(a.TipContainer,null)))}}]),n}(r.Component);function GA(e,t){var n=e.getProp(t,!1);if(!n||n.isUnset())return null;var r=n.getValue();return Object(V.H)(r)&&(r=r.mock),null==r?null:"literal"===n.type?r:Symbol.for("not-literal")}function HA(e){var t=e.node,n,r=e.event.target;if(!Array.from(r.childNodes).every((function(e){return e.nodeType===Node.TEXT_NODE})))return null;var o=r.innerText,i=["title","label","text","content","children"].find((function(e){return UA(GA(t,e),o)}));return i?{propElement:r,propTarget:i}:null}function UA(e,t){return"string"==typeof e&&e.trim()===t}FA=Object(Kn.a)([a.observer,Object(Kn.b)("design:paramtypes",[Object])],FA);var zA={condition:function e(t){return"expression"===t.type},onSaveContent:function e(t,n){var r=n.getValue(),o=r;Object(V.H)(r)&&(o=r.mock),o=t,Object(V.H)(r)?n.setValue({type:"JSExpression",value:r.value,mock:o}):n.setValue(o)}};Fw.addLiveEditingSpecificRule(HA),Fw.addLiveEditingSaveHandler(zA);var WA={Project:od,Skeleton:Cd,DocumentModel:hv,Node:Hv,NodeChildren:wv,History:Vn,SettingPropEntry:Pv,SettingTopEntry:Lv,InnerNode:Sm,Selection:Rn,Prop:bn,SimulatorHost:Yh},$A={projectSymbol:Pt,documentSymbol:Ct,nodeSymbol:Rt,nodeChildrenSymbol:Lt,skeletonSymbol:Nt,editorSymbol:Tt,designerSymbol:xt,settingPropEntrySymbol:Dt,settingTopEntrySymbol:It,designerCabinSymbol:qt,propSymbol:Mt,simulatorHostSymbol:$t},KA=function e(t){var n=function e(n){return{init:function e(){var r=n.material;r.onChangeAssets((function(){var e,n=r.getAssets().components,o=void 0===n?[]:n;t.buildComponentMetasMap(o)}))}}};return n.pluginName="___component_meta_parser___",n},XA=function e(t){return{init:function e(){var r,o;if(!t.config.get("disableDefaultSetters")){var i=null===(r=n(117))||void 0===r?void 0:r.setters;i&&t.setters.registerSetter(i)}}}};XA.pluginName="___setter_registry___";var qA=n(118);function YA(e){return(YA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JA(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */JA=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(k([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==YA(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=_(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function ZA(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function QA(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ZA(i,r,o,a,u,"next",e)}function u(e){ZA(i,r,o,a,u,"throw",e)}a(void 0)}))}}function eL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rL(r.key),r)}}function nL(e,t,n){return t&&tL(e.prototype,t),n&&tL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rL(e){var t=oL(e,"string");return"symbol"===YA(t)?t:String(t)}function oL(e,t){if("object"!==YA(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==YA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function iL(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aL(e,t)}function aL(e,t){return(aL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function uL(e){var t=lL();return function n(){var r=fL(e),o;if(t){var i=fL(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return cL(this,o)}}function cL(e,t){if(t&&("object"===YA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return sL(e)}function sL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lL(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function fL(e){return(fL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var pL=Object(V.r)({level:"warn",bizName:"plugin:plugin-designer"}),hL=function(e){iL(n,e);var t=uL(n);function n(e){var r;return eL(this,n),(r=t.call(this,e)).state={componentMetadatas:null,library:null,extraEnvironment:null,renderEnv:"default",device:"default",locale:"",designMode:"live",deviceClassName:"",simulatorUrl:null,requestHandlersMap:null},r._mounted=!0,r.handleDesignerMount=function(e){var t=r.props.engineEditor;t.set("designer",e),t.eventBus.emit("designer.ready",e),t.onGot("schema",(function(t){e.project.open(t)}))},r.setupAssets(),r}return nL(n,[{key:"setupAssets",value:function(){var e=QA(JA().mark((function e(){var t,n,r,o,i,u,c,s,l,f,p,h,d,v;return JA().wrap((function e(y){for(;;)switch(y.prev=y.next){case 0:return t=this.props.engineEditor,y.prev=1,y.next=4,t.onceGot("assets");case 4:if(n=y.sent,r=a.engineConfig.get("renderEnv")||t.get("renderEnv"),o=a.engineConfig.get("device")||t.get("device"),i=a.engineConfig.get("locale")||t.get("locale"),u=a.engineConfig.get("designMode")||t.get("designMode"),c=a.engineConfig.get("deviceClassName")||t.get("deviceClassName"),s=a.engineConfig.get("simulatorUrl")||t.get("simulatorUrl"),l=a.engineConfig.get("requestHandlersMap")||t.get("requestHandlersMap"),this._mounted){y.next=14;break}return y.abrupt("return");case 14:f=n.components,p=n.packages,h=n.extraEnvironment,d=n.utils,v={componentMetadatas:f||[],library:p||[],utilsMetadata:d||[],extraEnvironment:h,renderEnv:r,device:o,designMode:u,deviceClassName:c,simulatorUrl:s,requestHandlersMap:l,locale:i},this.setState(v),y.next=22;break;case 19:y.prev=19,y.t0=y.catch(1),pL.error(y.t0);case 22:case"end":return y.stop()}}),e,this,[[1,19]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"componentWillUnmount",value:function e(){this._mounted=!1}},{key:"render",value:function e(){var t=this.props.engineEditor,n=this.state,r=n.componentMetadatas,i=n.utilsMetadata,a=n.library,u=n.extraEnvironment,c=n.renderEnv,s=n.device,l=n.designMode,f=n.deviceClassName,p=n.simulatorUrl,h=n.requestHandlersMap,d=n.locale;return a&&r?o.a.createElement(Ox,{onMount:this.handleDesignerMount,className:"lowcode-plugin-designer",editor:t,name:t.viewName,designer:t.get("designer"),componentMetadatas:r,simulatorProps:{library:a,utilsMetadata:i,extraEnvironment:u,renderEnv:c,device:s,locale:d,designMode:l,deviceClassName:f,simulatorUrl:p,requestHandlersMap:h}}):null}}]),n}(r.PureComponent);hL.displayName=void 0;var dL=function e(t){var n=function e(n){return{init:function e(){var r=n.skeleton,o=n.config;r.add({area:"mainArea",name:"designer",type:"Widget",content:React.createElement(hL,{engineConfig:o,engineEditor:t})}),o.get("disableDefaultSettingPanel")||r.add({area:"rightArea",name:"settingsPane",type:"Panel",content:React.createElement(Xf,{engineEditor:t}),props:{ignoreRoot:!0}})}}};return n.pluginName="___default_panel___",n},vL=dL;function yL(e){return(yL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wL(r.key),r)}}function gL(e,t,n){return t&&bL(e.prototype,t),n&&bL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wL(e){var t=OL(e,"string");return"symbol"===yL(t)?t:String(t)}function OL(e,t){if("object"!==yL(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==yL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var _L,jL=new(function(){function e(){mL(this,e)}return gL(e,[{key:"createNode",value:function e(t){return Hv.create(t)}},{key:"createSettingPropEntry",value:function e(t){return Pv.create(t)}}]),e}());function SL(e,t,n){var r=t;Object(V.N)(r)&&r.isSlotNode&&(r=r.exportSchema(F.g.Clone));var o=null,i,a,u;Object(V.N)(r)?(o=r,null===(i=e.children)||void 0===i||i.insert(o,n)):(o=(null===(a=e.document)||void 0===a?void 0:a.createNode(r))||null)&&(null===(u=e.children)||void 0===u||u.insert(o,n));return o||null}function EL(e,t,n){for(var r=n,o,i=[];o=t.pop();)o=SL(e,o,r),i.push(o),r=o.index;return i}function kL(e,t){var n,r,o,i=e.project,a=e.material,u=i.currentDocument;if(!u)return null;if(Array.isArray(t)&&Object(V.O)(t[0])&&null!==(n=a.getComponentMeta(t[0].componentName))&&void 0!==n&&n.isModal)return u.root?{target:u.root}:null;var c=u.focusNode,s,l=u.selection.getNodes().find((function(e){return c.contains(e)})),f,p;return l&&l!==c?null!==(r=l.componentMeta)&&void 0!==r&&r.isContainer?f=l:(f=l.parent,p=l.index+1):f=c,!f||!t||null!==(o=f.componentMeta)&&void 0!==o&&o.checkNestingDown(f,t)?{target:f,index:p}:null}function PL(e,t,n){if(e){if(!t)return e;var r;if(e.isContainerNode){var o=e.children;if(o&&!o.isEmptyNode&&(r=PL(o.get(0))))return r}if(r=PL(e.nextSibling))return r}return n?PL(n.nextSibling,!1,null==n?void 0:n.parent):null}function xL(e,t,n){if(e){var r;if(!t&&e.isContainerNode){var o=e.children,i;if(r=xL(o&&!o.isEmptyNode?o.get(o.size-1):null))return r}if(!t)return e;if(r=xL(e.prevSibling))return r}return n||null}function NL(e,t,n){var r,o=e.document;if(!o)return null;var i={type:F.f.Node,nodes:[t]},a=null==o?void 0:o.focusNode;if(null!=t&&null!==(r=t.componentMeta)&&void 0!==r&&r.isModal)return{container:a,ref:n};var u=o.checkNesting;if(!n&&a&&e.contains(a))return u(a,i)?{container:a}:null;if(e.isRootNode&&e.children){var c=e.children.filter((function(e){return!!e.isContainerNode&&!!u(e,i)}))[0];return c?{container:c,ref:n}:u(e,i)?{container:e,ref:n}:null}return e.isContainerNode&&u(e,i)?{container:e,ref:n}:e.parent?NL(e.parent,t,{index:e.index}):null}var CL=function e(t){return{init:function e(){var n=t.hotkey,r=t.project,o=t.logger,i=t.canvas,a=i.clipboard;n.bind(["backspace","del"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.currentDocument;if(!Object(V.F)(e)&&n){e.preventDefault();var a=n.selection,u;a.getTopNodes().forEach((function(e){null!=e&&e.canPerformAction("remove")&&e&&n.removeNode(e)})),a.clear()}}})),n.bind("escape",(function(e,t){var n;if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var a=null===(n=r.currentDocument)||void 0===n?void 0:n.selection;!Object(V.F)(e)&&a&&(e.preventDefault(),a.clear())}})),n.bind(["command+c","ctrl+c","command+x","ctrl+x"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.currentDocument;if(!Object(V.F)(e)&&n){e.preventDefault();var u=n.selection.getTopNodes(!0);if((u=u.filter((function(e){return null==e?void 0:e.canPerformAction("copy")})))&&!(u.length<1)){var c,s,l={type:"nodeSchema",componentsMap:{},componentsTree:u.map((function(e){return null==e?void 0:e.exportSchema(F.g.Clone)}))},f;a.setData(l),t&&t.indexOf("x")>0&&u.forEach((function(e){var t=null==e?void 0:e.parent;null==t||t.select(),null==e||e.remove()}))}}}})),n.bind(["command+v","ctrl+v"],(function(e,n){if(o.info("action ".concat(n," is triggered")),!i.isInLiveEditing){var u=null==r?void 0:r.currentDocument;!Object(V.F)(e)&&u&&a.waitPasteData(e,(function(e){var n=e.componentsTree;if(n){var r=kL(t,n)||{},o=r.target,a=r.index;if(!o)return;var c=n.filter((function(e){var t={type:F.f.Node,nodes:[e]};return u.checkNesting(o,t)}));if(0===c.length)return;var s=EL(o,c,a);s&&(u.selection.selectAll(s.map((function(e){return e.id}))),setTimeout((function(){var e;return null===(e=i.activeTracker)||void 0===e?void 0:e.track(s[0])}),10))}}))}})),n.bind(["command+z","ctrl+z"],(function(e,t){var n,a;if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var u=null===(n=r.currentDocument)||void 0===n?void 0:n.history;if(!Object(V.F)(e)&&u){e.preventDefault();var c=null===(a=r.currentDocument)||void 0===a?void 0:a.selection,s=(null==c?void 0:c.selected)&&Array.from(null==c?void 0:c.selected);u.back(),null==c||c.selectAll(s)}}})),n.bind(["command+y","ctrl+y","command+shift+z"],(function(e,t){var n,a;if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var u=null===(n=r.currentDocument)||void 0===n?void 0:n.history;if(!Object(V.F)(e)&&u){e.preventDefault();var c=null===(a=r.currentDocument)||void 0===a?void 0:a.selection,s=(null==c?void 0:c.selected)&&Array.from(null==c?void 0:c.selected);u.forward(),null==c||c.selectAll(s)}}})),n.bind(["left","right"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.currentDocument;if(!Object(V.F)(e)&&n){e.preventDefault();var a=n.selection.getTopNodes(!0);if(a&&!(a.length<1)){var u=a[0],c="left"===t?null==u?void 0:u.prevSibling:null==u?void 0:u.nextSibling;null==c||c.select()}}}})),n.bind(["up","down"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.currentDocument;if(!Object(V.F)(e)&&n){e.preventDefault();var a=n.selection.getTopNodes(!0);if(a&&!(a.length<1)){var u=a[0];if("down"===t){var c=PL(u,!0,null==u?void 0:u.parent);null==c||c.select()}else if("up"===t){var s=xL(u,!0,null==u?void 0:u.parent);null==s||s.select()}}}}})),n.bind(["option+left","option+right"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.currentDocument;if(!Object(V.F)(e)&&n){e.preventDefault();var a=n.selection.getTopNodes(!0);if(a&&!(a.length<1)){var u=a[0],c=null==u?void 0:u.parent;if(c){var s=t&&/(left)$/.test(t),l=s?u.prevSibling:u.nextSibling;l&&(s?c.insertBefore(u,l,!0):c.insertAfter(u,l,!0),null==u||u.select())}}}}})),n.bind(["option+up"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.currentDocument;if(!Object(V.F)(e)&&n){e.preventDefault();var a=n.selection.getTopNodes(!0);if(a&&!(a.length<1)){var u=a[0],c=null==u?void 0:u.parent;if(c){var s=u.prevSibling;if(s){if(s.isContainerNode){var l=NL(s,u,null);s.insertAfter(u,l.ref,!0)}else c.insertBefore(u,s,!0);null==u||u.select()}else{var f=NL(c,u,null),p;if(f)f.container.internalToShellNode().insertBefore(u,f.ref),null==u||u.select()}}}}}})),n.bind(["option+down"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.getCurrentDocument();if(!Object(V.F)(e)&&n){e.preventDefault();var a=n.selection.getTopNodes(!0);if(a&&!(a.length<1)){var u=a[0],c=null==u?void 0:u.parent;if(c){var s=u.nextSibling;if(s)s.isContainerNode?s.insertBefore(u,void 0):c.insertAfter(u,s,!0),null==u||u.select();else{var l=NL(c,u,null),f;if(l)l.container.internalToShellNode().insertAfter(u,l.ref,!0),null==u||u.select()}}}}}}))}}};function TL(){return(TL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function RL(e){return React.createElement(V.f,TL({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM540 701v53c0 4.4-3.6 8-8 8h-40c-4.4 0-8-3.6-8-8v-53c-12.1-8.7-20-22.9-20-39 0-26.5 21.5-48 48-48s48 21.5 48 48c0 16.1-7.9 30.3-20 39z m152-237H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224z"}))}function AL(){return(AL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function LL(e){return React.createElement(V.f,AL({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32z m-40 376H232V536h560v304z"}),React.createElement("path",{d:"M484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53c12.1-8.7 20-22.9 20-39 0-26.5-21.5-48-48-48s-48 21.5-48 48c0 16.1 7.9 30.3 20 39z"}))}function ML(){return(ML=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function DL(e){return React.createElement(V.f,ML({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512.002047 771.904425c-10.152221 0.518816-20.442588-2.800789-28.202319-10.598382L77.902254 315.937602c-14.548344-14.618952-14.548344-38.318724 0-52.933583 14.544251-14.614859 38.118156-14.614859 52.662407 0l381.437385 418.531212L893.432269 263.004019c14.544251-14.614859 38.125319-14.614859 52.662407 0 14.552437 14.614859 14.552437 38.314631 0 52.933583L540.205389 761.307066C532.451798 769.103636 522.158361 772.424264 512.002047 771.904425z"}))}function IL(){return(IL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function BL(e){return React.createElement(V.f,IL({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M479.552 276.544l296.896 2.752v75.712L960 249.024l-183.552-106.048v92.48h-271.36l-46.656-2.752-190.784 203.648 30.976 30.976 180.928-190.784z m296.896 484.928l-253.056-2.816-262.976-263.04H64v43.904h175.296l262.912 262.976 274.176 2.816v75.712L960 774.976l-183.616-105.984 0.064 92.48z"}))}function VL(){return(VL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function FL(e){return React.createElement(V.f,VL({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512.7 700.9c-102.1 0-184.9-82.8-184.9-184.9 0-28.6 6.5-55.6 18-79.7l-93.7-93.7C138.9 418.1 65.2 514 65.2 514s200.4 260.7 447.6 260.7c50.2 0 98.6-10.8 143.6-27.9l-63.9-63.9c-24.2 11.5-51.2 18-79.8 18z"}),React.createElement("path",{d:"M960.3 514S759.9 253.3 512.7 253.3c-49.5 0-97.2 10.5-141.7 27.2L243.5 153.1l-45.3 45.3 262.3 262.2c-13.1 13.3-21.2 31.5-21.2 51.6 0 40.6 32.9 73.4 73.4 73.4 20.1 0 38.4-8.1 51.6-21.2l260.9 260.8 45.3-45.3-95.6-95.6C887.2 609.1 960.3 514 960.3 514z m-376.7-20.9c-6.8-25.2-26.6-45.1-51.9-51.9L437.5 347c23-10.3 48.5-16 75.3-16 102.1 0 184.9 82.8 184.9 184.9 0 26.8-5.7 52.2-15.9 75.2l-98.2-98z"}))}function GL(){return(GL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function HL(e){return React.createElement(V.f,GL({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512 256c-163.8 0-291.4 97.6-448 256 134.8 135.4 248 256 448 256 199.8 0 346.8-152.8 448-253.2C856.4 397.2 709.6 256 512 256z m0 438.6c-98.8 0-179.2-82-179.2-182.6 0-100.8 80.4-182.6 179.2-182.6s179.2 82 179.2 182.6c0 100.8-80.4 182.6-179.2 182.6z"}),React.createElement("path",{d:"M512 448c0-15.8 5.8-30.2 15.2-41.4-5-0.8-10-1.2-15.2-1.2-57.6 0-104.6 47.8-104.6 106.6s47 106.6 104.6 106.6 104.6-47.8 104.6-106.6c0-4.6-0.4-9.2-0.8-13.8-11 8.6-24.6 13.8-39.6 13.8-35.6 0-64.2-28.6-64.2-64z"}))}function UL(){return(UL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function zL(e){return React.createElement(V.f,UL({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M911.457097 168.557714a35.986286 35.986286 0 0 1-8.009143 40.009143L621.73824 490.276571V914.285714c0 14.848-9.142857 28.013714-22.272 33.718857A42.349714 42.349714 0 0 1 585.166811 950.857143a34.084571 34.084571 0 0 1-25.709714-10.861714l-146.285714-146.285715A36.425143 36.425143 0 0 1 402.309669 768v-277.723429L120.599954 208.566857a35.986286 35.986286 0 0 1-8.009143-40.009143C118.295954 155.428571 131.461669 146.285714 146.309669 146.285714h731.428571c14.848 0 28.013714 9.142857 33.718857 22.272z",fill:"#666","p-id":"2025"}))}function WL(){return(WL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $L(e){return React.createElement(V.f,WL({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M60.235294 542.117647c0 132.879059 103.062588 240.941176 229.677176 240.941176l0 60.235294c-159.864471 0-289.912471-135.107765-289.912471-301.176471s130.048-301.176471 289.912471-301.176471l254.735059 0-99.147294-99.147294 42.586353-42.586353 171.911529 171.851294-171.851294 171.911529-42.646588-42.646588 99.207529-99.147294-254.795294 0c-126.614588 0-229.677176 108.062118-229.677176 240.941176zM734.087529 240.941176l0 60.235294c126.614588 0 229.677176 108.062118 229.677176 240.941176s-103.062588 240.941176-229.677176 240.941176l-254.795294 0 99.147294-99.147294-42.586353-42.586353-171.851294 171.851294 171.911529 171.911529 42.586353-42.586353-99.207529-99.207529 254.735059 0c159.924706 0 289.972706-135.107765 289.972706-301.176471s-130.048-301.176471-289.912471-301.176471z"}))}function KL(){return(KL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function XL(e){return React.createElement(V.f,KL({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512 1024A512 512 0 1 1 512 0a512 512 0 0 1 0 1024z m0-256a256 256 0 1 0 0-512 256 256 0 0 0 0 512z"}))}function qL(){return(qL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function YL(e){return React.createElement(V.f,qL({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512 1024A512 512 0 1 1 512 0a512 512 0 0 1 0 1024z m0-64A448 448 0 1 0 512 64a448 448 0 0 0 0 896z"}))}function JL(){return(JL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ZL(e){return React.createElement(V.f,JL({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M965.824 405.952a180.48 180.48 0 0 1-117.12-85.376 174.464 174.464 0 0 1-16-142.08 22.208 22.208 0 0 0-7.04-23.552 480.576 480.576 0 0 0-153.6-89.216 23.104 23.104 0 0 0-24.32 5.76 182.208 182.208 0 0 1-135.68 57.92 182.208 182.208 0 0 1-133.12-56.64 23.104 23.104 0 0 0-26.88-7.04 478.656 478.656 0 0 0-153.6 89.856 22.208 22.208 0 0 0-7.04 23.552 174.464 174.464 0 0 1-16 141.44A180.48 180.48 0 0 1 58.24 405.952a22.4 22.4 0 0 0-17.28 17.792 455.08 455.08 0 0 0 0 176.512 22.4 22.4 0 0 0 17.28 17.792 180.48 180.48 0 0 1 117.12 84.736c25.408 42.944 31.232 94.592 16 142.08a22.208 22.208 0 0 0 7.04 23.552A480.576 480.576 0 0 0 352 957.632h7.68a23.04 23.04 0 0 0 16.64-7.04 184.128 184.128 0 0 1 266.944 0c6.592 8.96 18.752 11.968 28.8 7.04a479.36 479.36 0 0 0 156.16-88.576 22.208 22.208 0 0 0 7.04-23.552 174.464 174.464 0 0 1 13.44-142.72 180.48 180.48 0 0 1 117.12-84.736 22.4 22.4 0 0 0 17.28-17.792 452.613 452.613 0 0 0 0-176.512 23.04 23.04 0 0 0-17.28-17.792z m-42.88 169.408a218.752 218.752 0 0 0-128 98.112 211.904 211.904 0 0 0-21.76 156.736 415.936 415.936 0 0 1-112 63.68 217.472 217.472 0 0 0-149.12-63.68 221.312 221.312 0 0 0-149.12 63.68 414.592 414.592 0 0 1-112-63.68c12.8-53.12 4.288-109.12-23.68-156.096A218.752 218.752 0 0 0 101.12 575.36a386.176 386.176 0 0 1 0-127.36 218.752 218.752 0 0 0 128-98.112c27.2-47.552 34.944-103.68 21.76-156.8a415.296 415.296 0 0 1 112-63.68A221.44 221.44 0 0 0 512 187.392a218.24 218.24 0 0 0 149.12-57.984 413.952 413.952 0 0 1 112 63.744 211.904 211.904 0 0 0 23.04 156.096 218.752 218.752 0 0 0 128 98.112 386.65 386.65 0 0 1 0 127.36l-1.28 0.64z"}),React.createElement("path",{d:"M512 320.576c-105.984 0-192 85.568-192 191.104a191.552 191.552 0 0 0 192 191.104c106.112 0 192.064-85.568 192.064-191.104a190.72 190.72 0 0 0-56.256-135.168 192.448 192.448 0 0 0-135.744-55.936z m0 318.528c-70.656 0-128-57.088-128-127.424 0-70.4 57.344-127.36 128-127.36 70.72 0 128 56.96 128 127.36 0 33.792-13.44 66.176-37.44 90.112a128.32 128.32 0 0 1-90.496 37.312z"}))}function QL(e){return(QL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hM(r.key),r)}}function nM(e,t,n){return t&&tM(e.prototype,t),n&&tM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rM(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oM(e,t)}function oM(e,t){return(oM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function iM(e){var t=cM();return function n(){var r=sM(e),o;if(t){var i=sM(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return aM(this,o)}}function aM(e,t){if(t&&("object"===QL(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return uM(e)}function uM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cM(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function sM(e){return(sM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function lM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lM(Object(n),!0).forEach((function(t){pM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pM(e,t,n){return(t=hM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hM(e){var t=dM(e,"string");return"symbol"===QL(t)?t:String(t)}function dM(e,t){if("object"!==QL(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==QL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function vM(e,t,n,r){var o,i,a=null==n?void 0:n.node,u=null==a||null===(o=a.componentMeta)||void 0===o?void 0:o.npm,c=[null==u?void 0:u.package,null==u?void 0:u.componentName].filter((function(e){return!!e})).join("-")||(null==a||null===(i=a.componentMeta)||void 0===i?void 0:i.componentName)||"";e.emit("outlinePane.".concat(t),fM({selected:c},r))}CL.pluginName="___builtin_hotkey___",RL.displayName="IconLock",LL.displayName="IconUnlock",DL.displayName="IconArrowRight",BL.displayName="IconCond",FL.displayName="IconEyeClose",HL.displayName="IconEye",zL.displayName="IconFilter",$L.displayName="IconLoop",XL.displayName="IconRadioActive",YL.displayName="IconRadio",ZL.displayName="IconSetting";var yM=function(e){rM(n,e);var t=iM(n);function n(){var e;eM(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editing:!1,title:""},e.enableEdit=function(t){t.preventDefault(),e.setState({editing:!0})},e.saveEdit=function(t){var n=e.props.treeNode,r=t.target.value||"";n.setTitleLabel(r),vM(e.props.pluginContext.event,"rename",n,{value:r}),e.cancelEdit()},e.handleKeyUp=function(t){13===t.keyCode&&e.saveEdit(t),27===t.keyCode&&e.cancelEdit()},e.lastInput=void 0,e.setCaret=function(t){t&&e.lastInput!==t&&(t.focus(),t.select())},e}return nM(n,[{key:"cancelEdit",value:function e(){this.setState({editing:!1}),this.lastInput=void 0}},{key:"componentDidMount",value:function e(){var t=this,n=this.props.treeNode;this.setState({editing:!1,title:n.titleLabel}),n.onTitleLabelChanged=function(){t.setState({title:n.titleLabel})}}},{key:"render",value:function e(){var t=this.props,n=t.treeNode,o=t.isModal,i=t.pluginContext,a=this.state.editing,u=!n.isRoot(),c=n.node,s=c.isParentalNode,l=c.isContainerNode,f;if(u){var p,h=12*n.depth;f={paddingLeft:h+(o?12:0),marginLeft:-h}}var d=n.filterReult,v=d.filterWorking,y=d.matchSelf,m=d.keywords,b=i.extraTitle,g=i.intlNode,w=i.common,O=i.config,_=w.editorCabin.Tip,j=w.editorCabin.Title,S=u&&s&&!o,E=O.get("enableCanvasLock",!1)&&l&&u&&s,k=u&&s;return React.createElement("div",{className:rr()("tree-node-title",{editing:a}),style:f,"data-id":n.id,onClick:function e(){var t,n,r,i;o?c.visible?null===(t=c.document)||void 0===t||null===(n=t.modalNodesManager)||void 0===n||n.setInvisible(c):null===(r=c.document)||void 0===r||null===(i=r.modalNodesManager)||void 0===i||i.setVisible(c):c.conditionGroup&&c.setConditionalVisible()}},o&&c.visible&&React.createElement("div",{onClick:function e(){var t,n;null===(t=c.document)||void 0===t||null===(n=t.modalNodesManager)||void 0===n||n.setInvisible(c)}},React.createElement(XL,{className:"tree-node-modal-radio-active"})),o&&!c.visible&&React.createElement("div",{onClick:function e(){var t,n;null===(t=c.document)||void 0===t||null===(n=t.modalNodesManager)||void 0===n||n.setVisible(c)}},React.createElement(YL,{className:"tree-node-modal-radio"})),u&&React.createElement(wM,{expandable:this.props.expandable,expanded:this.props.expanded,treeNode:n,pluginContext:this.props.pluginContext}),React.createElement("div",{className:"tree-node-icon"},Object(V.n)(n.icon)),React.createElement("div",{className:"tree-node-title-label"},a?React.createElement("input",{className:"tree-node-title-input",defaultValue:this.state.title,onBlur:this.saveEdit,ref:this.setCaret,onKeyUp:this.handleKeyUp}):React.createElement(r.Fragment,null,React.createElement(j,{title:this.state.title,match:v&&y,keywords:m}),b&&React.createElement(b,{node:null==n?void 0:n.node}),c.slotFor&&React.createElement("a",{className:"tree-node-tag slot"},React.createElement(_,null,g("Slot for {prop}",{prop:c.slotFor.key}))),c.hasLoop()&&React.createElement("a",{className:"tree-node-tag loop"},React.createElement($L,null),React.createElement(_,null,g("Loop"))),c.hasCondition()&&!c.conditionGroup&&React.createElement("a",{className:"tree-node-tag cond"},React.createElement(BL,null),React.createElement(_,null,g("Conditional"))))),S&&React.createElement(gM,{hidden:this.props.hidden,treeNode:n,pluginContext:this.props.pluginContext}),E&&React.createElement(bM,{locked:this.props.locked,treeNode:n,pluginContext:this.props.pluginContext}),k&&React.createElement(mM,{treeNode:n,pluginContext:this.props.pluginContext,onClick:this.enableEdit}))}}]),n}(r.Component),mM=function(e){rM(n,e);var t=iM(n);function n(){return eM(this,n),t.apply(this,arguments)}return nM(n,[{key:"render",value:function e(){var t=this.props.pluginContext,n=t.intl,r,o=t.common.editorCabin.Tip;return React.createElement("div",{className:"tree-node-rename-btn",onClick:this.props.onClick},React.createElement(ZL,null),React.createElement(o,null,n("Rename")))}}]),n}(r.Component),bM=function(e){rM(n,e);var t=iM(n);function n(){return eM(this,n),t.apply(this,arguments)}return nM(n,[{key:"render",value:function e(){var t=this.props,n=t.treeNode,r=t.locked,o=this.props.pluginContext,i=o.intl,a,u=o.common.editorCabin.Tip;return React.createElement("div",{className:"tree-node-lock-btn",onClick:function e(t){t.stopPropagation(),n.setLocked(!r)}},r?React.createElement(LL,null):React.createElement(RL,null),React.createElement(u,null,i(r?"Unlock":"Lock")))}}]),n}(r.Component),gM=function(e){rM(n,e);var t=iM(n);function n(){return eM(this,n),t.apply(this,arguments)}return nM(n,[{key:"render",value:function e(){var t=this,n=this.props,r=n.treeNode,o=n.hidden,i=this.props.pluginContext,a=i.intl,u,c=i.common.editorCabin.Tip;return React.createElement("div",{className:"tree-node-hide-btn",onClick:function e(n){n.stopPropagation(),vM(t.props.pluginContext.event,o?"show":"hide",r),r.setHidden(!o)}},o?React.createElement(HL,null):React.createElement(FL,null),React.createElement(c,null,a(o?"Show":"Hide")))}}]),n}(r.Component),wM=function(e){rM(n,e);var t=iM(n);function n(){return eM(this,n),t.apply(this,arguments)}return nM(n,[{key:"render",value:function e(){var t=this,n=this.props,r=n.treeNode,o=n.expanded,i;return n.expandable?React.createElement("div",{className:"tree-node-expand-btn",onClick:function e(n){o&&n.stopPropagation(),vM(t.props.pluginContext.event,o?"collapse":"expand",r),r.setExpanded(!o)}},React.createElement(DL,{size:"small"})):React.createElement("i",{className:"tree-node-expand-placeholder"})}}]),n}(r.Component);function OM(e){return(OM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EM(r.key),r)}}function SM(e,t,n){return t&&jM(e.prototype,t),n&&jM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function EM(e){var t=kM(e,"string");return"symbol"===OM(t)?t:String(t)}function kM(e,t){if("object"!==OM(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==OM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function PM(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xM(e,t)}function xM(e,t){return(xM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function NM(e){var t=RM();return function n(){var r=AM(e),o;if(t){var i=AM(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return CM(this,o)}}function CM(e,t){if(t&&("object"===OM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return TM(e)}function TM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RM(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function AM(e){return(AM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var LM=function(e){PM(n,e);var t=NM(n);function n(e){var r;_M(this,n),(r=t.call(this,e)).state={filterWorking:!1,matchChild:!1},r.offExpandedChanged=void 0;var o,i=r.props.treeNode.filterReult,a=i.filterWorking,u=i.matchChild;return r.setState({filterWorking:a,matchChild:u}),r}return SM(n,[{key:"componentDidMount",value:function e(){var t=this,n=this.props.treeNode;n.onFilterResultChanged=function(){var e=n.filterReult,r=e.filterWorking,o=e.matchChild;t.setState({filterWorking:r,matchChild:o})}}},{key:"componentWillUnmount",value:function e(){this.offExpandedChanged&&this.offExpandedChanged()}},{key:"render",value:function e(){var t=this.props,n=t.treeNode,r=t.isModal,o=t.expanded,i=this.state,a=i.filterWorking,u=i.matchChild,c;return a&&u||o?React.createElement("div",{className:"tree-node-branches"},!r&&React.createElement(DM,{treeNode:n,pluginContext:this.props.pluginContext}),React.createElement(MM,{treeNode:n,isModal:r||!1,pluginContext:this.props.pluginContext})):null}}]),n}(r.Component),MM=function(e){PM(n,e);var t=NM(n);function n(){var e;_M(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={filterWorking:!1,matchSelf:!1,keywords:null,dropDetail:null},e.offLocationChanged=void 0,e}return SM(n,[{key:"componentDidMount",value:function e(){var t=this,n,r=this.props,o=r.treeNode,i,a=r.pluginContext.project,u=o.filterReult,c=u.filterWorking,s=u.matchSelf,l=u.keywords,f=o.dropDetail;this.setState({filterWorking:c,matchSelf:s,keywords:l,dropDetail:f}),o.onFilterResultChanged=function(){var e=o.filterReult,n=e.filterWorking,r=e.matchSelf,i=e.keywords;t.setState({filterWorking:n,matchSelf:r,keywords:i})},this.offLocationChanged=null===(n=a.currentDocument)||void 0===n?void 0:n.onDropLocationChanged((function(){t.setState({dropDetail:o.dropDetail})}))}},{key:"componentWillUnmount",value:function e(){this.offLocationChanged&&this.offLocationChanged()}},{key:"render",value:function e(){var t,n=this,r,o=this.props,i=o.treeNode,a=o.isModal,u=[],c=[],s,l=this.state,f=l.filterWorking,p=l.matchSelf,h=l.keywords,d=this.props.pluginContext.common.editorCabin.Title,v=function e(){c.length>0&&(u.push(React.createElement("div",{key:s.id,className:"condition-group-container","data-id":s.firstNode.id},React.createElement("div",{className:"condition-group-title"},React.createElement(d,{title:s.title,match:f&&p,keywords:h})),c)),c=[])},y=this.state.dropDetail,m=null==y?void 0:y.index,b=React.createElement("div",{key:"insertion",className:rr()("insertion",{invalid:!1===(null==y?void 0:y.valid)})});null===(t=i.children)||void 0===t||t.forEach((function(e,t){var r=e.node.componentMeta.isModal||!1;if(a==r){var o=e.node.conditionGroup;o!==s&&v(),o?(s=o,t===m&&(c.length>0?c.push(b):u.push(b)),c.push(React.createElement(JM,{key:e.id,treeNode:e,isModal:a,pluginContext:n.props.pluginContext}))):(t===m&&u.push(b),u.push(React.createElement(JM,{key:e.id,treeNode:e,isModal:a,pluginContext:n.props.pluginContext})))}})),v();var g=(null===(r=i.children)||void 0===r?void 0:r.length)||0;return null!=m&&m>=g&&u.push(b),React.createElement("div",{className:"tree-node-children"},u)}}]),n}(r.Component),DM=function(e){PM(n,e);var t=NM(n);function n(){return _M(this,n),t.apply(this,arguments)}return SM(n,[{key:"render",value:function e(){var t,n,r=this,o=this.props.treeNode;if(!o.hasSlots())return null;var i=this.props.pluginContext.common.editorCabin.Title;return React.createElement("div",{className:rr()("tree-node-slots",{"insertion-at-slots":"slots"===(null===(t=o.dropDetail)||void 0===t||null===(n=t.focus)||void 0===n?void 0:n.type)}),"data-id":o.id},React.createElement("div",{className:"tree-node-slots-title"},React.createElement(i,{title:{type:"i18n",intl:this.props.pluginContext.intlNode("Slots")}})),o.slots.map((function(e){return React.createElement(JM,{key:e.id,treeNode:e,pluginContext:r.props.pluginContext})})))}}]),n}(r.Component);function IM(e){return(IM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,GM(r.key),r)}}function FM(e,t,n){return t&&VM(e.prototype,t),n&&VM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function GM(e){var t=HM(e,"string");return"symbol"===IM(t)?t:String(t)}function HM(e,t){if("object"!==IM(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==IM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function UM(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zM(e,t)}function zM(e,t){return(zM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function WM(e){var t=XM();return function n(){var r=qM(e),o;if(t){var i=qM(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return $M(this,o)}}function $M(e,t){if(t&&("object"===IM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return KM(e)}function KM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XM(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function qM(e){return(qM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var YM=function(e){UM(n,e);var t=WM(n);function n(e){var r,o;BM(this,n),(o=t.call(this,e)).modalNodesManager=void 0,o.pluginContext=void 0,o.pluginContext=e.pluginContext;var i=o.pluginContext.project;return o.modalNodesManager=null===(r=i.currentDocument)||void 0===r?void 0:r.modalNodesManager,o}return FM(n,[{key:"hideAllNodes",value:function e(){var t;null===(t=this.modalNodesManager)||void 0===t||t.hideModalNodes()}},{key:"render",value:function e(){var t,n,r=this.props.treeNode,o,i=null===(t=this.pluginContext.project.currentDocument)||void 0===t?void 0:t.root,a=r.tree.getTreeNode(i),u=a.expanded,c=!(null===(n=this.modalNodesManager)||void 0===n||!n.getVisibleModalNode());return React.createElement("div",{className:"tree-node-modal"},React.createElement("div",{className:"tree-node-modal-title"},React.createElement("span",null,this.pluginContext.intlNode("Modal View")),React.createElement("div",{className:"tree-node-modal-title-visible-icon",onClick:this.hideAllNodes.bind(this)},c?React.createElement(FL,null):null)),React.createElement("div",{className:"tree-pane-modal-content"},React.createElement(LM,{treeNode:a,expanded:u,isModal:!0,pluginContext:this.pluginContext})))}}]),n}(r.Component),JM=function(e){UM(n,e);var t=WM(n);function n(e){var r,o;BM(this,n),(o=t.call(this,e)).state={expanded:!1,selected:!1,hidden:!1,locked:!1,detecting:!1,isRoot:!1,highlight:!1,dropping:!1,conditionFlow:!1,expandable:!1},o.eventOffCallbacks=[];var i=o.props,a=i.treeNode,u=i.isRootNode;return o.state={expanded:!!u||a.expanded,selected:a.selected,hidden:a.hidden,locked:a.locked,detecting:a.detecting,isRoot:a.isRoot(),dropping:null!=(null===(r=a.dropDetail)||void 0===r?void 0:r.index),conditionFlow:null!=a.node.conditionGroup,highlight:a.isFocusingNode(),expandable:a.expandable},o}return FM(n,[{key:"componentDidMount",value:function e(){var t=this,n,r,o=this.props,i=o.treeNode,a,u,c=o.pluginContext.project.currentDocument;i.onExpandedChanged=function(e){t.setState({expanded:e})},i.onHiddenChanged=function(e){t.setState({hidden:e})},i.onLockedChanged=function(e){t.setState({locked:e})},i.onExpandableChanged=function(e){t.setState({expandable:e})},this.eventOffCallbacks.push(null==c?void 0:c.onDropLocationChanged((function(e){var n;t.setState({dropping:null!=(null===(n=i.dropDetail)||void 0===n?void 0:n.index)})})));var s=null==c||null===(n=c.selection)||void 0===n?void 0:n.onSelectionChange((function(){t.setState({selected:i.selected})}));this.eventOffCallbacks.push(s);var l=null==c||null===(r=c.detecting)||void 0===r?void 0:r.onDetectingChange((function(){t.setState({detecting:i.detecting})}));this.eventOffCallbacks.push(l)}},{key:"componentWillUnmount",value:function e(){var t;null===(t=this.eventOffCallbacks)||void 0===t||t.forEach((function(e){e()}))}},{key:"shouldShowModalTreeNode",value:function e(){var t,n,r=this.props,o=r.treeNode,i=r.isRootNode,a=r.pluginContext;if(!i)return!1;var u,c=null===(t=a.project.currentDocument)||void 0===t?void 0:t.root,s,l=null===(n=o.tree.getTreeNode(c).children)||void 0===n?void 0:n.filter((function(e){var t;return null===(t=e.node.componentMeta)||void 0===t?void 0:t.isModal}));return!!(l&&l.length>0)}},{key:"render",value:function e(){var t=this.props,n=t.treeNode,r=t.isModal,o=t.isRootNode,i=rr()("tree-node",{expanded:this.state.expanded,selected:this.state.selected,hidden:this.state.hidden,locked:this.state.locked,detecting:this.state.detecting,dropping:this.state.dropping,"is-root":this.state.isRoot,"condition-flow":this.state.conditionFlow,highlight:this.state.highlight}),a=this.shouldShowModalTreeNode(),u=n.filterReult,c=u.filterWorking,s=u.matchChild,l=u.matchSelf;return o||!c||s||l?React.createElement("div",{className:i,"data-id":n.id},React.createElement(yM,{treeNode:n,isModal:r,expanded:this.state.expanded,hidden:this.state.hidden,locked:this.state.locked,expandable:this.state.expandable,pluginContext:this.props.pluginContext}),a&&React.createElement(YM,{treeNode:n,pluginContext:this.props.pluginContext}),React.createElement(LM,{treeNode:n,isModal:!1,expanded:this.state.expanded,pluginContext:this.props.pluginContext})):null}}]),n}(r.Component);function ZM(e){return(ZM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function QM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nD(r.key),r)}}function tD(e,t,n){return t&&eD(e.prototype,t),n&&eD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nD(e){var t=rD(e,"string");return"symbol"===ZM(t)?t:String(t)}function rD(e,t){if("object"!==ZM(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ZM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function oD(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iD(e,t)}function iD(e,t){return(iD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function aD(e){var t=sD();return function n(){var r=lD(e),o;if(t){var i=lD(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return uD(this,o)}}function uD(e,t){if(t&&("object"===ZM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cD(e)}function cD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sD(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function lD(e){return(lD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function fD(e,t){var n=e.target;return n&&t.contains(n)&&(n=n.closest("[data-id]"))&&t.contains(n)&&n.dataset.id||null}var pD=function(e){oD(n,e);var t=aD(n);function n(){var e;QM(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).shell=null,e.onClick=function(t){var n;if(e.ignoreUpSelected)e.boostEvent=void 0;else if(e.boostEvent&&Object(V.W)(e.boostEvent,t.nativeEvent))e.boostEvent=void 0;else{e.boostEvent=void 0;var r=e.getTreeNodeFromEvent(t);if(r){var o=r.node;if(Object(V.i)(o,t)){var i=e.props.pluginContext,a=i.project,u=i.event,c=i.canvas,s=a.currentDocument,l=null==s?void 0:s.selection,f=null==s?void 0:s.focusNode,p=o.id,h=t.metaKey||t.ctrlKey||t.shiftKey;if(null===(n=c.activeTracker)||void 0===n||n.track(o),h&&!o.contains(f)&&l.has(p))Object(V.F)(t.nativeEvent)||l.remove(p);else{var d,v,y;l.select(p);var m=null==l||null===(d=l.getNodes())||void 0===d?void 0:d[0],b=null==m||null===(v=m.componentMeta)||void 0===v?void 0:v.npm,g=[null==b?void 0:b.package,null==b?void 0:b.componentName].filter((function(e){return!!e})).join("-")||(null==m||null===(y=m.componentMeta)||void 0===y?void 0:y.componentName)||"";u.emit("outlinePane.select",{selected:g})}}}}},e.onDoubleClick=function(t){var n;t.preventDefault();var r=e.getTreeNodeFromEvent(t);(null==r?void 0:r.id)!==(null===(n=e.state.root)||void 0===n?void 0:n.id)&&(null!=r&&r.expanded?e.props.tree.collapseAllDecendants(r):e.props.tree.expandAllDecendants(r))},e.onMouseOver=function(t){e.hover(t)},e.ignoreUpSelected=!1,e.boostEvent=void 0,e.onMouseDown=function(t){var n,r;if(!Object(V.F)(t.nativeEvent)){var o=e.getTreeNodeFromEvent(t);if(o){var i=o.node;if(Object(V.i)(i,t)){var a=e.props.pluginContext,u=a.project,c=a.canvas,s=null===(n=u.currentDocument)||void 0===n?void 0:n.selection,l=null===(r=u.currentDocument)||void 0===r?void 0:r.focusNode,f=t.metaKey||t.ctrlKey||t.shiftKey,p;if(0===t.button&&!i.contains(l)){var h,d=[i];if(e.ignoreUpSelected=!1,f){var v;if(!s.has(i.id))null===(v=c.activeTracker)||void 0===v||v.track(i),s.add(i.id),e.ignoreUpSelected=!0;s.remove(l.id),d=s.getTopNodes()}else s.has(i.id)&&(d=s.getTopNodes());e.boostEvent=t.nativeEvent,null===(h=c.dragon)||void 0===h||h.boost({type:F.f.Node,nodes:d},e.boostEvent)}}}}},e.onMouseLeave=function(){var t,n,r=e.props.pluginContext.project.currentDocument;null==r||r.detecting.leave()},e.state={root:null},e}return tD(n,[{key:"hover",value:function e(t){var n,r,o,i=null===(n=this.props.pluginContext.project.currentDocument)||void 0===n?void 0:n.detecting;if(null==i||!i.enable){var a=null===(r=this.getTreeNodeFromEvent(t))||void 0===r?void 0:r.node;null==i||i.capture(a)}}},{key:"getTreeNodeFromEvent",value:function e(t){if(this.shell){var n=fD(t,this.shell),r;if(n)return this.props.tree.getTreeNodeById(n)}}},{key:"componentDidMount",value:function e(){var t=this,n=this.props,r=n.tree,o=n.pluginContext,i=r.root,a=o.project;this.setState({root:i});var u=a.currentDocument;null==u||u.onFocusNodeChanged((function(){t.setState({root:r.root})}))}},{key:"render",value:function e(){var t=this,n;return this.state.root?React.createElement("div",{className:"lc-outline-tree",ref:function e(n){t.shell=n},onMouseDownCapture:this.onMouseDown,onMouseOver:this.onMouseOver,onClick:this.onClick,onDoubleClick:this.onDoubleClick,onMouseLeave:this.onMouseLeave},React.createElement(JM,{key:null===(n=this.state.root)||void 0===n?void 0:n.id,treeNode:this.state.root,pluginContext:this.props.pluginContext,isRootNode:!0})):null}}]),n}(r.Component),hD=n(48),dD="CONDITION",vD="LOOP",yD="LOCKED",mD="HIDDEN",bD=[{value:dD,label:"Conditional rendering"},{value:vD,label:"Loop rendering"},{value:yD,label:"Locked"},{value:mD,label:"Hidden"}],gD=function e(t,n,r){if(!t||!t.node)return!1;if(!n&&0===r.length)return t.setFilterReult({filterWorking:!1,matchChild:!1,matchSelf:!1,keywords:""}),(t.children||[]).concat(t.slots||[]).forEach((function(t){e(t,n,r)})),!1;var o=t.node,i=0===r.length||!!r.find((function(e){switch(e){case dD:return o.hasCondition();case vD:return o.hasLoop();case yD:return t.locked;case mD:return t.hidden;default:return!1}})),a="string"==typeof t.titleLabel&&t.titleLabel.indexOf(n)>-1,u=t.isRoot()||i&&a,c=!!(t.children||[]).concat(t.slots||[]).map((function(t){return e(t,n,r)})).find(Boolean);return t.setFilterReult({filterWorking:!0,matchChild:c,matchSelf:u,keywords:n}),u||c};function wD(e){return(wD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function OD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SD(r.key),r)}}function jD(e,t,n){return t&&_D(e.prototype,t),n&&_D(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function SD(e){var t=ED(e,"string");return"symbol"===wD(t)?t:String(t)}function ED(e,t){if("object"!==wD(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==wD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function kD(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PD(e,t)}function PD(e,t){return(PD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function xD(e){var t=TD();return function n(){var r=RD(e),o;if(t){var i=RD(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return ND(this,o)}}function ND(e,t){if(t&&("object"===wD(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return CD(e)}function CD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TD(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function RD(e){return(RD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var AD=function(e){kD(n,e);var t=xD(n);function n(){var e;OD(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={keywords:"",filterOps:[]},e.handleSearchChange=function(t){e.setState({keywords:t.trim()},e.filterTree)},e.handleOptionChange=function(t){e.setState({filterOps:t},e.filterTree)},e.handleCheckAll=function(){var t,n=e.state.filterOps.length===bD.length?[]:bD.map((function(e){return e.value}));e.handleOptionChange(n)},e}return jD(n,[{key:"filterTree",value:function e(){var t=this.props.tree,n=this.state,r=n.keywords,o=n.filterOps;gD(t.root,r,o)}},{key:"render",value:function e(){var t=this,n=this.state,r=n.keywords,i=n.filterOps,a=i.length>0&&i.length<bD.length,u=i.length===bD.length;return o.a.createElement("div",{className:"lc-outline-filter"},o.a.createElement(ea.Search,{hasClear:!0,shape:"simple",placeholder:this.props.pluginContext.intl("Filter Node"),className:"lc-outline-filter-search-input",value:r,onChange:this.handleSearchChange}),o.a.createElement(ea.Balloon,{v2:!0,align:"br",closable:!1,triggerType:"hover",trigger:o.a.createElement("div",{className:"lc-outline-filter-icon"},o.a.createElement(zL,null))},o.a.createElement(ea.Checkbox,{checked:u,indeterminate:a,onChange:this.handleCheckAll},this.props.pluginContext.intlNode("Check All")),o.a.createElement(ea.Divider,null),o.a.createElement(ea.Checkbox.Group,{value:i,direction:"ver",onChange:this.handleOptionChange},bD.map((function(e){return o.a.createElement(ea.Checkbox,{id:e.value,value:e.value,key:e.value},t.props.pluginContext.intlNode(e.label))})))))}}]),n}(r.Component);function LD(e){return(LD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,BD(r.key),r)}}function ID(e,t,n){return t&&DD(e.prototype,t),n&&DD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function BD(e){var t=VD(e,"string");return"symbol"===LD(t)?t:String(t)}function VD(e,t){if("object"!==LD(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==LD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function FD(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GD(e,t)}function GD(e,t){return(GD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){return t.__proto__=n,t})(e,t)}function HD(e){var t=WD();return function n(){var r=$D(e),o;if(t){var i=$D(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return UD(this,o)}}function UD(e,t){if(t&&("object"===LD(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zD(e)}function zD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WD(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function $D(e){return($D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var KD=function(e){FD(n,e);var t=HD(n);function n(e){var r;MD(this,n),(r=t.call(this,e)).controller=void 0,r.treeMaster=void 0;var o=e.controller,i=e.treeMaster;return r.treeMaster=i,r.controller=o,r}return ID(n,[{key:"componentWillUnmount",value:function e(){this.controller.purge()}},{key:"render",value:function e(){var t=this,n=this.treeMaster.currentTree;return n?o.a.createElement("div",{className:"lc-outline-pane"},o.a.createElement(AD,{tree:n,pluginContext:this.props.pluginContext}),o.a.createElement("div",{ref:function e(n){return t.controller.mount(n)},className:"lc-outline-tree-container"},o.a.createElement(pD,{key:n.id,tree:n,pluginContext:this.props.pluginContext}))):o.a.createElement("div",{className:"lc-outline-pane"},o.a.createElement("p",{className:"lc-outline-notice"},this.props.pluginContext.intl("Initializing")))}}]),n}(r.Component);function XD(){return(XD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qD(e){return React.createElement(V.f,XD({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M128 96h512a64 64 0 0 1 64 64v64a64 64 0 0 1-64 64H128a64 64 0 0 1-64-64V160a64 64 0 0 1 64-64z m32 64a32 32 0 1 0 0 64h448a32 32 0 0 0 0-64H160z m224 576h512a64 64 0 0 1 64 64v64a64 64 0 0 1-64 64H384a64 64 0 0 1-64-64v-64a64 64 0 0 1 64-64z m32 64a32 32 0 0 0 0 64h448a32 32 0 0 0 0-64H416z m-32-384h512a64 64 0 0 1 64 64v64a64 64 0 0 1-64 64H384a64 64 0 0 1-64-64v-64a64 64 0 0 1 64-64z m32 64a32 32 0 0 0 0 64h448a32 32 0 0 0 0-64H416z"}))}qD.displayName="IconOutline";var YD=n(49),JD=n(50),ZD="outline-backup-pane",QD="outline-master-pane";function eI(e){return(eI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oI(r.key),r)}}function rI(e,t,n){return t&&nI(e.prototype,t),n&&nI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oI(e){var t=iI(e,"string");return"symbol"===eI(t)?t:String(t)}function iI(e,t){if("object"!==eI(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var aI=function(){function e(t,n,r){tI(this,e),this.pluginContext=void 0,this.onFilterResultChanged=void 0,this.onExpandedChanged=void 0,this.onHiddenChanged=void 0,this.onLockedChanged=void 0,this.onTitleLabelChanged=void 0,this.onExpandableChanged=void 0,this._expanded=!1,this._node=void 0,this.tree=void 0,this._filterResult={filterWorking:!1,matchChild:!1,matchSelf:!1,keywords:""},this.tree=t,this.pluginContext=r,this._node=n}return rI(e,[{key:"id",get:function e(){return this.node.id}},{key:"expandable",get:function e(){var t;return!this.locked&&(this.hasChildren()||this.hasSlots()||null!=(null===(t=this.dropDetail)||void 0===t?void 0:t.index))}},{key:"notifyExpandableChanged",value:function e(){this.onExpandableChanged&&this.onExpandableChanged(this.expandable)}},{key:"dropDetail",get:function e(){var t,n=null===(t=this.pluginContext.project.getCurrentDocument())||void 0===t?void 0:t.dropLocation;return n&&this.isResponseDropping()&&Object(V.K)(n.detail)?n.detail:null}},{key:"depth",get:function e(){return this.node.zLevel}},{key:"isRoot",value:function e(){var t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=null===(t=this.pluginContext.project.getCurrentDocument())||void 0===t?void 0:t.root;return this.tree.root===this||n&&r===this.node}},{key:"isResponseDropping",value:function e(){var t,n,r=null===(t=this.pluginContext.project.getCurrentDocument())||void 0===t?void 0:t.dropLocation;return!!r&&(null===(n=r.target)||void 0===n?void 0:n.id)===this.id}},{key:"isFocusingNode",value:function e(){var t,n,r,o,i=null===(t=this.pluginContext.project.getCurrentDocument())||void 0===t?void 0:t.dropLocation;return!!i&&(Object(V.K)(i.detail)&&"node"===(null===(n=i.detail.focus)||void 0===n?void 0:n.type)&&(null===(r=i.detail)||void 0===r||null===(o=r.focus)||void 0===o?void 0:o.node.id)===this.id)}},{key:"expanded",get:function e(){return this.isRoot(!0)||this.expandable&&this._expanded}},{key:"setExpanded",value:function e(t){this._expanded=t,this.onExpandedChanged&&this.onExpandedChanged(t)}},{key:"detecting",get:function e(){var t=this.pluginContext.project.currentDocument;return!(null==t||!t.isDetectingNode(this.node))}},{key:"hidden",get:function e(){var t=this.node.isConditionalVisible();return null==t?!this.node.visible:!t}},{key:"setHidden",value:function e(t){this.node.conditionGroup||(this.node.visible=!t,this.onHiddenChanged&&this.onHiddenChanged(t))}},{key:"locked",get:function e(){return this.node.isLocked}},{key:"setLocked",value:function e(t){this.node.lock(t),this.onLockedChanged&&this.onLockedChanged(t)}},{key:"selected",get:function e(){var t,n=null===(t=this.pluginContext.project.getCurrentDocument())||void 0===t?void 0:t.selection;return!!n&&(null==n?void 0:n.has(this.node.id))}},{key:"title",get:function e(){return this.node.title}},{key:"titleLabel",get:function e(){var t=this.title,n,r;return t?(t.label&&(t=t.label),"string"==typeof t?t:Object(V.G)(t)?t[this.pluginContext.getLocale()]:this.node.componentName):""}},{key:"setTitleLabel",value:function e(t){var n;if(t!==this.titleLabel){var r,o;if(""===t)null===(r=this.node.getExtraProp("title",!1))||void 0===r||r.remove();else null===(o=this.node.getExtraProp("title",!0))||void 0===o||o.setValue(t);this.onTitleLabelChanged&&this.onTitleLabelChanged(this)}}},{key:"icon",get:function e(){return this.node.componentMeta.icon}},{key:"parent",get:function e(){var t=this.node.parent;return t?this.tree.getTreeNode(t):null}},{key:"slots",get:function e(){var t=this;return this.node.slots.map((function(e){return t.tree.getTreeNode(e)}))}},{key:"children",get:function e(){var t,n=this;return(null===(t=this.node.children)||void 0===t?void 0:t.map((function(e){return n.tree.getTreeNode(e)})))||null}},{key:"isContainer",value:function e(){return this.node.isContainerNode}},{key:"hasSlots",value:function e(){return this.node.hasSlots()}},{key:"hasChildren",value:function e(){var t;return!(!this.isContainer()||null===(t=this.node.children)||void 0===t||!t.notEmptyNode)}},{key:"select",value:function e(t){var n,r=this.node,o=null===(n=this.pluginContext.project.getCurrentDocument())||void 0===n?void 0:n.selection;t?null==o||o.add(r.id):null==o||o.select(r.id)}},{key:"expand",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.expandable&&!this._expanded&&this.setExpanded(!0),t&&this.expandParents()}},{key:"expandParents",value:function e(){for(var t=this.node.parent;t;)this.tree.getTreeNode(t).setExpanded(!0),t=t.parent}},{key:"node",get:function e(){return this._node}},{key:"setNode",value:function e(t){this._node!==t&&(this._node=t)}},{key:"filterReult",get:function e(){return this._filterResult}},{key:"setFilterReult",value:function e(t){this._filterResult=t,this.onFilterResultChanged&&this.onFilterResultChanged()}}]),e}();function uI(e){return(uI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fI(r.key),r)}}function lI(e,t,n){return t&&sI(e.prototype,t),n&&sI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fI(e){var t=pI(e,"string");return"symbol"===uI(t)?t:String(t)}function pI(e,t){if("object"!==uI(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==uI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var hI=function(){function e(t){var n=this;cI(this,e),this.treeNodesMap=new Map,this.id=void 0,this.pluginContext=void 0,this.pluginContext=t;var r=this.pluginContext.project.currentDocument;this.id=null==r?void 0:r.id,null==r||r.onMountNode((function(e){var t,r=e.node.parent;if(r){var o=n.getTreeNodeById(r.id);null==o||o.notifyExpandableChanged()}})),null==r||r.onRemoveNode((function(e){var t=e.parent;if(t){var r=n.getTreeNodeById(t.id);null==r||r.notifyExpandableChanged()}}))}return lI(e,[{key:"root",get:function e(){var t;return null!==(t=this.pluginContext.project.currentDocument)&&void 0!==t&&t.focusNode?this.getTreeNode(this.pluginContext.project.currentDocument.focusNode):null}},{key:"setNodeSelected",value:function e(t){var n=this.treeNodesMap.get(t);n&&this.expandAllAncestors(n)}},{key:"getTreeNode",value:function e(t){if(this.treeNodesMap.has(t.id)){var n=this.treeNodesMap.get(t.id);return n.setNode(t),n}var r=new aI(this,t,this.pluginContext);return this.treeNodesMap.set(t.id,r),r}},{key:"getTreeNodeById",value:function e(t){return this.treeNodesMap.get(t)}},{key:"expandAllAncestors",value:function e(t){if(t&&!t.isRoot()){for(var n=[],r=t;!t.isRoot();){var o;if(!(r=null===(o=r)||void 0===o?void 0:o.parent))break;n.unshift(r)}n.forEach((function(e){e.setExpanded(!0)}))}}},{key:"expandAllDecendants",value:function e(t){var n=this;if(t){t.setExpanded(!0);var r=t&&t.children;r&&r.forEach((function(e){n.expandAllDecendants(e)}))}}},{key:"collapseAllDecendants",value:function e(t){var n=this;if(t){t.setExpanded(!1);var r=t&&t.children;r&&r.forEach((function(e){n.collapseAllDecendants(e)}))}}}]),e}();function dI(e){return(dI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bI(r.key),r)}}function mI(e,t,n){return t&&yI(e.prototype,t),n&&yI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bI(e){var t=gI(e,"string");return"symbol"===dI(t)?t:String(t)}function gI(e,t){if("object"!==dI(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==dI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var wI=function(){function e(t){var n,r=this,o,i,a;vI(this,e),this.pluginContext=void 0,this.boards=new Set,this.treeMap=new Map,this.pluginContext=t;var u=this.pluginContext,c=u.event,s=u.project,l=u.canvas;null===(n=l.dragon)||void 0===n||n.onDragstart((function(){a=Date.now()/1e3,r.toVision()})),null===(o=l.activeTracker)||void 0===o||o.onChange((function(e){var t=e.node,n=e.detail,o=r.currentTree;if(o){var i=o.getTreeNode(t);n&&Object(V.K)(n)?i.expand(!0):i.expandParents(),r.boards.forEach((function(e){e.scrollToNode(i,n)}))}})),null===(i=l.dragon)||void 0===i||i.onDragend((function(){var e,t,n=Date.now()/1e3,r=null===(e=s.currentDocument)||void 0===e||null===(t=e.selection)||void 0===t?void 0:t.getNodes();c.emit("outlinePane.dragend",{selected:null==r?void 0:r.map((function(e){var t,n;if(e){var r=null==e||null===(t=e.componentMeta)||void 0===t?void 0:t.npm;return[null==r?void 0:r.package,null==r?void 0:r.componentName].filter((function(e){return!!e})).join("-")||(null==e||null===(n=e.componentMeta)||void 0===n?void 0:n.componentName)}})).join("&"),time:(n-a).toFixed(2)})})),s.onRemoveDocument((function(e){var t=e.id;r.treeMap.delete(t)}))}return mI(e,[{key:"toVision",value:function e(){var t=this.currentTree;if(t){var n,r=null===(n=this.pluginContext.project.getCurrentDocument())||void 0===n?void 0:n.selection;null==r||r.getTopNodes().forEach((function(e){t.getTreeNode(e).setExpanded(!1)}))}}},{key:"addBoard",value:function e(t){this.boards.add(t)}},{key:"removeBoard",value:function e(t){this.boards.delete(t)}},{key:"purge",value:function e(){}},{key:"currentTree",get:function e(){var t=this.pluginContext.project.getCurrentDocument();if(t){var n=t.id;if(this.treeMap.has(n))return this.treeMap.get(n);var r=new hI(this.pluginContext);return this.treeMap.set(n,r),r}return null}}]),e}();function OI(e){return(OI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EI(r.key),r)}}function SI(e,t,n){return t&&jI(e.prototype,t),n&&jI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function EI(e){var t=kI(e,"string");return"symbol"===OI(t)?t:String(t)}function kI(e,t){if("object"!==OI(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==OI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var PI=15,xI=function(){function e(){_I(this,e),this.indentStart=null}return SI(e,[{key:"reset",value:function e(){this.indentStart=null}},{key:"getIndentParent",value:function e(t,n){if(t.target!==n.target||!Object(V.K)(t.detail)||!Object(V.K)(n.detail)||t.source!==n.source||t.detail.index!==n.detail.index||null==n.detail.index)return this.indentStart=null,null;null==this.indentStart&&(this.indentStart=t.event.globalX);var r=n.event.globalX-this.indentStart,o;if(Math.floor(Math.abs(r)/15)<1)return null;this.indentStart=n.event.globalX;var i=r<0?"left":"right",a=n.target,u=n.detail.index,c,s,l;return"left"===i?!a.parent||u<((null===(c=a.children)||void 0===c?void 0:c.size)||0)||a.isSlotNode?null:[a.parent,a.index+1]:0===u?null:(a=null===(s=a.children)||void 0===s?void 0:s.get(u-1))&&a.isContainerNode?[a,null===(l=a.children)||void 0===l?void 0:l.size]:null}}]),e}();function NI(e){return(NI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,AI(r.key),r)}}function RI(e,t,n){return t&&TI(e.prototype,t),n&&TI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function AI(e){var t=LI(e,"string");return"symbol"===NI(t)?t:String(t)}function LI(e,t){if("object"!==NI(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==NI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var MI=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;CI(this,e),this.timer=void 0,this.previous=void 0,this.event=void 0,this.decide=void 0,this.timeout=500,this.decide=t,this.timeout=n}return RI(e,[{key:"focus",value:function e(t,n){var r=this;this.event=n,this.previous!==t&&(this.reset(),this.previous=t,this.timer=setTimeout((function(){r.previous&&r.decide(r.previous,r.event),r.reset()}),this.timeout))}},{key:"tryFocus",value:function e(t){var n;t&&Object(V.K)(t.detail)&&"node"===(null===(n=t.detail.focus)||void 0===n?void 0:n.type)?this.focus(t.detail.focus.node,t.event):this.reset()}},{key:"reset",value:function e(){this.timer&&(clearTimeout(this.timer),this.timer=void 0),this.previous=void 0}}]),e}();function DI(e){return(DI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function II(e,t){return HI(e)||GI(e,t)||VI(e,t)||BI()}function BI(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function VI(e,t){if(e){if("string"==typeof e)return FI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?FI(e,t):void 0}}function FI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GI(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function HI(e){if(Array.isArray(e))return e}function UI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$I(r.key),r)}}function WI(e,t,n){return t&&zI(e.prototype,t),n&&zI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $I(e){var t=KI(e,"string");return"symbol"===DI(t)?t:String(t)}function KI(e,t){if("object"!==DI(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==DI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var XI=function(){function e(t,n,r){var o=this;UI(this,e),this.pluginContext=void 0,this.treeMaster=void 0,this.id=Object(V.cb)("outline"),this.indentTrack=new xI,this._sensorAvailable=!1,this.dwell=new MI((function(e,t){var n=o.pluginContext,r=n.canvas,i,a=n.project.getCurrentDocument(),u,c,s=!0;e.hasSlots()?(u=null,c={type:"slots"}):(u=0,s=!(null==a||!a.checkNesting(e,t.dragObject))),r.createLocation({target:e,source:o.id,event:t,detail:{type:F.k.Children,index:u,focus:c,valid:s}})})),this.at=void 0,this.tryScrollAgain=null,this.sensing=!1,this._scrollTarget=void 0,this.scroller=void 0,this._shell=null,this.pluginContext=n,this.treeMaster=r,this.at=t;var i=!1,a;(function e(){var t,n;if(i)return!1;i=!0,null===(t=o.treeMaster)||void 0===t||t.addBoard(o);var r=o.pluginContext.canvas;null===(n=r.dragon)||void 0===n||n.addSensor(o),o.scroller=r.createScroller(o)})()}return WI(e,[{key:"sensorAvailable",get:function e(){return this._sensorAvailable}},{key:"bounds",get:function e(){return this._shell?this._shell.getBoundingClientRect():null}},{key:"scrollTarget",get:function e(){return this._scrollTarget}},{key:"fixEvent",value:function e(t){var n;if(t.fixed)return t;var r=(null===(n=t.originalEvent.view)||void 0===n?void 0:n.document)!==document;return t.target&&!r||(t.target=document.elementFromPoint(t.canvasX,t.canvasY)),t.documentModel=this.pluginContext.project.getCurrentDocument(),t.fixed=!0,t}},{key:"locate",value:function e(t){var n,r,o,i;this.sensing=!0,null===(n=this.scroller)||void 0===n||n.scrolling(t);var a=t.globalY,u=t.dragObject,c=null==u?void 0:u.nodes,s=null===(r=this.treeMaster)||void 0===r?void 0:r.currentTree;if(!s||!s.root||!this._shell)return null;var l=null==c?void 0:c.filter((function(e){var t,n,r=null===(t=e.componentMeta)||void 0===t||null===(n=t.advanced.callbacks)||void 0===n?void 0:n.onMoveHook,o;return!r||"function"!=typeof r||r(e)}));if(!Object(V.C)(u)||l&&0!==l.length){var f=this.pluginContext,p=f.project,h=f.canvas,d=p.getCurrentDocument(),v=YI(t,this._shell),y=this.getInsertionRect(),m=null==d?void 0:d.dropLocation,b=null!==(o=t.dragObject)&&void 0!==o&&o.nodes?t.dragObject.nodes[0].componentMeta:null;if("node"===(null===(i=t.dragObject)||void 0===i?void 0:i.type)&&b&&b.isModal&&null!=d&&d.focusNode)return h.createLocation({target:null==d?void 0:d.focusNode,detail:{type:F.k.Children,index:0,valid:!0},source:this.id,event:t});if(!(m&&(v&&"unchanged"===v||y&&a>=y.top&&a<=y.bottom)&&u)){if(this.indentTrack.reset(),v&&"unchanged"!==v){var g=s.getTreeNodeById(v.nodeId);if(g){var w=v.focusSlots,O,_=g.node;if(Object(V.C)(u)){for(var j=l,S=j.length,E=_;S-- >0;)j[S].contains(E)&&(E=j[S].parent);E!==_&&(_=E||(null==d?void 0:d.focusNode),g=s.getTreeNode(_),w=!1)}if(w)return this.dwell.reset(),h.createLocation({target:_,source:this.id,event:t,detail:{type:F.k.Children,index:null,valid:!1,focus:{type:"slots"}}});if(!g.isRoot()){var k=this.getNear(g,t);return this.dwell.tryFocus(k),k}}}var P=this.drillLocate(s.root,t);return this.dwell.tryFocus(P),P}var x=m.clone(t),N=this.indentTrack.getIndentParent(m,x);if(N){var C=II(N,2),T=C[0],R=C[1];if(qI(T,u)){if(s.getTreeNode(T).expanded)return this.dwell.reset(),h.createLocation({target:T,source:this.id,event:t,detail:{type:F.k.Children,index:R,valid:null==d?void 0:d.checkNesting(T,t.dragObject)}});m.detail.focus={type:"node",node:T},this.dwell.focus(T,t)}else this.dwell.reset()}else m.detail.near&&(m.detail.near=void 0,this.dwell.reset())}}},{key:"isEnter",value:function e(t){if(!this._shell)return!1;var n=this._shell.getBoundingClientRect();return t.globalY>=n.top&&t.globalY<=n.bottom&&t.globalX>=n.left&&t.globalX<=n.right}},{key:"deactiveSensor",value:function e(){var t;this.sensing=!1,null===(t=this.scroller)||void 0===t||t.cancel(),this.dwell.reset(),this.indentTrack.reset()}},{key:"scrollToNode",value:function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i;if(o<1&&this.tryScrollAgain&&(Object(AE.cancelIdleCallback)(this.tryScrollAgain),this.tryScrollAgain=null),this.bounds&&this.scroller&&this.scrollTarget)if(i=n&&Object(V.K)(n)?this.getInsertionRect():this.getTreeNodeRect(t)){var a=this.scrollTarget,u=a.scrollHeight,c=a.top,s=this.bounds,l=s.height,f=s.top,p=s.bottom;if(i.top<f||i.bottom>p){var h={};h.top=Math.min(i.top+i.height/2+c-f-l/2,u-l),i.height>=l&&(h.top=Math.min(c+i.top-f,h.top)),this.scroller.scrollTo(h)}o<4&&(this.tryScrollAgain=LE()((function(){return r.scrollToNode(t,n,4)})))}else o<3&&(this.tryScrollAgain=LE()((function(){return r.scrollToNode(t,n,o+1)})))}},{key:"getNear",value:function e(t,n,r,o){var i=this.pluginContext,a=i.canvas,u,c=i.project.getCurrentDocument(),s=n.globalY,l=n.dragObject;if(!l)return null;var f=t.node,p=t.expanded,h=o;if(!h&&!(h=this.getTreeNodeRect(t)))return null;var d=r,v;if(null==d&&(d=f.index),f.isSlotNode){if(!t.isContainer()&&!t.hasSlots())return a.createLocation({target:f.parent,source:this.id,event:n,detail:{type:F.k.Children,index:null,near:{node:f,pos:"replace"},valid:!0}});var y=this.drillLocate(t,n);return y||a.createLocation({target:f.parent,source:this.id,event:n,detail:{type:F.k.Children,index:null,valid:!1,focus:{type:"slots"}}})}p||!t.isContainer()&&!t.hasSlots()||(v=f);var m=this.getTreeTitleRect(t)||h;if(s<m.top+m.height/2)return a.createLocation({target:f.parent,source:this.id,event:n,detail:{type:F.k.Children,index:d,valid:null==c?void 0:c.checkNesting(f.parent,l),near:{node:f,pos:"before"},focus:qI(v,l)?{type:"node",node:v}:void 0}});if(s>m.bottom&&(v=void 0),p){var b=this.drillLocate(t,n);if(b)return b}return a.createLocation({target:f.parent,source:this.id,event:n,detail:{type:F.k.Children,index:d+1,valid:null==c?void 0:c.checkNesting(f.parent,l),near:{node:f,pos:"after"},focus:qI(v,l)?{type:"node",node:v}:void 0}})}},{key:"drillLocate",value:function e(t,n){var r=this.pluginContext,o=r.canvas,i,a=r.project.getCurrentDocument(),u=n.dragObject,c=n.globalY;if(!u)return null;if(!qI(t.node,u))return null;if(Object(V.A)(u))return null;var s=t.node,l={type:F.k.Children},f={target:s,detail:l,source:this.id,event:n},p=t.hasSlots(),h=t.isContainer();s.isSlot&&!t.expanded&&(p?(l.index=null,l.focus={type:"slots"},l.valid=!1):(l.index=0,l.valid=null==a?void 0:a.checkNesting(s,u)));var d=null,v,y=!1;if(p&&(v=this.getTreeSlotsRect(t)))if(c<=v.bottom)y=!0,d=t.slots;else if(!h)return l.index=null,l.focus={type:"slots"},l.valid=!1,o.createLocation(f);if(!d&&h&&(d=t.children),!d)return null;for(var m=d.length,b=0,g=m<1,w,O=b;b<m;b++){w=d[b],O=b;var _=this.getTreeNodeRect(w);if(_){if(c<_.top){g=!0;break}if(!(c>_.bottom)){var j=this.getNear(w,n,b,_);if(j)return j}}}return y?(l.focus={type:"slots"},l.valid=!1,l.index=null):(w?(l.index=g?O:O+1,l.near={node:w.node,pos:g?"before":"after"}):l.index=m,l.valid=null==a?void 0:a.checkNesting(s,u)),o.createLocation(f)}},{key:"purge",value:function e(){var t,n,r;null===(t=this.pluginContext.canvas.dragon)||void 0===t||t.removeSensor(this),null===(n=this.treeMaster)||void 0===n||n.removeBoard(this)}},{key:"mount",value:function e(t){var n=this;if(this._shell!==t){this._shell=t;var r=this.pluginContext,o=r.canvas,i=r.project;if(t){var a,u;this._scrollTarget=o.createScrollTarget(t),this._sensorAvailable=!0;var c=null===(a=i.currentDocument)||void 0===a?void 0:a.selection,s=null==c?void 0:c.getTopNodes(!0),l=null===(u=this.treeMaster)||void 0===u?void 0:u.currentTree;if(s&&s[0]&&l){var f=l.getTreeNodeById(s[0].id);f&&setTimeout((function(){l.setNodeSelected(f.id),n.scrollToNode(f,null,4)}),0)}}else this._scrollTarget=void 0,this._sensorAvailable=!1}}},{key:"getInsertionRect",value:function e(){var t;if(this._shell)return null===(t=this._shell.querySelector(".insertion"))||void 0===t?void 0:t.getBoundingClientRect()}},{key:"getTreeNodeRect",value:function e(t){var n;if(this._shell)return null===(n=this._shell.querySelector('.tree-node[data-id="'.concat(t.id,'"]')))||void 0===n?void 0:n.getBoundingClientRect()}},{key:"getTreeTitleRect",value:function e(t){var n;if(this._shell)return null===(n=this._shell.querySelector('.tree-node-title[data-id="'.concat(t.id,'"]')))||void 0===n?void 0:n.getBoundingClientRect()}},{key:"getTreeSlotsRect",value:function e(t){var n;if(this._shell)return null===(n=this._shell.querySelector('.tree-node-slots[data-id="'.concat(t.id,'"]')))||void 0===n?void 0:n.getBoundingClientRect()}}]),e}();function qI(e,t){if(!e)return!1;var n;if(Object(V.C)(t)&&t.nodes.some((function(t){return t.contains(e)})))return!1;return!0}function YI(e,t){var n=e.target;if(!n||!t.contains(n))return null;if(n.matches(".insertion"))return"unchanged";var r=n.closest("[data-id]");if(!r||!t.contains(r))return null;var o=r.dataset.id;return{focusSlots:r.matches(".tree-node-slots"),nodeId:o}}function JI(e){return(JI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ZI(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ZI=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(k([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==JI(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=_(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function QI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QI(Object(n),!0).forEach((function(t){tB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tB(e,t,n){return(t=nB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nB(e){var t=rB(e,"string");return"symbol"===JI(t)?t:String(t)}function rB(e,t){if("object"!==JI(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==JI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function oB(){return(oB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function iB(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function aB(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){iB(i,r,o,a,u,"next",e)}function u(e){iB(i,r,o,a,u,"throw",e)}a(void 0)}))}}var uB=function e(t,n){var r=t.skeleton,o=t.config,i=t.common,a=t.event,u=t.canvas,c=t.project,s=i.utils.createIntl({"en-US":YD,"zh-CN":JD}),l=s.intl,f=s.intlNode,p=s.getLocale;t.intl=l,t.intlNode=f,t.getLocale=p,t.extraTitle=n&&n.extraTitle;var h=!0,d;o.getPreference().contains("outline-pane-pinned-status-isFloat","skeleton")&&(h=o.getPreference().get("outline-pane-pinned-status-isFloat","skeleton"));var v={masterPane:!1,backupPane:!1},y=new wI(t),m=null,b=null;return{init:function e(){return aB(ZI().mark((function e(){var n,i,a;return ZI().wrap((function e(s){for(;;)switch(s.prev=s.next){case 0:r.add({area:"leftArea",name:"outlinePane",type:"PanelDock",index:-1,content:{name:QD,props:{icon:qD,description:f("Outline Tree")},content:function e(n){return m=new XI(QD,t,y),React.createElement(KD,oB({config:o,pluginContext:t,treeMaster:y,controller:m},n))}},panelProps:eB({area:h?"leftFloatArea":"leftFixedArea",keepVisibleWhileDragging:!0},o.get("defaultOutlinePaneProps")),contentProps:{treeTitleExtra:o.get("treeTitleExtra")}}),r.add({area:"rightArea",name:ZD,type:"Panel",props:{hiddenWhenInit:!0},content:function e(n){return b=new XI(ZD,t,y),React.createElement(KD,oB({pluginContext:t,treeMaster:y,controller:b},n))}}),a=function e(){var t,n=null===(t=u.dragon)||void 0===t?void 0:t.dragging,o=v.backupPane||v.masterPane,i;n&&!o?r.showPanel(ZD):r.hidePanel(ZD)},null===(n=u.dragon)||void 0===n||n.onDragstart((function(){a()})),null===(i=u.dragon)||void 0===i||i.onDragend((function(){a()})),r.onShowPanel((function(e){e===QD&&(v.masterPane=!0),e===ZD&&(v.backupPane=!0)})),r.onHidePanel((function(e){e===QD&&(v.masterPane=!1,a()),e===ZD&&(v.backupPane=!1)})),c.onChangeDocument((function(e){if(e){var t=e.selection;null==t||t.onSelectionChange((function(){var e=null==t?void 0:t.getNodes();if(e&&0!==e.length){var n=y.currentTree;e.forEach((function(e){var t=null==n?void 0:n.getTreeNodeById(e.id);null==n||n.expandAllAncestors(t)}))}}))}}));case 8:case"end":return s.stop()}}),e)})))()}}};function cB(e){return(cB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sB(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */sB=function t(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function e(t,n,r){return t[n]=r}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(k([])));m&&m!==t&&n.call(m,i)&&(v=m);var b=d.prototype=p.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,u){var c=l(e[r],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==cB(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,u)}),(function(e){o("throw",e,a,u)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function e(n,r){function a(){return new t((function(e,t){o(n,r,e,t)}))}return i=i?i.then(a,a):a()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=_(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,r(b,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,E.prototype={constructor:E,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function o(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function e(t,r){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=r,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function lB(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function fB(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){lB(i,r,o,a,u,"next",e)}function u(e){lB(i,r,o,a,u,"throw",e)}a(void 0)}))}}function pB(e,t,n){return hB.apply(this,arguments)}function hB(){return(hB=fB(sB().mark((function e(t,n,r){return sB().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,r.register(uB,{},{autoInit:!0});case 2:return o.next=4,r.register(KA(t));case 4:return o.next=6,r.register(XA,{});case 6:return o.next=8,r.register(dL(n));case 8:return o.next=10,r.register(CL);case 10:return o.next=12,r.register(Lp,{},{autoInit:!0});case 12:case"end":return o.stop()}}),e)})))).apply(this,arguments)}uB.meta={eventPrefix:"OutlinePlugin",preferenceDeclaration:{title:"\u5927\u7eb2\u6811\u63d2\u4ef6\u914d\u7f6e",properties:[{key:"extraTitle",type:"object",description:"\u526f\u6807\u9898"}]}},uB.pluginName="OutlinePlugin";var dB=new RC(pB,jL),vB=new qd(dB),yB=new a.Editor;a.globalContext.register(yB,a.Editor),a.globalContext.register(yB,"editor"),a.globalContext.register(dB,"workspace");var mB=new Vc(yB);yB.set("skeleton",mB);var bB=new GP({editor:yB,shellModelFactory:jL});yB.set("designer",bB);var gB=bB.project,wB=new a.Hotkey,OB=new lh(wB),_B=new od(gB),jB=new Cd(mB,"any",!1),SB=new a.Setters,EB=new hd(SB),kB=new Rh(yB);yB.set("project",_B),yB.set("setters",EB),yB.set("material",kB),yB.set("innerHotkey",wB);var PB=a.engineConfig,xB=new th(a.commonEvent,{prefix:"common"}),NB=new bh({level:"warn",bizName:"common"}),CB=new $p(yB,mB),TB=new Hd(yB),RB,AB,LB=new aN({assembleApis:function e(t,n,r){t.hotkey=OB,t.project=_B,t.skeleton=new Cd(mB,n,!1),t.setters=EB,t.material=kB;var o=(null==r?void 0:r.eventPrefix)||"common";t.event=new th(a.commonEvent,{prefix:o}),t.config=PB,t.common=CB,t.canvas=TB,t.plugins=RB,t.logger=new bh({level:"warn",bizName:"plugin:".concat(n)})}});RB=new Uh(LB).toProxy(),yB.set("innerPlugins",LB),yB.set("plugins",RB);var MB=!0,DB={symbols:$A,classes:WA},IB;a.engineConfig.set("isOpenSource",MB);var BB="N/A";function VB(e,t,n){return FB.apply(this,arguments)}function FB(){return(FB=fB(sB().mark((function e(t,n,o){var u,c;return sB().wrap((function e(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,GB();case 2:return u=null,Object(V.P)(t)?(u=t,(IB=document.createElement("div")).id="engine",document.body.appendChild(IB)):(u=n,IB=t,t||((IB=document.createElement("div")).id="engine",document.body.appendChild(IB))),a.engineConfig.setEngineOptions(u),s.next=7,RB.init(o);case 7:if(c=CB.skeletonCabin.Workbench,!n||!n.enableWorkspaceMode){s.next=15;break}return Object(i.render)(Object(r.createElement)(FA,{workspace:dB,className:"engine-main",topAreaItemClassName:"engine-actionitem"}),IB),dB.setActive(!0),wB.activate(!1),s.next=14,dB.plugins.init(o);case 14:return s.abrupt("return");case 15:Object(i.render)(Object(r.createElement)(c,{skeleton:mB,className:"engine-main",topAreaItemClassName:"engine-actionitem"}),IB);case 16:case"end":return s.stop()}}),e)})))).apply(this,arguments)}function GB(){return HB.apply(this,arguments)}function HB(){return(HB=fB(sB().mark((function e(){var t;return sB().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:t=_B.documents,Array.isArray(t)&&t.length>0&&t.forEach((function(e){return _B.removeDocument(e)})),IB&&Object(i.unmountComponentAtNode)(IB);case 3:case"end":return n.stop()}}),e)})))).apply(this,arguments)}a.engineConfig.set("ENGINE_VERSION",BB),pB(bB,yB,RB),console.log("%c AliLowCodeEngine %c v".concat(BB," "),"padding: 2px 1px; border-radius: 3px 0 0 3px; color: #fff; background: #606060; font-weight: bold;","padding: 2px 1px; border-radius: 0 3px 3px 0; color: #fff; background: #42c02e; font-weight: bold;")}])}));
//# sourceMappingURL=engine-core.js.map